(self.webpackChunksen_assets=self.webpackChunksen_assets||[]).push([[661],{19888:function(e,t,n){"use strict";n.r(t),n.d(t,{Page:function(){return mn},Widget:function(){return gn},widgetConfig:function(){return wn}});var r=n(55754),s=n(49142),a=n(78589),c=n(15861),i=n(29439),o=n(87757),u=n.n(o),d=n(92950),l=n(95418),f=n(97940),p=function(e){var t=(0,s.useMint)().tokenProvider,n=(0,s.usePool)().pools,r=(0,d.useState)([]),a=(0,i.Z)(r,2),o=a[0],l=a[1],f=(0,d.useCallback)((0,c.Z)(u().mark((function r(){var s,a,c,i,o,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",l([void 0]));case 2:return r.next=4,t.findByAddress(e);case 4:if(!(s=r.sent)){r.next=7;break}return r.abrupt("return",l([s]));case 7:if(a=Object.values(n).find((function(t){return t.mint_lpt===e}))){r.next=10;break}return r.abrupt("return",l([void 0]));case 10:return c=a.mint_a,i=a.mint_b,r.next=13,t.findByAddress(c);case 13:return o=r.sent,r.next=16,t.findByAddress(i);case 16:return d=r.sent,r.abrupt("return",l([o,d]));case 18:case"end":return r.stop()}}),r)}))),[e,n,t]);return(0,d.useEffect)((function(){f()}),[f]),o},h=n(45263),x=function(e){var t=e.mintAddress,n=e.size,r=void 0===n?24:n,s=e.icon,c=void 0===s?(0,h.jsx)(f.Z,{name:"diamond-outline"}):s,i=p(t);return(0,h.jsx)(a.Avatar.Group,{style:{display:"block"},children:i.map((function(e,t){return(0,h.jsx)(a.Avatar,{src:null===e||void 0===e?void 0:e.logoURI,size:r,style:{backgroundColor:"#2D3355",border:"none"},children:c},(null===e||void 0===e?void 0:e.address)||t)}))})},v=n(34559),m=function(e){var t=e.mintAddress,n=p(t),r=(0,d.useMemo)((function(){var e=n.map((function(e){if(!e)return(0,v.Xn)(t);var r=e.name,s=e.address,a=e.symbol;return 1===n.length&&r?r:a||(0,v.Xn)(s)})).join(" / ");return 1===n.length?e:"".concat(e," LPT")}),[t,n]);return(0,h.jsx)("span",{children:r})},w=function(e){var t=e.mintAddress,n=p(t),r=(0,d.useMemo)((function(){return n.map((function(e){return e?e.symbol:"UNKN"})).join(" / ")}),[n]);return(0,h.jsx)("span",{children:r})},g=n(35105),y={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},j=function(e){var t=(0,d.useState)(y),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,s.useMint)().tokenProvider,l=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n,r,s,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.findByAddress(e);case 3:return r=t.sent,s=null===r||void 0===r||null===(n=r.extensions)||void 0===n?void 0:n.coingeckoId,t.next=7,(0,g.l)(s);case 7:return c=t.sent,t.abrupt("return",a(c));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",a(y));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[e,o]);return(0,d.useEffect)((function(){l()}),[l]),r},k=n(1413),b={up:"#14E041",down:"#D72311",default:"#FFC580"},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=Object.assign((0,k.Z)({},b),t);return e<0?n.down:e>0?n.up:n.default},A=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,s=e.configs,a=j(t),c=T(null===a||void 0===a?void 0:a.priceChange,s);return(0,h.jsxs)("span",{style:{color:r?c:"inherit"},children:[(0,v.uR)(Math.abs(null===a||void 0===a?void 0:a.priceChange)).format("0.[0]"),"%"]})},C=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,s=e.configs,a=j(t),c=T(null===a||void 0===a?void 0:a.priceChange,s),i="remove-outline";return(null===a||void 0===a?void 0:a.priceChange)<0&&(i="arrow-down-outline"),(null===a||void 0===a?void 0:a.priceChange)>0&&(i="arrow-up-outline"),(0,h.jsx)("span",{style:{color:r?c:"inherit"},children:(0,h.jsx)(f.Z,{name:i})})},S=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,s=e.configs,a=j(t),c=T(null===a||void 0===a?void 0:a.priceChange,s);return(0,h.jsx)("span",{style:{color:r?c:"inherit"},children:null!==a&&void 0!==a&&a.price?"$".concat((0,v.uR)(null===a||void 0===a?void 0:a.price).format("0,0.[00]")):"--"})},Z=function(e){var t=(0,d.useState)(0),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,s.useMint)(),l=o.tokenProvider,f=o.getMint,p=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",a(0));case 2:return t.next=4,l.findByAddress(e);case 4:if(!(n=t.sent)){t.next=7;break}return t.abrupt("return",a(n.decimals));case 7:return t.prev=7,t.next=10,f({address:e});case 10:return r=t.sent,t.abrupt("return",a(r[e].decimals));case 14:t.prev=14,t.t0=t.catch(7);case 16:return t.abrupt("return",a(0));case 17:case"end":return t.stop()}}),t,null,[[7,14]])}))),[f,e,l]);return(0,d.useEffect)((function(){p()}),[p]),r},I=function(e){var t=e.accountAddr,n=e.inUSD,r=void 0!==n&&n,a=e.autoHidden,c=void 0!==a&&a,i=e.format,o=void 0===i?"0,0.[00]":i,u=(0,s.useAccount)().accounts[t],f=u.amount,p=u.mint,x=Z(p),m=j(p),w=(0,d.useMemo)((function(){var e=Number(l.utils.undecimalize(f,x));return r&&(e=Number(e)*m.price),(r?"$":"")+(0,v.uR)(e).format(o)}),[f,m.price,x,o,r]);return c&&!m.price?(0,h.jsx)("span",{children:"--"}):(0,h.jsx)("span",{children:w})},D=function(e){var t=e.accountAddr,n=e.active,r=void 0!==n&&n,c=e.onClick,i=void 0===c?function(){}:c,o=(0,s.useAccount)().accounts[t].mint;return(0,h.jsx)(a.Card,{className:"account-item",bodyStyle:{padding:12},style:{border:"1px solid ".concat(r?"#F9575E":"transparent"),borderRadius:8},bordered:!1,hoverable:!0,onClick:function(){return i(t)},children:(0,h.jsxs)(a.Row,{children:[(0,h.jsx)(a.Col,{span:12,children:(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(x,{mintAddress:o,size:32}),(0,h.jsxs)(a.Space,{direction:"vertical",size:0,children:[(0,h.jsx)(a.Typography.Text,{children:(0,h.jsx)(w,{mintAddress:o})}),(0,h.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(m,{mintAddress:o})})]})]})}),(0,h.jsx)(a.Col,{flex:"auto",style:{height:"100%"},children:(0,h.jsxs)(a.Space,{direction:"vertical",size:0,align:"start",children:[(0,h.jsx)(a.Typography.Text,{children:(0,h.jsx)(I,{accountAddr:t})}),(0,h.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(I,{accountAddr:t,inUSD:!0,autoHidden:!0})})]})}),(0,h.jsx)(a.Col,{children:(0,h.jsxs)(a.Space,{direction:"vertical",size:0,align:"end",children:[(0,h.jsx)(a.Typography.Text,{children:(0,h.jsxs)(a.Space,{size:2,children:[(0,h.jsx)(C,{mintAddress:o,colorized:!0}),(0,h.jsx)(A,{mintAddress:o,colorized:!0})]})}),(0,h.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(S,{mintAddress:o})})]})})]})})},E=function(e){var t=e.onChange,n=(0,r.useSelector)((function(e){return e.settings})),o=n.hiddenZeros,l=n.hiddenUnknownTokens,p=(0,d.useState)(""),x=(0,i.Z)(p,2),v=x[0],m=x[1],w=(0,s.useAccount)().accounts,g=(0,s.useMint)().tokenProvider,y=(0,s.usePool)().pools,j=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mint,t.amount||!o){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,g.findByAddress(n);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:r=0,s=Object.values(y);case 9:if(!(r<s.length)){e.next=16;break}if(s[r].mint_lpt!==n){e.next=13;break}return e.abrupt("return",!0);case 13:r++,e.next=9;break;case 16:return e.abrupt("return",!l);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,o,y,g]),k=(0,d.useCallback)((0,c.Z)(u().mark((function e(){var n,r,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=u().keys(w);case 2:if((e.t1=e.t0()).done){e.next=18;break}if(r=e.t1.value,s=w[r],!(v&&v.length>2)){e.next=12;break}return e.next=8,g.find(v);case 8:if(a=e.sent,a.map((function(e){return e.address})).includes(s.mint)){e.next=12;break}return e.abrupt("continue",2);case 12:return e.next=14,j(s);case 14:e.sent&&(n[r]=s),e.next=2;break;case 18:return e.abrupt("return",t(n));case 19:case"end":return e.stop()}}),e)}))),[w,v,t,g,j]);return(0,d.useEffect)((function(){k()}),[k]),(0,h.jsx)(a.Row,{gutter:[16,16],children:(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Input,{placeholder:"Search",value:v,size:"large",style:{background:"transparent"},prefix:(0,h.jsx)(a.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:v?function(){return m("")}:function(){},icon:(0,h.jsx)(f.Z,{name:v?"close-outline":"search-outline"})}),onChange:function(e){return m(e.target.value)}})})})},R=n(36498),W=n(19289),P="account",N=(0,W.createAsyncThunk)("".concat(P,"/selectAccount"),function(){var e=(0,c.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,e.abrupt("return",{accountSelected:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=(0,W.createSlice)({name:P,initialState:{accountSelected:""},reducers:{},extraReducers:function(e){e.addCase(N.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,B=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.active,o=void 0!==r&&r,p=(0,d.useState)(),x=(0,i.Z)(p,2),m=x[0],w=x[1],y=(0,s.useWallet)().wallet.lamports,j=l.utils.undecimalize(y,9);return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.l)("solana");case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,h.jsx)(a.Card,{style:{border:"1px solid ".concat(o?"#F9575E":"transparent"),borderRadius:8},bodyStyle:{padding:"8px 12px",cursor:"pointer"},onClick:function(){return n(l.DEFAULT_EMPTY_ADDRESS)},bordered:!1,hoverable:!0,children:(0,h.jsxs)(a.Row,{gutter:[12,8],align:"middle",wrap:!1,children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsxs)(a.Space,{style:{whiteSpace:"nowrap"},children:[(0,h.jsx)(a.Avatar,{src:null===m||void 0===m?void 0:m.icon,size:22,children:(0,h.jsx)(f.Z,{name:"diamond-outline"})}),(0,h.jsxs)(a.Tooltip,{title:"".concat(j," SOL"),children:[(0,h.jsxs)(a.Typography.Text,{children:[(0,v.uR)(j).format("0,0.[00]")," "]}),(0,h.jsx)(a.Typography.Text,{type:"secondary",children:"SOL"})]}),(0,h.jsx)(a.Divider,{type:"vertical",style:{margin:0}}),(0,h.jsxs)(a.Typography.Text,{children:["$",(0,v.uR)(null===m||void 0===m?void 0:m.price).format("0,0.[000]")]})]})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(A,{mintAddress:l.DEFAULT_EMPTY_ADDRESS,colorized:!0})})]})})},O=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.account})).accountSelected,n=(0,d.useState)([]),o=(0,i.Z)(n,2),f=o[0],p=o[1],x=(0,s.useMint)().tokenProvider,v=t===l.DEFAULT_EMPTY_ADDRESS,m=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=[],e.t0=u().keys(t);case 3:if((e.t1=e.t0()).done){e.next=15;break}return s=e.t1.value,a=t[s],e.next=8,x.findByAddress(a.mint);case 8:if(!(c=e.sent)){e.next=12;break}return"SEN"===c.symbol?r.push(s):n.unshift(s),e.abrupt("continue",3);case 12:n.push(s),e.next=3;break;case 15:return e.abrupt("return",p([].concat(r,n)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]);return(0,d.useEffect)((function(){t||e(N({account:l.DEFAULT_EMPTY_ADDRESS}))}),[t,e,f]),(0,h.jsxs)(a.Row,{gutter:[12,12],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(E,{onChange:m})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(B,{active:v,onClick:function(t){return e(N({account:t}))}})}),f.map((function(n){return(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(R.ZP,{height:64,overflow:!0,children:(0,h.jsx)(D,{accountAddr:n,active:t===n,onClick:function(t){return e(N({account:t}))}})})},n)}))]})};var M,L,U=n.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",F=function(e){var t=e.spacing,n=void 0===t?4:t,r=e.iconSize,s=void 0===r?20:r;return(0,h.jsxs)(a.Space,{size:n,children:[(0,h.jsx)(a.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:"Powered by"}),(0,h.jsx)(a.Avatar,{src:U,size:s})]})},_=function(e){var t=e.mint,n=t.logoURI,r=t.symbol,o=t.name,p=t.address,x=(0,d.useState)(!1),m=(0,i.Z)(x,2),w=m[0],g=m[1],y=(0,s.useWallet)().wallet.address,j=(0,s.useAccount)().accounts,k=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.sentre,n=t.splt,s=t.wallet,!w&&l.account.isAddress(y)&&l.account.isAddress(p)&&s){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,n.initializeAccount(p,y,s);case 6:return a=e.sent,c=a.txId,e.abrupt("return",window.notify({type:"success",description:"Import ".concat(r," successfully. Click to view details."),onClick:function(){return window.open((0,v.kU)(c),"_blank")}}));case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",window.notify({type:"error",description:e.t0.message}));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.splt,e.next=3,t.deriveAssociatedAddress(y,p);case 3:return n=e.sent,e.abrupt("return",g(Object.keys(j).includes(n)));case 5:case"end":return e.stop()}}),e)})))()}),[j,p,y]),(0,h.jsx)(a.Card,{className:"account-item",bodyStyle:{padding:16},bordered:!1,children:(0,h.jsxs)(a.Row,{gutter:[16,16],wrap:!1,children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(a.Avatar,{src:n}),(0,h.jsx)(a.Typography.Text,{type:"secondary",children:r}),(0,h.jsx)(a.Typography.Text,{children:o})]})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(a.Button,{type:"text",style:{color:w?"#3DBA4E":"inherit"},icon:(0,h.jsx)(f.Z,{name:w?"checkmark-outline":"add-outline"}),onClick:k})})]})})},q=function(e){var t=e.onChange,n=(0,d.useState)(""),r=(0,i.Z)(n,2),o=r[0],l=r[1],p=(0,s.useMint)().tokenProvider;return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&!(o.length<3)){e.next=2;break}return e.abrupt("return",t(null));case 2:return e.next=4,p.find(o);case 4:return n=e.sent,e.abrupt("return",t(n));case 6:case"end":return e.stop()}}),e)})))()}),[o,t,p]),(0,h.jsx)(a.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,h.jsx)(a.Input,{placeholder:"Search",value:o,size:"small",bordered:!1,prefix:(0,h.jsx)(a.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:o?function(){return l("")}:function(){},icon:(0,h.jsx)(f.Z,{name:o?"close-outline":"search-outline"})}),suffix:(0,h.jsx)(F,{}),onChange:function(e){return l(e.target.value)}})})},Y=function(){var e=(0,d.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],o=(0,d.useState)(),l=(0,i.Z)(o,2),p=l[0],x=l[1],v=(0,d.useState)(),m=(0,i.Z)(v,2),w=m[0],g=m[1],y=(0,s.useMint)().tokenProvider;return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.all();case 2:return t=e.sent,e.abrupt("return",x(t));case 4:case"end":return e.stop()}}),e)})))()}),[y]),(0,h.jsxs)(a.Row,{gutter:[16,16],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Button,{type:"primary",icon:(0,h.jsx)(f.Z,{name:"add-outline"}),onClick:function(){return r(!0)},block:!0,children:"Import token"})}),(0,h.jsx)(a.Modal,{visible:n,onCancel:function(){return r(!1)},closeIcon:(0,h.jsx)(f.Z,{name:"close-outline"}),footer:null,centered:!0,destroyOnClose:!0,children:(0,h.jsxs)(a.Row,{gutter:[16,16],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Typography.Title,{level:5,children:"Token Selection"})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(q,{onChange:g})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Row,{gutter:[16,16],style:{height:300,overflow:"auto"},children:(w||p||[]).map((function(e,t){return(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(R.ZP,{height:64,overflow:!0,children:(0,h.jsx)(_,{mint:e})})},t)}))})})]})})]})},H="settings",Q=(0,W.createAsyncThunk)("".concat(H,"/setHiddenZeros"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,s=n.getState,a=s(),c=a.settings,e.abrupt("return",(0,k.Z)((0,k.Z)({},c),{},{hiddenZeros:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),X=(0,W.createAsyncThunk)("".concat(H,"/setHiddenUnknownTokens"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,s=n.getState,a=s(),c=a.settings,e.abrupt("return",(0,k.Z)((0,k.Z)({},c),{},{hiddenUnknownTokens:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),V=(0,W.createSlice)({name:H,initialState:{hiddenZeros:!1,hiddenUnknownTokens:!0},reducers:{},extraReducers:function(e){e.addCase(Q.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(X.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,G=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.settings})),n=t.hiddenZeros,s=t.hiddenUnknownTokens;return(0,h.jsx)(a.Popover,{zIndex:1e3,content:(0,h.jsxs)(a.Row,{gutter:[8,8],style:{maxWidth:224},children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Space,{size:"large",children:[(0,h.jsx)(a.Switch,{size:"small",checked:n,onChange:function(t){return e(Q({checked:t}))}}),(0,h.jsx)(a.Typography.Text,{children:"Hide zero balances"})]})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Space,{size:"large",children:[(0,h.jsx)(a.Switch,{size:"small",checked:s,onChange:function(t){return e(X({checked:t}))}}),(0,h.jsx)(a.Typography.Text,{children:"Hide unknown tokens"})]})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(Y,{})})]}),trigger:"click",placement:"topRight",children:(0,h.jsx)(a.Button,{type:"text",shape:"circle",style:{minWidth:"unset",width:"auto"},icon:(0,h.jsx)(f.Z,{name:"cog-outline"})})})},J=function(){return(0,h.jsx)(a.Card,{className:"card-page card-sen-assets",bordered:!1,children:(0,h.jsxs)(a.Row,{gutter:[24,24],align:"middle",children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsx)(a.Typography.Title,{level:4,children:"Sen Assets"})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(G,{})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(O,{})})]})})},K=n(38288),$=n.n(K),ee=n(51518),te=n.n(ee),ne=function(e){var t=e.name,n=e.color,r=void 0===n?"#BEC4EC":n,s=e.onClick,a=void 0===s?function(){}:s;return(0,h.jsx)("span",{onClick:a,style:{cursor:"pointer",color:r},children:(0,h.jsx)(f.Z,{name:t})})},re=function(e){var t=e.address;return(0,h.jsx)(a.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,h.jsx)($(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,h.jsx)(ne,{name:"qr-code-outline"})})},se=function(){var e=(0,s.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],o=n[1],l=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),setTimeout((function(){o(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(a.Space,{size:10,children:[(0,h.jsx)(a.Typography.Text,{style:{color:"#E9E9EB",cursor:"pointer"},onClick:function(){return window.open((0,v.kU)(e),"_blank")},children:(0,v.Xn)(e,3,"...")}),(0,h.jsx)(a.Tooltip,{title:"Copied",visible:r,children:(0,h.jsx)(te(),{text:e,onCopy:l,children:(0,h.jsx)(ne,{name:"copy-outline",onClick:l})})}),(0,h.jsx)(re,{address:e})]})},ae=function(e){var t=e.mintAddress,n=e.solWallet,r=void 0!==n&&n;return(0,h.jsxs)(a.Row,{children:[(0,h.jsx)(a.Col,{flex:"auto",children:r?(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(a.Avatar,{src:r,size:24,children:(0,h.jsx)(f.Z,{name:"diamond-outline"})}),(0,h.jsx)(a.Typography.Title,{className:"title-color",level:5,children:"SOL"})]}):(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(x,{mintAddress:t}),(0,h.jsx)(a.Typography.Title,{className:"title-color",level:5,children:(0,h.jsx)(w,{mintAddress:t})})]})}),(0,h.jsx)(a.Col,{children:(0,h.jsxs)(a.Space,{size:1,align:"end",children:[(0,h.jsx)(C,{mintAddress:t,colorized:!0}),(0,h.jsx)(A,{mintAddress:t,colorized:!0}),(0,h.jsx)(a.Divider,{className:"text-secondary",type:"vertical",style:{padding:0}}),(0,h.jsx)(a.Typography.Text,{className:"text-color",children:(0,h.jsx)(S,{mintAddress:t})})]})})]})},ce=function(){var e=(0,d.useState)(),t=(0,i.Z)(e,2),n=t[0],o=t[1],f=(0,r.useSelector)((function(e){return e.account})).accountSelected,p=(0,s.useAccount)().accounts,x=(0,s.useWallet)().wallet.lamports,m=p[f]||{},w=m.mint,y=f===l.DEFAULT_EMPTY_ADDRESS,k=l.utils.undecimalize(x,9),b=Z(w),T=l.utils.undecimalize(m.amount,b),A=j(w),C=(0,d.useMemo)((function(){return y?k:T}),[y,T,k]),S=(0,d.useMemo)((function(){var e=A.price;return y?null===n||void 0===n?void 0:n.price:e*Number(C)}),[A,n,y,C]);return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.l)("solana");case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,h.jsxs)(a.Row,{className:"header-balance",gutter:[16,16],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Row,{children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsx)(a.Typography.Text,{className:"text-secondary",children:"Your balance"})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(se,{})})]})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Row,{gutter:[8,8],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(ae,{mintAddress:w,solWallet:!!y&&(null===n||void 0===n?void 0:n.icon)})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Space,{align:"baseline",children:[(0,h.jsx)(a.Typography.Title,{className:"title-color",level:3,children:(0,v.uR)(C).format("0,0.[000]")}),(0,h.jsxs)(a.Typography.Text,{className:"text-secondary",children:["~",(0,v.uR)(S).format("0,0.[000]")]})]})})]})})]})},ie=n(45987),oe=["max","onChange"],ue=(0,d.forwardRef)((function(e,t){var n,r=e.max,s=e.onChange,c=(0,ie.Z)(e,oe),o=(0,d.useState)(""),u=(0,i.Z)(o,2),l=u[0],p=u[1],x=(0,d.useState)(null),v=(0,i.Z)(x,2),m=v[0],w=v[1],g=(0,d.useRef)(t),y=(0,d.useCallback)((function(e){var t=function(e){M&&(clearTimeout(M),M=void 0),p(e),M=setTimeout((function(){return p("")}),500)};return/^\d*(\.\d*)?$/.test(e)?r&&parseFloat(e)>parseFloat(r)?t("Not enough balance"):s(e):t("Invalid character")}),[r,s]);return null===g||void 0===g||null===(n=g.current)||void 0===n||n.setSelectionRange(m,m),(0,h.jsx)(a.Tooltip,{title:(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(f.Z,{name:"warning"}),l]}),visible:!!l,children:(0,h.jsx)(a.Input,(0,k.Z)((0,k.Z)({},c),{},{onChange:function(e){w(e.target.selectionStart),y(e.target.value||"")},ref:g}))})})),de=function(e){var t=e.accountAddr,n=e.onChange,r=e.value,c=(0,s.useAccount)().accounts[t]||{},i=c.amount,o=c.mint,u=Z(o),f=l.utils.undecimalize(i,u),p=(0,s.useWallet)().wallet.lamports,x=l.utils.undecimalize(p,9),v=t===l.DEFAULT_EMPTY_ADDRESS||t===l.DEFAULT_WSOL,m=(0,d.useMemo)((function(){return v?x:f}),[v,f,x]);return(0,h.jsxs)(a.Row,{gutter:[8,8],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Typography.Text,{children:"Amount"})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(ue,{placeholder:0,prefix:(0,h.jsx)(a.Typography.Text,{type:"secondary",children:v?"SOL":(0,h.jsx)(w,{mintAddress:o})}),suffix:(0,h.jsx)(a.Button,{type:"text",style:{marginRight:-7},onClick:function(){return n(m)},children:"MAX"}),value:r,onChange:n,max:m})})]})},le=function(e){var t=e.onChange,n=e.value,r=(0,s.useWallet)().wallet.address;return(0,h.jsxs)(a.Row,{gutter:[8,8],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Typography.Text,{children:"Receiver Address"})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Input,{size:"large",placeholder:"".concat(r.substring(0,12),"..."),value:n,onChange:function(e){return t(e.target.value)}})})]})},fe=function(e){var t=e.accountAddr,n=(0,s.useAccount)().accounts,r=(0,d.useState)(""),o=(0,i.Z)(r,2),f=o[0],p=o[1],x=(0,d.useState)(""),m=(0,i.Z)(x,2),w=m[0],g=m[1],y=(0,d.useState)(!1),j=(0,i.Z)(y,2),k=j[0],b=j[1],T=n[t]||{},A=T.mint,C=T.amount,S=Z(A),I=(0,d.useMemo)((function(){return t===l.DEFAULT_EMPTY_ADDRESS||t===l.DEFAULT_WSOL}),[t]),D=(0,d.useMemo)((function(){return I?9:S}),[I,S]),E=(0,d.useMemo)((function(){if(0===D)return!1;if(!l.account.isAddress(w))return!0;var e=l.utils.decimalize(f,D);return!e||e>C}),[C,f,D,w]),R=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.sentre,n=t.splt,r=t.wallet,!I){e.next=3;break}return e.abrupt("return",w);case 3:if(l.account.isAddress(w)&&l.account.isAddress(A)&&r){e.next=5;break}return e.abrupt("return");case 5:if(s=w,l.account.isAssociatedAddress(s)){e.next=10;break}return e.next=9,n.deriveAssociatedAddress(w,A);case 9:s=e.sent;case 10:return e.prev=10,e.next=13,n.getAccountData(s);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(10),e.next=19,n.initializeAccount(A,w,r);case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,c.Z)(u().mark((function e(){var n,r,s,a,c,i,o,d,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),e.prev=1,n=window.sentre,r=n.splt,s=n.wallet,a=n.lamports,s){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,R();case 7:if(c=e.sent){e.next=10;break}throw new Error("Invalid destination address");case 10:if(i=l.utils.decimalize(Number(f),D),I){e.next=17;break}return e.next=14,r.transfer(i,t,c,s);case 14:return o=e.sent,d=o.txId,e.abrupt("return",window.notify({type:"success",description:"Transfer successfully",onClick:function(){return window.open((0,v.kU)(d),"_blank")}}));case 17:return e.next=19,a.transfer(i,c,s);case 19:return p=e.sent,e.abrupt("return",window.notify({type:"success",description:"Transfer successfully",onClick:function(){return window.open((0,v.kU)(p),"_blank")}}));case 23:e.prev=23,e.t0=e.catch(1),window.notify({type:"error",description:e.t0.message});case 26:return e.prev=26,b(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,23,26,29]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(a.Row,{gutter:[16,16],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(le,{onChange:g,value:w})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(de,{accountAddr:t,onChange:p,value:f})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Button,{type:"primary",onClick:W,block:!0,loading:k,disabled:E,children:"Transfer"})})]})},pe=["value"],he=function(e){var t=e.value,n=void 0===t?"":t,r=(0,ie.Z)(e,pe),s=(0,d.useState)(!1),o=(0,i.Z)(s,2),l=o[0],p=o[1],x=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,(0,v.sA)(1500);case 3:p(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(a.Input,(0,k.Z)({value:n,suffix:(0,h.jsx)(a.Tooltip,{title:"Copied",visible:l,children:(0,h.jsx)(te(),{text:n,onCopy:x,children:(0,h.jsx)(a.Button,{type:"text",size:"small",icon:(0,h.jsx)(f.Z,{name:"copy-outline"})})})})},r))},xe=function(e){var t=e.accountAddr;return(0,h.jsxs)(a.Row,{justify:"center",gutter:[16,16],children:[(0,h.jsx)(a.Col,{style:{background:"#f4f4f5",paddingTop:8},children:(0,h.jsx)($(),{value:t,size:84,bgColor:"#ffffff",fgColor:"#1f1f1f"})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Row,{gutter:[8,8],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Typography.Text,{children:"Wallet address"})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(he,{size:"large",value:t})})]})})]})},ve=BigInt(2039280),me=function(e){var t=e.accountAddr,n=(0,d.useState)(""),r=(0,i.Z)(n,2),o=r[0],f=r[1],p=(0,d.useState)(!1),x=(0,i.Z)(p,2),m=x[0],g=x[1],y=(0,d.useState)(""),j=(0,i.Z)(y,2),k=j[0],b=j[1],T=(0,s.useAccount)().accounts,A=window.sentre,C=A.splt,S=A.wallet,I=T[t]||{},D=I.amount,E=I.mint,R=Z(E),W=l.utils.undecimalize(D,R),P=(0,s.useWallet)().wallet,N=P.lamports,z=P.address,B=l.utils.undecimalize(N,9),O=t===l.DEFAULT_WSOL,M=(0,d.useMemo)((function(){return T[k]}),[T,k]),L=(0,d.useMemo)((function(){return O?B:W}),[O,W,B]),U=l.utils.undecimalize(null===M||void 0===M?void 0:M.amount,9),F=(0,d.useMemo)((function(){var e=Number(L),t=Number(l.utils.undecimalize(BigInt(1e8)+ve,9))+1e-5;return e<=t?L:e-t}),[L]),_=(M||{}).state,q=1===_,Y=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window.sentre,n=t.splt,r=t.wallet,l.account.isAddress(z)){e.next=4;break}return e.abrupt("return",window.notify({type:"error",description:"Please connect your wallet"}));case 4:s=BigInt(0);try{s=l.utils.decimalize(o,9)}catch(i){}if(s){e.next=8;break}return e.abrupt("return",window.notify({type:"error",description:"Invalid amount"}));case 8:if(r){e.next=10;break}return e.abrupt("return",window.notify({type:"error",description:"Wallet is not connected"}));case 10:return g(!0),e.next=13,n.wrap(s+ve,z,r);case 13:a=e.sent,c=a.txId,window.notify({type:"success",description:"Wrap ".concat(o," SOL successfully. Click to view details."),onClick:function(){return window.open((0,v.kU)(c),"_blank")}}),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",window.notify({type:"error",description:null===e.t0||void 0===e.t0?void 0:e.t0.message}));case 21:return e.prev=21,g(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),t=l.utils.undecimalize(null===M||void 0===M?void 0:M.amount,9)||0,e.prev=2,S){e.next=5;break}return e.abrupt("return",window.notify({type:"error",description:"Wallet is not connected"}));case 5:return e.next=7,C.unwrap(S);case 7:n=e.sent,r=n.txId,window.notify({type:"success",description:"Unwrap ".concat(t," SOL successfully. Click to view details."),onClick:function(){return window.open((0,v.kU)(r),"_blank")}}),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",window.notify({type:"error",description:null===e.t0||void 0===e.t0?void 0:e.t0.message}));case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.deriveAssociatedAddress(z,l.DEFAULT_WSOL);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})))()}),[z,T,C]),(0,d.useEffect)((function(){return f(q?U:"")}),[U,_,q]);var Q=function(){return(0,h.jsx)(d.Fragment,{children:(0,h.jsxs)("ul",{style:{paddingLeft:16},children:[(0,h.jsx)("li",{children:(0,h.jsx)(a.Typography.Text,{type:"secondary",children:"To wrap SOL you have to deposit an extra fee equal to 0.00203928 SOL."})}),(0,h.jsx)("li",{children:(0,h.jsx)(a.Typography.Text,{type:"secondary",children:"The fee mentioned above will return when you unwrap."})})]})})},X=function(){return(0,h.jsxs)(d.Fragment,{children:[(0,h.jsx)(a.Typography.Text,{type:"secondary",children:"Due to technical limitations, it only allows:"}),(0,h.jsxs)("ul",{style:{paddingLeft:16},children:[(0,h.jsx)("li",{children:(0,h.jsx)(a.Typography.Text,{type:"secondary",children:"Unwrap all at once."})}),(0,h.jsx)("li",{children:(0,h.jsx)(a.Typography.Text,{type:"secondary",children:"To increase/decrease the WSOL balance, unwrap all first then re-wrap your desired number."})})]})]})};return(0,h.jsxs)(a.Row,{gutter:[24,24],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Row,{gutter:[8,8],children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsx)(a.Typography.Text,{children:q?"Unwrap amount":"Wrap Amount"})}),(0,h.jsx)(a.Col,{children:(0,h.jsxs)(a.Space,{size:4,children:[(0,h.jsx)(a.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Available:"}),(0,h.jsxs)(a.Typography.Text,{style:{fontSize:12},children:[q?U:L," SOL"]})]})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(ue,{placeholder:"0",size:"large",prefix:O?(0,h.jsx)(a.Typography.Text,{type:"secondary",children:"SOL"}):(0,h.jsx)(w,{mintAddress:E}),suffix:1!==_&&(0,h.jsx)(a.Button,{type:"text",style:{padding:0,height:"auto"},onClick:function(){return f("".concat(F))},children:"MAX"}),value:o,onChange:f,max:F,disabled:1===_})})]})}),(0,h.jsx)(a.Col,{span:24,children:q?(0,h.jsx)(a.Button,{type:"primary",onClick:H,block:!0,loading:m,children:"Unwrap"}):(0,h.jsx)(a.Button,{type:"primary",onClick:Y,block:!0,loading:m,children:"Wrap"})}),(0,h.jsx)(a.Col,{span:24,style:{fontSize:12},children:q?(0,h.jsx)(X,{}):(0,h.jsx)(Q,{})})]})},we=function(e){var t=e.accountAddr,n=(0,r.useDispatch)(),i=(0,s.useAccount)().accounts[t]||{},o=function(){var e=(0,c.Z)(u().mark((function e(){var r,s,a,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=window.sentre,s=r.splt,a=r.wallet){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,s.closeAccount(t,a);case 6:return c=e.sent,i=c.txId,e.next=10,window.notify({type:"success",description:"Close ".concat((0,v.Xn)(t)," successfully. Click to view details."),onClick:function(){return window.open((0,v.kU)(i),"_blank")}});case 10:n(N({account:l.DEFAULT_EMPTY_ADDRESS})),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",window.notify({type:"error",description:"error"}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(a.Card,{bordered:!1,className:"close-account",children:(0,h.jsxs)(a.Row,{gutter:[16,16],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(f.Z,{name:"alert-circle-outline"}),(0,h.jsx)(a.Typography.Text,{children:"Please transfer out all tokens in this account before closing!"})]})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Button,{type:"primary",onClick:o,disabled:Boolean(i.amount),block:!0,children:"Close Account"})})]})})},ge=function(){var e=(0,d.useState)(""),t=(0,i.Z)(e,2),n=t[0],c=t[1],o=(0,r.useSelector)((function(e){return e.account})).accountSelected,u=(0,s.useWallet)().wallet.address,f=((0,s.useAccount)().accounts[o]||{}).mint,p=o===l.DEFAULT_EMPTY_ADDRESS,x=f===l.DEFAULT_WSOL,v=(0,d.useMemo)((function(){return p?l.DEFAULT_EMPTY_ADDRESS:o}),[o,p]),m=(0,d.useMemo)((function(){return p?l.DEFAULT_WSOL:o}),[o,p]),w=(0,d.useMemo)((function(){return u}),[u]);return(0,d.useEffect)((function(){return c("Send")}),[o]),(0,h.jsx)(a.Card,{bordered:!1,style:{marginTop:-20,boxShadow:"none"},bodyStyle:{padding:16,paddingTop:4},children:(0,h.jsxs)(a.Tabs,{activeKey:n,onChange:c,children:[(0,h.jsx)(a.Tabs.TabPane,{tab:"Send",children:(0,h.jsx)(fe,{accountAddr:v})},"Send"),(0,h.jsx)(a.Tabs.TabPane,{tab:"Receive",children:(0,h.jsx)(xe,{accountAddr:w})},"Receive"),(0,h.jsx)(a.Tabs.TabPane,{tab:"Wrap",disabled:!p&&!x,children:(0,h.jsx)(me,{accountAddr:m})},"Wrap"),(0,h.jsx)(a.Tabs.TabPane,{tab:"Close",disabled:p,children:(0,h.jsx)(we,{accountAddr:o})},"Close")]})})},ye=function(){return(0,h.jsx)(a.Card,{className:"card-page",bordered:!1,bodyStyle:{padding:0},children:(0,h.jsxs)(a.Row,{children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(ce,{})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(ge,{})})]})})},je=n(35435);!function(e){e.Transfer="Transfer",e.Provider="Provider",e.SourceWallet="SourceWallet"}(L||(L={}));var ke,be,Te,Ae={mainnet:"https://wormhole-v2-mainnet-api.certus.one",testnet:"",devnet:"https://wormhole-v2-testnet-api.certus.one"},Ce=[{chainID:je.rQ,name:"Solana",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{chainID:je.ZN,name:"Ethereum",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk/logo.png"}],Se=function(e){var t=e.chainId,n=e.size,r=void 0===n?24:n,s=Ce.find((function(e){return e.chainID===t}));return(0,h.jsx)(a.Avatar,{src:null===s||void 0===s?void 0:s.logo,size:r,style:{border:"none"}})},Ze=function(e){var t=e.chainId,n=Ce.find((function(e){return e.chainID===t}));return(0,h.jsx)("span",{children:null===n||void 0===n?void 0:n.name})},Ie=function(){var e=(0,r.useSelector)((function(e){return e.wormhole})),t=e.sourceChain,n=e.sourceWalletAddress,s=e.targetChain,c=e.targetWalletAddress;return(0,h.jsxs)(a.Row,{gutter:[16,16],align:"middle",style:{padding:16},children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsxs)(a.Space,{direction:"vertical",size:0,children:[(0,h.jsxs)(a.Typography.Title,{level:5,children:[(0,h.jsx)(Ze,{chainId:t})," Network"]}),(0,h.jsx)(a.Typography.Text,{children:(0,v.Xn)(n)})]})}),(0,h.jsx)(a.Col,{children:(0,h.jsxs)(a.Space,{direction:"vertical",size:0,align:"end",children:[(0,h.jsxs)(a.Typography.Title,{level:5,children:[(0,h.jsx)(Ze,{chainId:s})," Network"]}),(0,h.jsx)(a.Typography.Text,{children:(0,v.Xn)(c)})]})})]})},De=n(37762),Ee=n(4550),Re=n.n(Ee),We=n(15671),Pe=n(43144),Ne=function e(){(0,We.Z)(this,e),this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]},ze=function e(){(0,We.Z)(this,e),this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"},Be=function e(){(0,We.Z)(this,e),this.source=void 0,this.destination=void 0,this.amount="0"},Oe=n(71256),Me=700,Le=function(){function e(){(0,We.Z)(this,e),this.conn=window.sentre.splt.connection}return(0,Pe.Z)(e,[{key:"fetchSignatures",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=a.length>2&&void 0!==a[2]?a[2]:Me)>Me&&(r=Me),s={limit:r,before:n},e.abrupt("return",this.conn.getConfirmedSignaturesForAddress2(t,s));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchConfirmTransaction",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c,i,o,d,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],150,r=[],s=0;s<=t.length/150;s++)a=150*s,c=t.slice(a,a+150),r.push(this.conn.getParsedConfirmedTransactions(c));return e.next=6,Promise.all(r);case 6:i=e.sent,o=(0,De.Z)(i);try{for(o.s();!(d=o.n()).done;)l=d.value,n=n.concat(l)}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=(0,c.Z)(u().mark((function e(t,n,r){var s,a,c,i,o,d,l,f,p,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Math.floor(n),r=Math.floor(r),s=new Oe.PublicKey(t),c=[],i=!1;case 5:if(i){e.next=38;break}return e.next=8,this.fetchSignatures(s,a,Me);case 8:if(null!==(o=e.sent)&&void 0!==o&&o.length&&!i){e.next=11;break}return e.abrupt("break",38);case 11:d=(0,De.Z)(o),e.prev=12,d.s();case 14:if((l=d.n()).done){e.next=26;break}if(f=l.value,(p=f.blockTime)&&!(p>r)){e.next=19;break}return e.abrupt("continue",24);case 19:if(!(p<n)){e.next=22;break}return i=!0,e.abrupt("break",26);case 22:a=f.signature,c.push(a);case 24:e.next=14;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(12),d.e(e.t0);case 31:return e.prev=31,d.f(),e.finish(31);case 34:if(!((null===o||void 0===o?void 0:o.length)<Me)){e.next=36;break}return e.abrupt("break",38);case 36:e.next=5;break;case 38:return e.next=40,this.fetchConfirmTransaction(c);case 40:return h=e.sent,e.abrupt("return",h);case 42:case"end":return e.stop()}}),e,this,[[12,28,31,34]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();!function(e){e.InitPool="INITIALIZE_POOL",e.AddLiquidity="ADD_LIQUIDITY",e.RemoveLiquidity="REMOVE_LIQUIDITY",e.Swap="SWAP"}(ke||(ke={})),function(e){e.InitFarm="INITIALIZE_FARM",e.Stake="STAKE",e.Unstake="UNSTAKE"}(be||(be={})),function(e){e.Transfer="transfer"}(Te||(Te={}));var Ue,Fe=1e3;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(Ue||(Ue={}));var _e=function(){function e(){(0,We.Z)(this,e),this.milliSeconds=(new Date).valueOf()}return(0,Pe.Z)(e,[{key:"setMilliSeconds",value:function(e){this.milliSeconds=e}},{key:"format",value:function(e){var t=new Date(this.milliSeconds);return Re()(t).format(e)}},{key:"subtractDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=Re()(this.milliSeconds).subtract(t,"days").valueOf(),r=e.fromSeconds(n/Fe);return r}},{key:"addDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=Re()(this.milliSeconds).add(t,"days").valueOf(),r=e.fromSeconds(n/Fe);return r}},{key:"seconds",value:function(){return(this.milliSeconds-this.milliSeconds%Fe)/Fe}},{key:"ymd",value:function(){return Number(this.format(Ue.YMD))}}],[{key:"fromSeconds",value:function(t){var n=new e,r=t*Fe;return n.setMilliSeconds(r),n}},{key:"fromYmd",value:function(t){var n=new e,r=Re()(t,Ue.YMD).valueOf();return n.setMilliSeconds(r),n}},{key:"getListDate",value:function(t,n){for(var r=[],s=e.fromYmd(t),a=e.fromYmd(n);s.ymd()<=a.ymd();)r.push(s.ymd()),s=s.addDay();return r}},{key:"today",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue.YMD;return Re()().format(e)}}]),e}(),qe=function(){function e(t,n){(0,We.Z)(this,e),this.solana=void 0,this.programId=void 0,this.configs=void 0,this.solana=new Le,this.programId=t,this.configs=n}return(0,Pe.Z)(e,[{key:"collect",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,s,a,c,i,o,d,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===(t=this.configs)||void 0===t?void 0:t.secondFrom)||0,s=(null===(n=this.configs)||void 0===n?void 0:n.secondTo)||(new Date).getTime()/1e3,e.next=4,this.solana.fetchTransactions(this.programId,r,s);case 4:a=e.sent,c=[],i=(0,De.Z)(a);try{for(i.s();!(o=i.n()).done;)d=o.value,(l=this.parseTransLog(d))&&c.push(l)}catch(u){i.e(u)}finally{i.f()}return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseTransLog",value:function(e){var t,n,r=e.blockTime,s=e.meta,a=e.transaction;if(r&&s){var c=s.postTokenBalances,i=s.preTokenBalances,o=s.err,u=a.signatures,d=a.message;if(null===o){var l=(null===(t=s.innerInstructions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.instructions)||[],f=d.instructions[0]||[],p=new Ne;p.signature=u[0],p.blockTime=r,p.time=_e.fromSeconds(r).ymd(),p.programId=f.programId.toString();var h=this.parseAccountInfo(d.accountKeys,c||[],i||[]);return this.isParsedInstruction(f)?(p.programTransfer=this.parseAction([f],h),p):(p.actionTransfers=this.parseAction(l,h),p.programInfo={programId:f.programId.toString(),data:f.data},p)}}}},{key:"isParsedInstruction",value:function(e){return void 0!==e.parsed}},{key:"parseAction",value:function(e,t){var n,r=[],s=(0,De.Z)(e);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(this.isParsedInstruction(a)){var c=a.parsed||{};if(c.type===Te.Transfer){var i=c.info,o=this.parseActionTransfer(i,t);o&&r.push(o)}}}}catch(u){s.e(u)}finally{s.f()}return r}},{key:"parseActionTransfer",value:function(e,t){var n=e.source,r=e.destination,s=e.amount;if(s&&t.has(n)&&t.has(r)){var a=new Be;return a.source=t.get(n),a.destination=t.get(r),a.amount=s,a}}},{key:"parseAccountInfo",value:function(e,t,n){var r,s=new Map,a=(0,De.Z)(t);try{for(a.s();!(r=a.n()).done;){var c=r.value,i=c.accountIndex,o=c.mint,u=c.uiTokenAmount,d=new ze;d.address=e[i].pubkey.toString(),d.postBalance=u.amount,d.mint=o,d.decimals=u.decimals,s.set(d.address,d)}}catch(w){a.e(w)}finally{a.f()}var l,f=(0,De.Z)(n);try{for(f.s();!(l=f.n()).done;){var p=l.value,h=p.accountIndex,x=p.uiTokenAmount,v=e[h].pubkey.toString(),m=s.get(v)||new ze;m.preBalance=x.amount,s.set(m.address,m)}}catch(w){f.e(w)}finally{f.f()}return s}}]),e}(),Ye=n(60136),He=n(27277),Qe=n(21995),Xe=n.n(Qe),Ve=n(53933),Ge=n(3007),Je=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:return e.prev=2,console.log("Retry to get signed vaa:",++t),e.next=6,je.RX.apply(void 0,r);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,(0,v.sA)(1e4);case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){return Ve.Z.get("network")||"mainnet"},$e=function(){return"mainnet"===Ke()?"mainnet":"goerli"},et=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"mainnet"===n&&(n="eth"),r=[],e.next=4,Xe()({method:"get",url:"https://deep-index.moralis.io/api/v2/".concat(t,"/erc20?chain=").concat(n),headers:{"X-API-Key":"N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd"}});case 4:s=e.sent,a=s.data,c=(0,De.Z)(a);try{for(c.s();!(i=c.n()).done;)(o=i.value).decimals=Number(o.decimals),o.amount=l.utils.undecimalize(o.balance,o.decimals),o.address=o.token_address,r.push(o)}catch(u){c.e(u)}finally{c.f()}return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serialize(),e.next=3,n.sendRawTransaction(r,{skipPreflight:!0,preflightCommitment:"confirmed"});case 3:return s=e.sent,e.next=6,n.confirmTransaction(s,"confirmed");case 6:if(a=e.sent,!(c=a.value.err)){e.next=10;break}throw new Error("".concat(c," at ").concat(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.account.isAddress(t)){e.next=2;break}throw new Error("Invalid mint address");case 2:return e.next=4,n.getAddress();case 4:return r=e.sent,s=window.sentre.splt,e.next=8,s.deriveAssociatedAddress(r,t);case 8:return a=e.sent,c=!1,e.prev=10,e.next=13,s.getAccountData(a);case 13:i=e.sent,o=i.state,c=o>0,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),c=!1;case 21:if(c){e.next=24;break}return e.next=24,s.initializeAccount(t,r,n);case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=window.sentre.wallet)||void 0===n?void 0:n.getAddress();case 2:if(r=e.sent){e.next=5;break}throw new Error("Login fist");case 5:return s=new Ge.Z(r).createInstance("wormhole"),a=s.getItem(t),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=window.sentre.wallet)||void 0===r?void 0:r.getAddress();case 2:if(s=e.sent){e.next=5;break}throw new Error("Login fist");case 5:return a=new Ge.Z(s).createInstance("wormhole"),e.abrupt("return",a.setItem(t,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),at={mainnet:"0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",goerli:"0x706abc4E45D419950511e474C7B9Ed348A4a716c",ropsten:"0xC89Ce4735882C9F0f0FE26686c53074E09B0D550"},ct={mainnet:"0x3ee18B2214AFF97000D974cf647E7C347E8fa585",goerli:"0xF890982f9310df57d00f659cf4fd87e65adEd8d7",ropsten:"0x0290FB167208Af455bB137780163b7B7a9a10C16"},it={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},ot={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"},ut=function(){function e(t,n,r){var s=this;(0,We.Z)(this,e),this.context=void 0,this.srcWallet=void 0,this.targetWallet=void 0,this.isAttested=(0,c.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.srcWallet.getProvider();case 2:return t=e.sent,e.next=5,(0,je.Ak)(s.context.srcTokenBridgeAddress,t,s.context.tokenInfo.address,je.ZN);case 5:return n=e.sent,e.next=8,(0,je.sS)(s.getConnection(),s.context.targetTokenBridgeAddress,n.chainId,n.assetAddress);case 8:return r=e.sent,e.abrupt("return",{attested:!!r,wrappedMintAddress:r});case 10:case"end":return e.stop()}}),e)}))),this.srcWallet=t,this.targetWallet=n,this.context=function(e){var t=$e(),n=Ke();return{id:(new Date).getTime()+"",time:(new Date).getTime(),srcChainId:je.ZN,srcTokenBridgeAddress:ct[t],srcBridgeAddress:at[t],targetChainId:je.rQ,targetTokenBridgeAddress:ot[n],targetBridgeAddress:it[n],wormholeRpc:Ae[n],tokenInfo:e,etherNetwork:t,solNetWork:n}}(r)}return(0,Pe.Z)(e,[{key:"getConnection",value:function(){var e=window.sentre.splt.nodeUrl;return new Oe.Connection(e,"confirmed")}}]),e}(),dt=n(97429).Buffer,lt=function(e){(0,Ye.Z)(n,e);var t=(0,He.Z)(n);function n(){var e;(0,We.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).transferData=void 0,e.attestData=void 0,e.restore=function(){var t=(0,c.Z)(u().mark((function t(r){var s,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.fetchAll();case 2:if(s=t.sent,a=s[r]){t.next=6;break}throw new Error("Not find state transfer");case 6:e.transferData=a.transferData,e.attestData=a.attestData,e.context=a.context;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.backup=(0,c.Z)(u().mark((function t(){var r,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.fetchAll();case 2:return r=t.sent,s=e.getState(),r[s.context.id]=s,st(L.Transfer,r),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)}))),e.getState=function(){if(!e.transferData)throw new Error("Invalid data transfer");return{transferData:e.transferData,context:e.context,attestData:e.attestData}},e.initTransferData=function(){var t=(0,c.Z)(u().mark((function t(n){var r,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.srcWallet.getAddress();case 2:return r=t.sent,t.next=5,e.targetWallet.getAddress();case 5:return s=t.sent,t.abrupt("return",{step:0,amount:n,from:r,to:s,emitterAddress:"",sequence:"",vaaHex:"",txId:""});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.initAttestData=function(){return e.attestData||(e.attestData={step:0,sequence:"",emitterAddress:"",vaaHex:"",txId:""}),e.attestData},e.transfer=function(){var t=(0,c.Z)(u().mark((function t(n,r){var s,a,c,i,o,d,l,f,p,h,x,v,m;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.transferData){t.next=4;break}return t.next=3,e.initTransferData(n);case 3:e.transferData=t.sent;case 4:return s=e.getState(),a=s.transferData,c=s.context,t.next=7,e.isAttested();case 7:if(i=t.sent,i.attested){t.next=12;break}return t.next=12,e.attest(r);case 12:if(0!==a.step){t.next=28;break}return t.next=15,e.transferSourceNetWork();case 15:return o=t.sent,d=o.emitterAddress,l=o.sequence,f=o.transferReceipt,c.id=f.blockHash,a.emitterAddress=d,a.sequence=l,a.step++,t.next=25,e.backup();case 25:return p=t.sent,t.next=28,r(p);case 28:if(1!==a.step){t.next=39;break}return t.next=31,e.getSignedVAA(a.emitterAddress,a.sequence);case 31:return h=t.sent,a.vaaHex=h,a.step++,t.next=36,e.backup();case 36:return x=t.sent,t.next=39,r(x);case 39:if(2!==a.step){t.next=51;break}return t.next=42,e.redeemSolana(a.vaaHex);case 42:return v=t.sent,a.txId=v,a.step++,t.next=47,e.backup();case 47:return m=t.sent,t.next=50,r(m);case 50:return t.abrupt("return",v);case 51:throw new Error("Invalid step transfer");case 52:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.attest=function(){var t=(0,c.Z)(u().mark((function t(n){var r,s,a,c,i,o,d,l,f;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=e.initAttestData()).step){t.next=15;break}return t.next=4,e.attestSourceNetwork();case 4:return s=t.sent,a=s.emitterAddress,c=s.sequence,r.emitterAddress=a,r.sequence=c,r.step++,t.next=12,e.backup();case 12:return i=t.sent,t.next=15,n(i);case 15:if(1!==r.step){t.next=26;break}return t.next=18,e.getSignedVAA(r.emitterAddress,r.sequence);case 18:return o=t.sent,r.vaaHex=o,r.step++,t.next=23,e.backup();case 23:return d=t.sent,t.next=26,n(d);case 26:if(2!==r.step){t.next=38;break}return t.next=29,e.wrapSolana(r.vaaHex);case 29:return l=t.sent,r.txId=l,r.step++,t.next=34,e.backup();case 34:return f=t.sent,t.next=37,n(f);case 37:return t.abrupt("return",l);case 38:throw new Error("Invalid step attest");case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.transferSourceNetWork=(0,c.Z)(u().mark((function t(){var n,r,s,a,c,i,o,d,f,p,h,x;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getState(),r=n.transferData,s=n.context,t.next=3,e.isAttested();case 3:if(a=t.sent,c=a.wrappedMintAddress){t.next=7;break}throw new Error("Attest the token first");case 7:return t.next=9,e.srcWallet.getProvider();case 9:return i=t.sent,o=i.getSigner(),d=l.utils.decimalize(r.amount,s.tokenInfo.decimals),t.next=14,(0,je.YC)(s.srcTokenBridgeAddress,s.tokenInfo.address,o,d);case 14:return t.next=16,nt(c,e.targetWallet);case 16:return f=t.sent,t.next=19,(0,je.qC)(s.srcTokenBridgeAddress,o,s.tokenInfo.address,d,je.rQ,l.account.fromAddress(f).toBuffer());case 19:return p=t.sent,h=(0,je.N_)(p,s.srcBridgeAddress),x=(0,je.Nz)(s.srcTokenBridgeAddress),t.abrupt("return",{sequence:h,emitterAddress:x,transferReceipt:p});case 23:case"end":return t.stop()}}),t)}))),e.attestSourceNetwork=(0,c.Z)(u().mark((function t(){var n,r,s,a,c,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.srcWallet.getProvider();case 2:return n=t.sent,r=n.getSigner(),s=e.context,t.next=7,(0,je.$6)(e.context.srcTokenBridgeAddress,r,s.tokenInfo.address);case 7:return a=t.sent,c=(0,je.N_)(a,s.srcBridgeAddress),i=(0,je.Nz)(s.srcTokenBridgeAddress),t.abrupt("return",{sequence:c,emitterAddress:i});case 11:case"end":return t.stop()}}),t)}))),e}return(0,Pe.Z)(n,[{key:"getSignedVAA",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getState(),s=r.context,e.next=3,Je(s.wormholeRpc,je.ZN,t,n);case 3:return a=e.sent,c=a.vaaBytes,i=dt.from(c).toString("hex"),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"redeemSolana",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getState(),r=n.context,e.next=3,this.targetWallet.getAddress();case 3:return s=e.sent,a=(0,je.GZ)(t),e.next=7,(0,je.Pp)(this.getConnection(),this.targetWallet.signTransaction,r.targetBridgeAddress,s,dt.from(a));case 7:return e.next=9,(0,je.A7)(this.getConnection(),r.targetBridgeAddress,r.targetTokenBridgeAddress,s,a);case 9:return c=e.sent,e.next=12,this.targetWallet.signTransaction(c);case 12:return i=e.sent,e.next=15,tt(i,this.getConnection());case 15:return o=e.sent,e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wrapSolana",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getState(),r=n.context,e.next=3,this.targetWallet.getAddress();case 3:return s=e.sent,a=(0,je.GZ)(t),e.next=7,(0,je.Pp)(this.getConnection(),this.targetWallet.signTransaction,r.targetBridgeAddress,s,dt.from(a));case 7:return e.next=9,(0,je.lx)(this.getConnection(),r.targetBridgeAddress,r.targetTokenBridgeAddress,s,a);case 9:return c=e.sent,e.next=12,this.targetWallet.signTransaction(c);case 12:return i=e.sent,e.next=15,tt(i,this.getConnection());case 15:return o=e.sent,e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ut);lt.fetchAll=(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(L.Transfer);case 2:return t=e.sent,e.abrupt("return",JSON.parse(JSON.stringify(t))||{});case 4:case"end":return e.stop()}}),e)})));var ft="history",pt=(0,W.createAsyncThunk)("".concat(ft,"/fetchWormholeHistory"),(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt.fetchAll();case 2:return t=e.sent,n=Object.values(t),e.abrupt("return",{wormhole:n.reverse()});case 5:case"end":return e.stop()}}),e)})))),ht=(0,W.createAsyncThunk)("".concat(ft,"/updateWormholeHistory"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.stateTransfer,s=n.getState,a=s(),c=a.history.wormhole,i=r.context.id,(o=c.filter((function(e){return e.context.id!==i}))).unshift(JSON.parse(JSON.stringify(r))),e.abrupt("return",{wormhole:o});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),xt=(0,W.createAsyncThunk)("".concat(ft,"/fetchTransactionHistory"),function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c,i,o,d,f,p,h,x,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.addressWallet,r=window.sentre.splt,s=new qe(n),e.next=5,s.collect();case 5:a=e.sent,c=[],i=(0,De.Z)(a),e.prev=8,i.s();case 10:if((o=i.n()).done){e.next=34;break}if(d=o.value,f={},p=d.programTransfer[0]){e.next=16;break}return e.abrupt("continue",32);case 16:if(p.destination&&p.source){e.next=18;break}return e.abrupt("continue",32);case 18:return h=p.destination,e.next=21,r.deriveAssociatedAddress(n,h.mint);case 21:x=e.sent,v=new Date(1e3*d.blockTime),f.time=Re()(v).format("DD MMM, YYYY hh:mm"),f.key=d.signature,f.transactionId=d.signature,f.amount=Number(l.utils.undecimalize(BigInt(p.amount),h.decimals)),f.from=p.source.address,f.to=h.address,f.mint=h.mint,f.isReceive=x===h.address,c.push(f);case 32:e.next=10;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(8),i.e(e.t0);case 39:return e.prev=39,i.f(),e.finish(39);case 42:return e.abrupt("return",{transaction:c});case 43:case"end":return e.stop()}}),e,null,[[8,36,39,42]])})));return function(t){return e.apply(this,arguments)}}()),vt=(0,W.createSlice)({name:ft,initialState:{wormhole:[],transaction:[]},reducers:{},extraReducers:function(e){e.addCase(pt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(ht.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(xt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,mt=function(e){var t=e.percent,n=void 0===t?100:t;return(0,h.jsx)(a.Row,{children:(0,h.jsx)(a.Col,{className:"progress",span:24,children:(0,h.jsx)("span",{className:"progress-bar",style:{width:"".concat(n,"%")}})})})};window.wormhole={sourceWallet:{},targetWallet:{}};var wt="wormhole",gt={sourceTokens:{},sourceChain:je.ZN,sourceWalletAddress:"",targetWalletAddress:"",targetChain:je.rQ,tokenAddress:"",amount:"",processId:""},yt=(0,W.createAsyncThunk)("".concat(wt,"/connectSourceWallet"),function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c,i,o,d,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.wallet,window.wormhole.sourceWallet.ether=r,e.next=4,r.getAddress();case 4:return s=e.sent,a=$e(),e.next=8,et(s,a);case 8:c=e.sent,i={},o=(0,De.Z)(c);try{for(o.s();!(d=o.n()).done;)l=d.value,i[l.address]=l}catch(u){o.e(u)}finally{o.f()}return f=(null===(n=c[0])||void 0===n?void 0:n.address)||"",e.abrupt("return",{sourceWalletAddress:s,sourceTokens:i,tokenAddress:f});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jt=(0,W.createAsyncThunk)("".concat(wt,"/disconnectSourceWallet"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,s=r().wormhole,e.abrupt("return",(0,k.Z)((0,k.Z)({},s),{},{sourceWalletAddress:"",sourceTokens:{},tokenAddress:""}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),kt=(0,W.createAsyncThunk)("".concat(wt,"/connectTargetWallet"),function(){var e=(0,c.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wallet,window.wormhole.targetWallet.sol=n,e.next=4,n.getAddress();case 4:return r=e.sent,e.abrupt("return",{targetWalletAddress:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),bt=(0,W.createAsyncThunk)("".concat(wt,"/setSourceToken"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tokenAddress,s=t.amount,a=n.getState,c=a(),i=c.wormhole,o=r||i.tokenAddress,d=s||i.amount,e.abrupt("return",(0,k.Z)((0,k.Z)({},i),{},{tokenAddress:o,amount:d}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Tt=(0,W.createAsyncThunk)("".concat(wt,"/setWormholeProcess"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,s=n.getState,a=s(),c=a.wormhole,e.abrupt("return",(0,k.Z)((0,k.Z)({},c),{},{processId:r||""}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),At=(0,W.createAsyncThunk)("".concat(wt,"/restoreTransfer"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.historyData,s=n.getState,window.wormhole.sourceWallet.ether){e.next=5;break}throw new Error("Login fist");case 5:return a=s(),c=a.wormhole,i=r.context,o=r.transferData,(d=(0,k.Z)({},c)).tokenAddress=i.tokenInfo.address,d.processId=i.id,d.amount=o.amount,d.sourceWalletAddress=o.from,d.targetWalletAddress=o.to,d.sourceWalletAddress=o.from,e.abrupt("return",(0,k.Z)({},d));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ct=(0,W.createSlice)({name:wt,initialState:gt,reducers:{},extraReducers:function(e){e.addCase(yt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(jt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(kt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(bt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(At.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Tt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,St=function(e){var t=e.onClose,n=void 0===t?function(){}:t,s=(0,r.useDispatch)(),o=(0,r.useSelector)((function(e){return e.wormhole})),l=o.sourceTokens,p=o.tokenAddress,x=o.amount,m=(0,d.useState)(!1),w=(0,i.Z)(m,2),g=w[0],y=w[1],j=(0,d.useState)(!1),k=(0,i.Z)(j,2),b=k[0],T=k[1],A=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(Tt({id:t.context.id}));case 2:return e.next=4,s(ht({stateTransfer:t}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,c.Z)(u().mark((function e(){var t,r,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(!0);case 2:if(e.prev=2,t=window.wormhole,r=t.sourceWallet,a=t.targetWallet,c=l[p],r.ether&&a.sol&&c){e.next=7;break}throw new Error("Login fist");case 7:return i=new lt(r.ether,a.sol,c),e.next=10,i.transfer(x,A);case 10:return o=e.sent,window.notify({type:"success",description:"Transfer successfully",onClick:function(){return window.open((0,v.kU)(o),"_blank")}}),e.abrupt("return",n(!1));case 15:e.prev=15,e.t0=e.catch(2),window.notify({type:"error",description:e.t0.message});case 18:return e.prev=18,T(!1),e.next=22,s(Tt({id:""}));case 22:return e.finish(18);case 23:case"end":return e.stop()}}),e,null,[[2,15,18,23]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(a.Row,{gutter:[8,8],justify:"center",children:[(0,h.jsx)(a.Col,{span:24,style:{textAlign:"justify"},children:(0,h.jsxs)(a.Space,{align:"start",children:[(0,h.jsx)(a.Typography.Text,{style:{color:"#D72311"},children:(0,h.jsx)(f.Z,{name:"alert-circle-outline"})}),(0,h.jsx)(a.Typography.Text,{style:{color:"#D72311",fontSize:12},children:"You should wait until the process is complete or you can minimize this dialog. However, the process will fail if you exit the Sen Assets."})]})}),(0,h.jsx)(a.Col,{span:24,children:b?(0,h.jsx)(mt,{}):(0,h.jsx)(a.Checkbox,{checked:g,onChange:function(){return y(!g)},disabled:b,children:"I have read and understood"})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Button,{onClick:C,type:"primary",block:!0,disabled:!g,loading:b,children:["Approve ",x," token"]})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(a.Button,{type:"text",onClick:function(){return n(!1)},children:b?"Minimize":"Cancel"})})]})},Zt=function(e){var t=e.visible,n=void 0!==t&&t,s=e.onCancel,c=void 0===s?function(){}:s,i=(0,r.useSelector)((function(e){return e.wormhole})),o=i.sourceChain,u=i.targetChain,d=i.amount,l=i.sourceTokens[i.tokenAddress];return l?(0,h.jsx)(a.Modal,{visible:n,footer:!1,closable:!1,centered:!0,children:(0,h.jsxs)(a.Row,{gutter:[16,16],justify:"center",children:[(0,h.jsx)(a.Col,{style:{marginBottom:50},children:(0,h.jsx)(a.Typography.Title,{level:4,children:"Confirm transfer"})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Card,{bordered:!1,className:"confirm-transfer-wrap",bodyStyle:{padding:0},children:[(0,h.jsxs)(a.Row,{className:"confirm-transfer-header",children:[(0,h.jsx)(a.Col,{span:12,children:(0,h.jsx)(Se,{chainId:o,size:32})}),(0,h.jsx)(a.Col,{span:12,children:(0,h.jsx)(Se,{chainId:u,size:32})}),(0,h.jsxs)(a.Col,{className:"amount",children:[(0,h.jsx)(a.Typography.Text,{style:{color:"#ffffff"},children:l.symbol}),(0,h.jsx)(a.Typography.Title,{level:3,style:{color:"#ffffff"},children:d})]})]}),(0,h.jsx)(Ie,{})]})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(St,{onClose:c})})]})}):null},It=function(){var e=(0,r.useSelector)((function(e){return e.wormhole})),t=e.amount,n=e.processId,s=(0,d.useState)(!1),c=(0,i.Z)(s,2),o=c[0],u=c[1];return(0,h.jsxs)(a.Row,{children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Tooltip,{title:n?"Have transaction in progress":"",children:(0,h.jsx)(a.Button,{disabled:!Number(t)||!!n,type:"primary",onClick:function(){return u(!0)},block:!0,children:"Next"})})}),(0,h.jsx)(Zt,{visible:o,onCancel:u})]})},Dt=function(){return(0,h.jsxs)(a.Row,{gutter:[24,24],children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsxs)(a.Typography.Title,{level:4,children:["Wormhole ",(0,h.jsx)("span",{style:{color:"#F9575E"},children:"Bridge"})]})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(F,{})})]})},Et=function(e){var t=e.title,n=e.label,r=(0,d.useState)(!1),s=(0,i.Z)(r,2),c=s[0],o=s[1];return(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(a.Typography.Text,{children:n}),(0,h.jsx)(a.Tooltip,{title:t,visible:c,onVisibleChange:function(){return o(!1)},children:(0,h.jsx)(f.Z,{name:"information-circle-outline",onClick:function(){return o(!0)},style:{cursor:"pointer"}})})]})},Rt=function(e){var t=e.connected,n=e.installed,r=e.onConnect,s=void 0===r?function(){}:r,c=e.onDisconnect,i=void 0===c?function(){}:c;return t?(0,h.jsx)(a.Button,{size:"small",onClick:i,children:"Disconnect"}):(0,h.jsx)(a.Tooltip,{title:n?"":"Install metamask fist",children:(0,h.jsx)(a.Button,{size:"small",onClick:s,type:"primary",disabled:!n,children:"Connect"})})},Wt=function(e){var t=e.chainId,n=e.address,r=e.onChange,s=void 0===r?function(){}:r;return(0,h.jsx)(a.Row,{children:(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Select,{onChange:function(e){return s(Number(e))},value:String(t),bordered:!1,suffixIcon:(0,h.jsx)(f.Z,{name:"chevron-down-outline"}),size:"large",style:{marginLeft:-4},className:"custom-selector",dropdownStyle:{lineHeight:"normal"},disabled:!0,children:Ce.map((function(e){return(0,h.jsx)(a.Select.Option,{value:String(e.chainID),children:(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(a.Avatar,{src:e.logo,size:32,style:{backgroundColor:"#2D3355",border:"none"}}),(0,h.jsxs)(a.Space,{direction:"vertical",size:0,children:[(0,h.jsx)(a.Typography.Text,{style:{fontWeight:600},children:e.name}),n&&(0,h.jsx)(a.Typography.Text,{style:{fontSize:12},children:(0,v.Xn)(n)})]})]})},e.chainID)}))})})})},Pt=n(13106),Nt=n(70775),zt=n.n(Nt),Bt=function e(){var t=this;(0,We.Z)(this,e),this.detectedProvider=(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt()();case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e)}))),this.getProvider=(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt()();case 2:if(t=e.sent){e.next=5;break}throw new Error("No provider");case 5:return n=new Pt.Q(t,"any"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),this.getAddress=(0,c.Z)(u().mark((function e(){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProvider();case 2:return n=e.sent,e.next=5,n.send("eth_requestAccounts",[]);case 5:if((r=e.sent)[0]){e.next=8;break}throw new Error("There is no Ethereum account");case 8:return e.abrupt("return",r[0]);case 9:case"end":return e.stop()}}),e)})))},Ot=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceWalletAddress,s=t.sourceChain,o=(0,d.useState)(!1),l=(0,i.Z)(o,2),f=l[0],p=l[1],x=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Bt,t.next=3,n.detectedProvider();case 3:if(t.sent){t.next=6;break}return t.abrupt("return",p(!1));case 6:p(!0),e(yt({wallet:n}));case 8:case"end":return t.stop()}}),t)}))),[e]);return(0,d.useEffect)((function(){x()}),[x]),(0,h.jsxs)(a.Row,{gutter:[16,16],children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsx)(Wt,{address:n,chainId:s})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(Rt,{connected:!!n,installed:f,onConnect:x,onDisconnect:function(){e(jt())}})})]})},Mt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.targetWalletAddress,c=t.targetChain,i=(0,s.useWallet)().wallet.address;return(0,d.useEffect)((function(){var t=window.sentre.wallet;t&&i&&e(kt({wallet:t}))}),[i,e]),(0,h.jsxs)(a.Row,{gutter:[16,16],align:"middle",children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsx)(Wt,{address:n,chainId:c})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(a.Tag,{style:{margin:0,borderRadius:4,background:"rgba(249, 87, 94, 0.1)",color:"#F9575E",textTransform:"capitalize",border:"none"},children:"Connected"})})]})},Lt=function(){return(0,h.jsx)(a.Card,{bordered:!1,className:"account-item",bodyStyle:{padding:16},children:(0,h.jsxs)(a.Row,{gutter:[16,16],justify:"center",children:[(0,h.jsxs)(a.Col,{span:24,children:[(0,h.jsx)(Et,{title:"Source Network",label:"Source"}),(0,h.jsx)(Ot,{})]}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(a.Tooltip,{title:"Coming soon",style:{background:"red"},children:(0,h.jsx)(f.Z,{name:"git-compare-outline",style:{cursor:"not-allowed"}})})}),(0,h.jsxs)(a.Col,{span:24,children:[(0,h.jsx)(Et,{title:"Target network",label:"Target"}),(0,h.jsx)(Mt,{})]})]})})},Ut=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceTokens,s=t.sourceWalletAddress,c=t.tokenAddress;return(0,h.jsx)(a.Select,{onChange:function(t){return e(bt({tokenAddress:t}))},value:c||"Select",bordered:!1,suffixIcon:(0,h.jsx)(a.Divider,{type:"vertical",style:{margin:0}}),size:"middle",style:{marginLeft:-12},disabled:!s,children:Object.values(n).map((function(e){return(0,h.jsx)(a.Select.Option,{value:e.address,children:(0,h.jsxs)(a.Space,{align:"center",children:[(0,h.jsx)(a.Avatar,{src:e.logo,size:24,style:{border:"none",background:(0,g.p)(e.address,.8)},children:e.symbol.substring(0,2)}),(0,h.jsx)(a.Space,{direction:"vertical",size:0,children:(0,h.jsx)(a.Typography.Text,{style:{color:"#7A7B85"},children:e.symbol})})]})},e.address)}))})},Ft=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceTokens,s=t.tokenAddress,c=t.amount,i=t.processId,o=n[s]||{},u=o.amount,d=o.symbol;return(0,h.jsxs)(a.Row,{gutter:[8,8],children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsx)(a.Typography.Text,{children:"Amount"})}),(0,h.jsx)(a.Col,{children:(0,h.jsxs)(a.Typography.Text,{children:["Available: ",u||0," ",d]})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(ue,{disabled:!s||!!i,placeholder:"0",prefix:(0,h.jsx)(Ut,{}),suffix:(0,h.jsx)(a.Button,{type:"text",style:{marginRight:-7},disabled:!s||!!i,onClick:function(){return e(bt({amount:"".concat(u)}))},children:"MAX"}),value:c,onChange:function(t){return e(bt({amount:t}))},max:u})})]})},_t=function(){return(0,h.jsx)(a.Card,{className:"card-page",bordered:!1,children:(0,h.jsxs)(a.Row,{gutter:[14,14],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(Dt,{})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(Lt,{})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(Ft,{})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(It,{})})]})})},qt=function(e){var t=e.transferState,n=(0,r.useDispatch)(),s=(0,r.useSelector)((function(e){return e.wormhole})),i=s.processId,o=s.sourceTokens,l=s.tokenAddress,p=t.context,x=t.transferData,m=(0,d.useMemo)((function(){return 3===x.step?"success":i===p.id?"pending":"failed"}),[p.id,i,x.step]),w=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(ht({stateTransfer:t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,c.Z)(u().mark((function e(){var r,s,a,c,i,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(At({historyData:t})).unwrap();case 3:return e.next=5,n(Tt({id:p.id})).unwrap();case 5:if(r=window.wormhole,s=r.sourceWallet,a=r.targetWallet,c=o[l],s.ether&&a.sol&&c){e.next=9;break}throw new Error("Login fist");case 9:return i=new lt(s.ether,a.sol,c),e.next=12,i.restore(p.id);case 12:return e.next=14,w(t);case 14:return e.next=16,i.transfer(x.amount,w);case 16:d=e.sent,window.notify({type:"success",description:"Transfer successfully",onClick:function(){return window.open((0,v.kU)(d),"_blank")}}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),window.notify({type:"error",description:e.t0.message});case 23:return e.prev=23,e.next=26,n(Tt({id:""})).unwrap();case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[0,20,23,27]])})));return function(){return e.apply(this,arguments)}}();return"success"===m?(0,h.jsx)(a.Button,{type:"text",size:"large",onClick:function(){return window.open((0,v.kU)(t.transferData.txId),"_blank")},icon:(0,h.jsx)(f.Z,{name:"open-outline"})}):"failed"===m?(0,h.jsx)(a.Button,{type:"primary",size:"small",onClick:g,children:"Retry"}):null},Yt={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},Ht=function(e){var t=e.tag,n=function(e){var n=Yt[t];return"rgba(".concat(n[0],",  ").concat(n[1],", ").concat(n[2],",").concat(e||1,")")};return(0,h.jsx)(a.Tag,{style:{margin:0,borderRadius:4,color:n(),textTransform:"capitalize"},color:n(.1),children:t})},Qt=function(e){var t=e.data,n=(0,r.useSelector)((function(e){return e.wormhole})).processId,s=(0,d.useMemo)((function(){return 3===t.transferData.step?"success":n===t.context.id?"pending":"failed"}),[t.context.id,t.transferData.step,n]);return(0,h.jsx)(Ht,{tag:s})},Xt=[{title:"TIME",dataIndex:"context",render:function(e){return(0,h.jsx)(a.Typography.Text,{children:Re()(e.time).format("DD MMM, YYYY hh:mm")})}},{title:"TRANSACTION ID",dataIndex:"context",render:function(e){return(0,h.jsx)(a.Typography.Text,{style:{fontWeight:700},children:(0,v.Xn)(e.id,8,"...")})}},{title:"SOURCE - TARGET",dataIndex:"context",render:function(e){return(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(Se,{chainId:e.srcChainId}),(0,h.jsx)(a.Typography.Text,{children:(0,h.jsx)(Ze,{chainId:e.srcChainId})})," ","-",(0,h.jsx)(Se,{chainId:e.targetChainId}),(0,h.jsx)(a.Typography.Text,{children:(0,h.jsx)(Ze,{chainId:e.targetChainId})})]})}},{title:"AMOUNT",render:function(e){var t,n,r;return(0,h.jsxs)(a.Typography.Text,{children:[null===e||void 0===e||null===(t=e.transferData)||void 0===t?void 0:t.amount," ",null===e||void 0===e||null===(n=e.context)||void 0===n||null===(r=n.tokenInfo)||void 0===r?void 0:r.symbol]})}},{title:"STATUS",render:function(e){return(0,h.jsx)(Qt,{data:e})}},{title:"ACTION",render:function(e){return(0,h.jsx)(qt,{transferState:e})}}],Vt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.history})).wormhole,n=(0,d.useState)(4),s=(0,i.Z)(n,2),c=s[0],o=s[1];(0,d.useEffect)((function(){e(pt())}),[e]);return(0,h.jsxs)(a.Row,{gutter:[16,16],justify:"center",children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Table,{columns:Xt,dataSource:t.slice(0,c),rowClassName:function(e,t){return t%2?"odd-row":"even-row"},pagination:!1,scroll:{x:1e3},rowKey:function(e){return e.context.id}})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(a.Button,{disabled:c>=t.length,onClick:function(){return o(c+4)},icon:(0,h.jsx)(f.Z,{name:"chevron-down-outline"}),children:"View more"})})]})},Gt=[{title:"TIME",dataIndex:"time",key:"time"},{title:"TRANSACTION ID",dataIndex:"transactionId",key:"transactionId",render:function(e){return(0,h.jsx)(a.Typography.Text,{style:{fontWeight:700},children:(0,v.Xn)(e,8,"...")})}},{title:"FROM",dataIndex:"from",key:"from",render:function(e){return(0,h.jsx)(a.Typography.Text,{children:(0,v.Xn)(e,8,"...")})}},{title:"TO",dataIndex:"to",key:"to",render:function(e){return(0,h.jsx)(a.Typography.Text,{children:(0,v.Xn)(e,8,"...")})}},{title:"AMOUNT",key:"amount",dataIndex:"amount",render:function(e,t){return(0,h.jsx)(a.Typography.Text,{style:{color:t.isReceive?"#14E041":"#D72311"},children:(0,h.jsxs)(a.Space,{size:4,children:[t.isReceive?"+".concat(e):"-".concat(e)," ",(0,h.jsx)(w,{mintAddress:t.mint})]})})}},{title:"STATUS",key:"status",dataIndex:"status",render:function(e){return(0,h.jsx)(Ht,{tag:"success"})}}],Jt=function(){var e=(0,d.useState)(4),t=(0,i.Z)(e,2),n=t[0],c=t[1],o=(0,d.useState)(!0),u=(0,i.Z)(o,2),l=u[0],p=u[1],x=(0,r.useDispatch)(),v=(0,s.useWallet)().wallet.address,m=(0,r.useSelector)((function(e){return e.history})).transaction;(0,d.useEffect)((function(){x(xt({addressWallet:v})).finally((function(){return p(!1)}))}),[x,v]);return(0,h.jsxs)(a.Row,{gutter:[16,16],justify:"center",children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(a.Table,{columns:Gt,dataSource:m.slice(0,n),rowClassName:function(e,t){return t%2?"odd-row":"even-row"},pagination:!1,scroll:{x:1e3},loading:l})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(a.Button,{onClick:function(){return c(n+4)},icon:(0,h.jsx)(f.Z,{name:"chevron-down-outline"}),disabled:n>=m.length,children:"View more"})})]})},Kt=function(){var e=(0,r.useDispatch)();return(0,d.useEffect)((function(){e(pt())}),[e]),(0,h.jsx)(a.Card,{bodyStyle:{paddingTop:12},children:(0,h.jsx)(a.Row,{gutter:[24,24],children:(0,h.jsx)(a.Col,{span:24,children:(0,h.jsxs)(a.Tabs,{children:[(0,h.jsx)(a.Tabs.TabPane,{tab:"Wormhole Bridge History",children:(0,h.jsx)(Vt,{})},"Wormhole"),(0,h.jsx)(a.Tabs.TabPane,{tab:"Transaction History",children:(0,h.jsx)(Jt,{})},"Transaction")]})})})})},$t=function(){return(0,h.jsxs)(a.Row,{gutter:[24,24],children:[(0,h.jsx)(a.Col,{xl:8,md:12,sm:24,children:(0,h.jsx)(J,{})}),(0,h.jsx)(a.Col,{xl:8,md:12,sm:24,children:(0,h.jsx)(ye,{})}),(0,h.jsx)(a.Col,{xl:8,md:12,sm:24,children:(0,h.jsx)(_t,{})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(Kt,{})}),(0,h.jsx)(a.Col,{span:24})]})},en=n(45055),tn=function(e){var t=e.accountAddr,n=e.onClick,r=void 0===n?function(){}:n,c=(0,s.useAccount)().accounts[t].mint;return(0,h.jsx)(a.Card,{className:"account-item",bodyStyle:{padding:12},bordered:!1,hoverable:!0,onClick:function(){return r(t)},children:(0,h.jsxs)(a.Row,{children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(x,{mintAddress:c,size:32}),(0,h.jsxs)(a.Space,{direction:"vertical",size:0,children:[(0,h.jsx)(a.Typography.Text,{children:(0,h.jsx)(w,{mintAddress:c})}),(0,h.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(m,{mintAddress:c})})]})]})}),(0,h.jsx)(a.Col,{style:{height:"100%"},children:(0,h.jsxs)(a.Space,{children:[(0,h.jsxs)(a.Space,{direction:"vertical",size:0,align:"end",children:[(0,h.jsx)(a.Typography.Text,{children:(0,h.jsx)(I,{accountAddr:t})}),(0,h.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(I,{accountAddr:t,inUSD:!0,autoHidden:!0})})]}),(0,h.jsx)(f.Z,{style:{color:"#7A7B85"},name:"arrow-forward-outline"})]})})]})})},nn=n(63805);var rn={appId:"sen_assets",url:"https://descartesnetwork.github.io/sen-assets/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},sn={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},an={manifest:{development:(0,k.Z)({},rn),staging:(0,k.Z)({},rn),production:(0,k.Z)({},rn)}[nn.OB],sol:sn[nn.ef]},cn=an.manifest.appId,on=function(){var e=(0,r.useDispatch)(),t=(0,en.useHistory)(),n=(0,s.useMint)().tokenProvider,o=(0,d.useState)([]),l=(0,i.Z)(o,2),f=l[0],p=l[1],x=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var r,s,a,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],s=[],e.t0=u().keys(t);case 3:if((e.t1=e.t0()).done){e.next=15;break}return a=e.t1.value,c=t[a],e.next=8,n.findByAddress(c.mint);case 8:if(!(i=e.sent)){e.next=12;break}return"SEN"===i.symbol?s.push(a):r.unshift(a),e.abrupt("continue",3);case 12:r.push(a),e.next=3;break;case 15:return e.abrupt("return",p([].concat(s,r)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return(0,h.jsxs)(a.Row,{gutter:[12,12],align:"middle",children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsx)(E,{onChange:x})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(G,{})}),f.map((function(n){return(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(R.ZP,{height:64,overflow:!0,children:(0,h.jsx)(tn,{accountAddr:n,onClick:function(n){return function(n){return e(N({account:n})),t.push("/app/".concat(cn))}(n)}})})},n)}))]})},un=function(e){var t=e.address;return(0,h.jsx)(a.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,h.jsx)($(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,h.jsx)(ne,{color:"#212433",name:"qr-code-outline"})})},dn=function(){var e=(0,s.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],o=n[1],l=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),setTimeout((function(){o(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(a.Space,{size:10,children:[(0,h.jsx)(a.Tooltip,{title:"Copied",visible:r,children:(0,h.jsx)(te(),{text:e,onCopy:l,children:(0,h.jsx)(ne,{color:"#212433",name:"copy-outline",onClick:l})})}),(0,h.jsx)(un,{address:e})]})},ln=function(e){var t=e.hidden,n=void 0!==t&&t,r=(0,d.useState)(),o=(0,i.Z)(r,2),f=o[0],p=o[1],x=(0,s.useWallet)().wallet.lamports,m=(0,v.uR)(l.utils.undecimalize(x,9)).format("0.[000]"),w=(0,d.useMemo)((function(){return(0,v.uR)(Number(m)*((null===f||void 0===f?void 0:f.price)||0)).format("0,0.[000]")}),[m,f]),y=(0,d.useCallback)((0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.l)("solana");case 2:return t=e.sent,e.abrupt("return",p(t));case 4:case"end":return e.stop()}}),e)}))),[]);return(0,d.useEffect)((function(){y()}),[y]),n?(0,h.jsx)(a.Skeleton.Input,{style:{width:128,borderRadius:4},size:"small",active:!0}):(0,h.jsx)(a.Typography.Text,{style:{fontWeight:700},children:"$".concat(w)})},fn=function(){var e=(0,s.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],c=n[1];return(0,h.jsxs)(a.Row,{gutter:[16,16],children:[(0,h.jsx)(a.Col,{flex:"auto",children:(0,h.jsxs)(a.Row,{gutter:[16,16],children:[(0,h.jsx)(a.Col,{children:(0,h.jsx)(a.Avatar,{size:48,children:(0,h.jsx)("span",{style:{fontSize:24},children:l.utils.randEmoji(e)})})}),(0,h.jsx)(a.Col,{children:(0,h.jsxs)(a.Space,{direction:"vertical",size:4,children:[(0,h.jsx)(a.Typography.Text,{children:(0,v.Xn)(e,3,"...")}),(0,h.jsxs)(a.Space,{children:[(0,h.jsx)(ln,{hidden:r}),(0,h.jsx)(a.Button,{type:"text",icon:(0,h.jsx)(f.Z,{name:r?"eye-off-outline":"eye-outline"}),onClick:function(){return c(!r)}})]})]})})]})}),(0,h.jsx)(a.Col,{children:(0,h.jsx)(dn,{})})]})},pn=function(){return(0,h.jsx)(a.Card,{style:{height:"100%",overflow:"auto"},className:"card-sen-assets scrollbar",bordered:!1,children:(0,h.jsxs)(a.Row,{gutter:[24,24],children:[(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(fn,{})}),(0,h.jsx)(a.Col,{span:24,children:(0,h.jsx)(on,{})})]})})},hn=n(85912),xn=(0,W.configureStore)({middleware:function(e){return e(hn.h)},devTools:(0,hn.$)("myapp"),reducer:{history:vt,settings:V,account:z,wormhole:Ct}}),vn=an.manifest.appId,mn=function(){return(0,h.jsx)(s.UIProvider,{appId:vn,children:(0,h.jsx)(s.WalletProvider,{children:(0,h.jsx)(s.PoolProvider,{children:(0,h.jsx)(s.MintProvider,{children:(0,h.jsx)(s.AccountProvider,{children:(0,h.jsx)(r.Provider,{store:xn,children:(0,h.jsx)($t,{})})})})})})})},wn={size:"small",type:"default"},gn=function(){return(0,h.jsx)(s.UIProvider,{appId:vn,children:(0,h.jsx)(s.WalletProvider,{children:(0,h.jsx)(s.PoolProvider,{children:(0,h.jsx)(s.MintProvider,{children:(0,h.jsx)(s.AccountProvider,{children:(0,h.jsx)(r.Provider,{store:xn,children:(0,h.jsx)(pn,{})})})})})})})}},31633:function(e,t,n){"use strict";var r=n(63805),s=n(77566),a=n(77330),c={sol:s.Z[r.ef],register:a.Z[r.OB]};t.Z=c},65090:function(e,t,n){"use strict";var r=n(4942),s=n(15861),a=n(87757),c=n.n(a),i=n(19289),o=n(95418),u="accounts",d=(0,i.createAsyncThunk)("".concat(u,"/getAccounts"),function(){var e=(0,s.Z)(c().mark((function e(t){var n,r,s,a,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.owner,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid owner/wallet address");case 3:return r=window.sentre.splt,s=o.account.fromAddress(n),e.next=7,r.connection.getTokenAccountsByOwner(s,{programId:r.spltProgramId});case 7:return a=e.sent,i=a.value,u={},i.forEach((function(e){var t=e.pubkey,n=e.account.data,s=t.toBase58(),a=r.parseAccountData(n);return u[s]=a})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,i.createAsyncThunk)("".concat(u,"/getAccount"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var s,a,i,u,d,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.address,a=n.getState,o.account.isAddress(s)){e.next=4;break}throw new Error("Invalid account address");case 4:if(i=a(),!(u=i.accounts[s])){e.next=7;break}return e.abrupt("return",(0,r.Z)({},s,u));case 7:return d=window.sentre.splt,e.next=10,d.getAccountData(s);case 10:return l=e.sent,e.abrupt("return",(0,r.Z)({},s,l));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,i.createAsyncThunk)("".concat(u,"/upsetAccount"),function(){var e=(0,s.Z)(c().mark((function e(t){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,s=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(s){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,i.createAsyncThunk)("".concat(u,"/deleteAccount"),function(){var e=(0,s.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,i.createSlice)({name:u,initialState:{},reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){return t.payload})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){delete e[t.payload.address]}))}});t.ZP=h.reducer},87358:function(e,t,n){"use strict";var r=n(19289),s=n(85912),a=n(87482),c=n(5105),i=n(58851),o=n(21028),u=n(65090),d=n(33015),l=n(92871),f=n(33361),p=(0,r.configureStore)({middleware:function(e){return e(s.h)},devTools:(0,s.$)("sentre"),reducer:{ui:a.ZP,flags:c.Z,page:i.ZP,wallet:o.ZP,accounts:u.ZP,mints:d.ZP,pools:l.ZP,search:f.ZP}});t.Z=p},33015:function(e,t,n){"use strict";n.d(t,{ih:function(){return d}});var r=n(4942),s=n(15861),a=n(87757),c=n.n(a),i=n(19289),o=n(95418),u="mints",d=(0,i.createAsyncThunk)("".concat(u,"/getMint"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var s,a,i,u,d,l,f,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.address,a=t.force,i=void 0!==a&&a,u=n.getState,o.account.isAddress(s)){e.next=4;break}throw new Error("Invalid mint address");case 4:if(i){e.next=8;break}if(d=u(),!(l=d.accounts[s])){e.next=8;break}return e.abrupt("return",(0,r.Z)({},s,l));case 8:return f=window.sentre.splt,e.next=11,f.getMintData(s);case 11:return p=e.sent,e.abrupt("return",(0,r.Z)({},s,p));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l=(0,i.createAsyncThunk)("".concat(u,"/upsetMint"),function(){var e=(0,s.Z)(c().mark((function e(t){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,s=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(s){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,i.createAsyncThunk)("".concat(u,"/deleteMint"),function(){var e=(0,s.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,i.createSlice)({name:u,initialState:{},reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){delete e[t.payload.address]}))}});t.ZP=p.reducer},58851:function(e,t,n){"use strict";var r=n(93433),s=n(1413),a=n(15861),c=n(87757),i=n.n(c),o=n(19289),u=n(95418),d=n(3007),l=n(31633).Z.register,f=l.senreg,p=l.extra,h=function(e,t){return t&&Array.isArray(t)?t.filter((function(t){return e[t]})):[]},x=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v="page",m={register:{},appIds:[],widgetIds:[]},w=(0,o.createAsyncThunk)("".concat(v,"/loadRegister"),(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,e.abrupt("return",{register:(0,s.Z)((0,s.Z)({},t),p)});case 4:case"end":return e.stop()}}),e)})))),g=(0,o.createAsyncThunk)("".concat(v,"/installManifest"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var a,c,o,d,l,f,p,h,x,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,c=a(),o=c.wallet.address,d=c.page,l=d.appIds,f=d.widgetIds,p=d.register,u.account.isAddress(o)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(!l.includes(t.appId)){e.next=6;break}throw new Error("Cannot run sandbox for an installed application.");case 6:return(h=(0,r.Z)(l)).push(t.appId),x=(0,r.Z)(f),t.supportedViews.includes("widget")&&x.push(t.appId),(v=(0,s.Z)({},p))[t.appId]=t,e.abrupt("return",{appIds:h,widgetIds:x,register:v});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),y=(0,o.createAsyncThunk)("".concat(v,"/loadPage"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c,o,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,c=s.page.register,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return o=new d.Z(a).createInstance("sentre"),e.t0=h,e.t1=c,e.next=9,o.getItem("appIds");case 9:if(e.t2=e.sent,e.t2){e.next=12;break}e.t2=m.appIds;case 12:return e.t3=e.t2,l=(0,e.t0)(e.t1,e.t3),e.t4=h,e.t5=c,e.next=18,o.getItem("widgetIds");case 18:if(e.t6=e.sent,e.t6){e.next=21;break}e.t6=m.widgetIds;case 21:return e.t7=e.t6,f=(0,e.t4)(e.t5,e.t7),e.abrupt("return",{appIds:l,widgetIds:f});case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),j=(0,o.createAsyncThunk)("".concat(v,"/updatePage"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,c=s.page.register,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return t=h(c,t),o=new d.Z(a),e.next=8,o.createInstance("sentre").setItem("appIds",t);case 8:return e.abrupt("return",{appIds:t});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=(0,o.createAsyncThunk)("".concat(v,"/installApp"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var s,a,c,o,l,f,p,h,x,v,m,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.getState,o=c(),l=o.wallet.address,f=o.page,p=f.register,h=f.appIds,x=f.widgetIds,u.account.isAddress(l)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(!h.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return(v=(0,r.Z)(h)).push(t),m=null!==(s=p[t])&&void 0!==s&&null!==(a=s.supportedViews)&&void 0!==a&&a.includes("widget")?[].concat((0,r.Z)(x),[t]):(0,r.Z)(x),w=new d.Z(l),e.next=12,w.createInstance("sentre").setItem("appIds",v);case 12:return e.next=14,w.createInstance("sentre").setItem("widgetIds",m);case 14:return e.abrupt("return",{appIds:v,widgetIds:m});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),b=(0,o.createAsyncThunk)("".concat(v,"/uninstallApp"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c,o,l,f,p,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,c=s.page,o=c.appIds,l=c.widgetIds,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(o.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return f=o.filter((function(e){return e!==t})),p=l.filter((function(e){return e!==t})),h=new d.Z(a),e.next=11,h.createInstance("sentre").setItem("appIds",f);case 11:return e.next=13,h.createInstance("sentre").setItem("widgetIds",p);case 13:return e.next=15,h.dropInstance(t);case 15:return e.abrupt("return",{appIds:f,widgetIds:p});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T=(0,o.createAsyncThunk)("".concat(v,"/updateDashboard"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return c=new d.Z(a),e.next=7,c.createInstance("sentre").setItem("widgetIds",t);case 7:return e.abrupt("return",{widgetIds:t});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),A=(0,o.createAsyncThunk)("".concat(v,"/addWidgets"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var s,a,c,o,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.getState,a=s(),c=a.wallet.address,o=a.page.widgetIds,u.account.isAddress(c)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:return l=[].concat((0,r.Z)(o),(0,r.Z)(t)),f=new d.Z(c),e.next=8,f.createInstance("sentre").setItem("widgetIds",l);case 8:return e.abrupt("return",{widgetIds:l});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C=(0,o.createAsyncThunk)("".concat(v,"/removeWidget"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,c=s.page.widgetIds,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(c.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return o=c.filter((function(e){return e!==t})),l=new d.Z(a),e.next=10,l.createInstance("sentre").setItem("widgetIds",o);case 10:return e.abrupt("return",{widgetIds:o});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=(0,o.createSlice)({name:v,initialState:m,reducers:{},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(g.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(y.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(j.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(k.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(b.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(T.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(A.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(C.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=S.reducer},92871:function(e,t,n){"use strict";var r=n(4942),s=n(15861),a=n(87757),c=n.n(a),i=n(19289),o=n(95418),u=n(31633).Z.sol.taxmanAddress,d="pools",l=(0,i.createAsyncThunk)("".concat(d,"/getPools"),(0,s.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.swap,e.next=3,t.connection.getProgramAccounts(t.swapProgramId,{filters:[{dataSize:257},{memcmp:{bytes:u,offset:65}}]});case 3:return n=e.sent,r={},n.forEach((function(e){var n=e.pubkey,s=e.account.data,a=n.toBase58(),c=t.parsePoolData(s);r[a]=c})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),f=(0,i.createAsyncThunk)("".concat(d,"/getPool"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var s,a,i,u,d,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.address,a=n.getState,o.account.isAddress(s)){e.next=4;break}throw new Error("Invalid pool address");case 4:if(i=a(),!(u=i.pools[s])){e.next=7;break}return e.abrupt("return",(0,r.Z)({},s,u));case 7:return d=window.sentre.swap,e.next=10,d.getPoolData(s);case 10:return l=e.sent,e.abrupt("return",(0,r.Z)({},s,l));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=(0,i.createAsyncThunk)("".concat(d,"/upsetPool"),function(){var e=(0,s.Z)(c().mark((function e(t){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,s=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid pool address");case 3:if(s){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,i.createSlice)({name:d,initialState:{},reducers:{},extraReducers:function(e){e.addCase(l.fulfilled,(function(e,t){return t.payload})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=h.reducer},33361:function(e,t,n){"use strict";var r=n(15861),s=n(87757),a=n.n(s),c=n(19289),i="search",o=(0,c.createAsyncThunk)("".concat(i,"/setValue"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{value:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=(0,c.createAsyncThunk)("".concat(i,"/setLoading"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{loading:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,c.createAsyncThunk)("".concat(i,"/setDisabled"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{disabled:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,c.createSlice)({name:i,initialState:{value:"",loading:!1,disabled:!1},reducers:{},extraReducers:function(e){e.addCase(o.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(u.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=l.reducer},87482:function(e,t,n){"use strict";var r=n(15861),s=n(87757),a=n.n(s),c=n(19289),i=function(){var e=window.innerWidth;return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":e<1400?"xl":"xxl"},o="ui",u={theme:function(){var e=(new Date).getHours();return e>=6&&e<18?"light":"dark"}(),width:window.innerWidth,infix:i(),touchable:"ontouchstart"in window||navigator.maxTouchPoints>0,visibleActionCenter:!1},d=(0,c.createAsyncThunk)("".concat(o,"/setTheme"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{theme:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,c.createAsyncThunk)("".concat(o,"/resize"),(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.innerWidth,n=i(),e.abrupt("return",{width:t,infix:n});case 3:case"end":return e.stop()}}),e)})))),f=(0,c.createAsyncThunk)("".concat(o,"/setVisibleActionCenter"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visibleActionCenter:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,c.createSlice)({name:o,initialState:u,reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=p.reducer},21028:function(e,t,n){"use strict";var r=n(15861),s=n(87757),a=n.n(s),c=n(19289),i=n(95418),o=n(31633),u=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.Z.sol,r=n.node,s=n.spltAddress,c=n.splataAddress,u=n.swapAddress,window.sentre={wallet:t,lamports:new i.Lamports(r),splt:new i.SPLT(s,c,r),swap:new i.Swap(u,s,c,r)};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(t=window.sentre)&&void 0!==t&&t.wallet&&window.sentre.wallet.disconnect(),e.next=3,u(void 0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l="wallet",f={visible:!1,address:"",lamports:BigInt(0)},p=(0,c.createAsyncThunk)("".concat(l,"/openWallet"),(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!0});case 1:case"end":return e.stop()}}),e)})))),h=(0,c.createAsyncThunk)("".concat(l,"/closeWallet"),(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!1});case 1:case"end":return e.stop()}}),e)})))),x=(0,c.createAsyncThunk)("".concat(l,"/connectWallet"),function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Invalid wallet instance");case 2:return e.next=4,u(t);case 4:return e.next=6,t.getAddress();case 6:return n=e.sent,e.next=9,window.sentre.lamports.getLamports(n);case 9:return r=e.sent,e.abrupt("return",{address:n,lamports:BigInt(r),visible:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=(0,c.createAsyncThunk)("".concat(l,"/updateWallet"),function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lamports,e.abrupt("return",{lamports:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,c.createAsyncThunk)("".concat(l,"/disconnectWallet"),(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))),w=(0,c.createSlice)({name:l,initialState:f,reducers:{},extraReducers:function(e){e.addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(h.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(x.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(v.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(m.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=w.reducer},21411:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(15861),s=n(15671),a=n(43144),c=n(87757),i=n.n(c),o=n(15822),u=n(85964),d=n(67751),l=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,null,[{key:"getSingleFlight",value:function(e){var t=JSON.stringify(e);if(this.mapInstance.has(t)){var n=this.mapInstance.get(t);if(n)return n}var r=new f(e);return this.mapInstance.set(t,r),r}},{key:"load",value:function(){var t=(0,r.Z)(i().mark((function t(n,r){var s,a,c,o=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.length>2&&void 0!==o[2]?o[2]:{},"object"===typeof n&&(n=JSON.stringify(n)),a=e.getSingleFlight(s),e.mapInstance.set(n,a),c=new u.g(n),t.abrupt("return",a.load(c,r));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();l.mapInstance=new Map;var f=function(){function e(t){(0,s.Z)(this,e),this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(o.Dt,t)}return(0,a.Z)(e,[{key:"load",value:function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,s,a,c=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.U.get(t.key))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return s=!1,(a=this.mapRequestCalling.get(t.key))||(a=t,s=!0,this.mapRequestCalling.set(a.key,a)),e.abrupt("return",new Promise((function(e,t){if(!a)return t("Not found request!");a.add(e,t),s&&c.fetch(a,n)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e,t){var n=this;if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((function(t){d.U.set(e.key,t,n.config.cache),e.resolves(t)})).catch((function(t){e.rejects(t)})).finally((function(){n.mapRequestCalling.delete(e.key),n.fetchRequestQueue(t)}))}},{key:"fetchRequestQueue",value:function(e){if(this.validateLimit()){var t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}}},{key:"addRequestQueue",value:function(e,t){var n,r=this;this.requestQueue.push(e),this.intervalRequest=setInterval((function(){r.fetchRequestQueue(t)}),null===(n=this.config.limit)||void 0===n?void 0:n.time)}},{key:"validateLimit",value:function(){if(!this.config.limit)return!1;var e=this.timeLogs[0]||0,t=(new Date).getTime();return this.timeLogs.length<this.config.limit.calls||t-e>this.config.limit.time}},{key:"createTimeLogs",value:function(){var e;if(this.config.limit){var t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}}]),e}()},3007:function(e,t,n){"use strict";var r=n(37762),s=n(15861),a=n(15671),c=n(87757),i=n.n(c),o=n(15454),u=n.n(o),d=n(95418),l=n(83868),f=function e(t){var n=this;if((0,a.Z)(this,e),this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=function(e){return u().createInstance({driver:n.driver,name:n.dbName,storeName:e})},this.dropInstance=function(){var e=(0,s.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.createInstance(t),e.next=3,r.clear();case 3:return e.next=5,u().dropInstance({name:n.dbName,storeName:t});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.all=(0,s.Z)(i().mark((function e(){var t,s,a,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,n.createInstance("sentre").getItem("appIds");case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:s=e.t0.flat().concat(["sentre"]),a=(0,r.Z)(s),e.prev=8,o=i().mark((function e(){var r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.value,t[r]={},s=n.createInstance(r),e.next=5,s.iterate((function(e,n){t[r][n]=e}));case 5:case"end":return e.stop()}}),e)})),a.s();case 11:if((c=a.n()).done){e.next=15;break}return e.delegateYield(o(),"t1",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(8),a.e(e.t2);case 20:return e.prev=20,a.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,23]])}))),this.fetch=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ipfs.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.backup=(0,s.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.all();case 2:return t=e.sent,e.next=5,n.ipfs.set(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),this.restore=function(){var e=(0,s.Z)(i().mark((function e(t){var r,s,a,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetch(t);case 2:r=e.sent,e.t0=i().keys(r);case 4:if((e.t1=e.t0()).done){e.next=19;break}return s=e.t1.value,e.next=8,n.createInstance(s);case 8:a=e.sent,e.t2=i().keys(r[s]);case 10:if((e.t3=e.t2()).done){e.next=17;break}return c=e.t3.value,o=r[s][c],e.next=15,a.setItem(c,o);case 15:e.next=10;break;case 17:e.next=4;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!d.account.isAddress(t))throw new Error("Invalid address");this.dbName=t,this.driver=[u().WEBSQL,u().LOCALSTORAGE],this.ipfs=new l.Z};t.Z=f},63805:function(e,t,n){"use strict";n.d(t,{OB:function(){return s},ef:function(){return a}});var r=n(53933),s="production",a=function(){switch(r.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}}()},34559:function(e,t,n){"use strict";n.d(t,{sA:function(){return i},Xn:function(){return o},kU:function(){return u},uR:function(){return d}});var r=n(95418),s=n(16200),a=n.n(s),c=n(63805),i=function(e){return new Promise((function(t){return setTimeout(t,e)}))},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.substring(0,t)+n+e.substring(e.length-t,e.length)},u=function(e){return r.account.isAddress(e)?"https://explorer.solana.com/address/".concat(e,"?cluster=").concat(c.ef):"https://explorer.solana.com/tx/".concat(e,"?cluster=").concat(c.ef)},d=function(e){return e?a()(e):a()("0")}},88677:function(){},28608:function(){},34845:function(){},33370:function(){}}]);
//# sourceMappingURL=661.58b22877.chunk.js.map