(self.webpackChunksen_assets=self.webpackChunksen_assets||[]).push([[520],{43180:function(e,t,n){"use strict";n.r(t),n.d(t,{Page:function(){return Zn},Widget:function(){return In},widgetConfig:function(){return Sn}});var r=n(55754),s=n(49142),a=n(78589),c=n(15861),i=n(29439),o=n(87757),u=n.n(o),d=n(92950),l=n(97940),f=function(e){var t=(0,s.useMint)().tokenProvider,n=(0,s.usePool)().pools,r=(0,d.useState)([]),a=(0,i.Z)(r,2),o=a[0],l=a[1],f=(0,d.useCallback)((0,c.Z)(u().mark((function r(){var s,a,c,i,o,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",l([void 0]));case 2:return r.next=4,t.findByAddress(e);case 4:if(!(s=r.sent)){r.next=7;break}return r.abrupt("return",l([s]));case 7:if(a=Object.values(n).find((function(t){return t.mint_lpt===e}))){r.next=10;break}return r.abrupt("return",l([void 0]));case 10:return c=a.mint_a,i=a.mint_b,r.next=13,t.findByAddress(c);case 13:return o=r.sent,r.next=16,t.findByAddress(i);case 16:return d=r.sent,r.abrupt("return",l([o,d]));case 18:case"end":return r.stop()}}),r)}))),[e,n,t]);return(0,d.useEffect)((function(){f()}),[f]),o},p=n(45263),h=function(e){var t=e.mintAddress,n=e.size,r=void 0===n?24:n,s=e.icon,c=void 0===s?(0,p.jsx)(l.Z,{name:"diamond-outline"}):s,i=f(t);return(0,p.jsx)(a.Avatar.Group,{style:{display:"block"},children:i.map((function(e,t){return(0,p.jsx)(a.Avatar,{src:null===e||void 0===e?void 0:e.logoURI,size:r,style:{backgroundColor:"#2D3355",border:"none"},children:c},(null===e||void 0===e?void 0:e.address)||t)}))})},x=n(34559),v=function(e){var t=e.mintAddress,n=void 0===t?"":t,r=f(n),s=(0,d.useMemo)((function(){var e=r.map((function(e){if(!e)return(0,x.Xn)(n);var t=e.name,s=e.address,a=e.symbol;return 1===r.length&&t?t:a||(0,x.Xn)(s)})).join(" / ");return 1===r.length?e:"".concat(e," LPT")}),[n,r]);return(0,p.jsx)("span",{children:s})},m=function(e){var t=e.mintAddress,n=f(t),r=(0,d.useMemo)((function(){return n.map((function(e){return e?e.symbol:"UNKN"})).join(" / ")}),[n]);return(0,p.jsx)("span",{children:r})},w=n(35105),g={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},y=function(e){var t=(0,d.useState)(g),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,s.useMint)().tokenProvider,l=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n,r,s,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.findByAddress(e);case 3:return r=t.sent,s=null===r||void 0===r||null===(n=r.extensions)||void 0===n?void 0:n.coingeckoId,t.next=7,(0,w.l)(s);case 7:return c=t.sent,t.abrupt("return",a(c));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",a(g));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[e,o]);return(0,d.useEffect)((function(){l()}),[l]),r},b=n(1413),j={up:"#14E041",down:"#D72311",default:"#FFC580"},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=Object.assign((0,b.Z)({},j),t);return e<0?n.down:e>0?n.up:n.default},T=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,s=e.configs,a=y(t),c=k(null===a||void 0===a?void 0:a.priceChange,s);return(0,p.jsxs)("span",{style:{color:r?c:"inherit"},children:[(0,x.uR)(Math.abs(null===a||void 0===a?void 0:a.priceChange)).format("0.[0]"),"%"]})},A=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,s=e.configs,a=y(t),c=k(null===a||void 0===a?void 0:a.priceChange,s),i="remove-outline";return(null===a||void 0===a?void 0:a.priceChange)<0&&(i="arrow-down-outline"),(null===a||void 0===a?void 0:a.priceChange)>0&&(i="arrow-up-outline"),(0,p.jsx)("span",{style:{color:r?c:"inherit"},children:(0,p.jsx)(l.Z,{name:i})})},C=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,s=e.configs,a=y(t),c=k(null===a||void 0===a?void 0:a.priceChange,s);return(0,p.jsx)("span",{style:{color:r?c:"inherit"},children:null!==a&&void 0!==a&&a.price?"$".concat((0,x.uR)(null===a||void 0===a?void 0:a.price).format("0,0.[00]")):"--"})},Z=n(95418),S="11111111111111111111111111111111",I="So11111111111111111111111111111111111111112",D=function(e){var t=(0,d.useState)(0),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,s.useMint)(),l=o.tokenProvider,f=o.getMint,p=(0,s.usePool)().pools,h=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n,r,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",a(0));case 2:return t.next=4,l.findByAddress(e);case 4:if(!(n=t.sent)){t.next=7;break}return t.abrupt("return",a(n.decimals));case 7:t.t0=u().keys(p);case 8:if((t.t1=t.t0()).done){t.next=15;break}if(r=t.t1.value,p[r].mint_lpt!==e){t.next=13;break}return t.abrupt("return",9);case 13:t.next=8;break;case 15:return t.prev=15,t.next=18,f({address:e});case 18:return s=t.sent,t.abrupt("return",a(s[e].decimals));case 22:return t.prev=22,t.t2=t.catch(15),t.abrupt("return",a(0));case 25:case"end":return t.stop()}}),t,null,[[15,22]])}))),[f,e,p,l]);return(0,d.useEffect)((function(){h()}),[h]),r},W=function(e){var t=(0,s.useAccount)().accounts,n=(0,s.useWallet)().wallet,r=(0,d.useMemo)((function(){return e===n.address?{amount:n.lamports,mint:S}:t[e]||{}}),[e,t,n.address,n.lamports]),a=r.amount,c=r.mint,i=D(c);return(0,d.useMemo)((function(){return{balance:Z.utils.undecimalize(a,i),mint:c,amount:a,decimals:i}}),[a,i,c])},R=function(e){var t=e.accountAddr,n=e.inUSD,r=void 0!==n&&n,s=e.autoHidden,a=void 0!==s&&s,c=e.format,i=void 0===c?"0,0.[00]":c,o=W(t),u=o.amount,l=o.mint,f=o.decimals,h=y(l),v=(0,d.useMemo)((function(){var e=Number(Z.utils.undecimalize(u,f));return r&&(e=Number(e)*h.price),(r?"$":"")+(0,x.uR)(e).format(i)}),[u,h.price,f,i,r]);return a&&!h.price?(0,p.jsx)("span",{children:"--"}):(0,p.jsx)("span",{children:v})},E=function(e){var t,n=e.accountAddr,r=e.active,c=void 0!==r&&r,i=e.onClick,o=void 0===i?function(){}:i,u=null===(t=(0,s.useAccount)().accounts[n])||void 0===t?void 0:t.mint;return(0,p.jsx)(a.Card,{className:"account-item ".concat(c?"active":""),bodyStyle:{padding:12},hoverable:!0,onClick:function(){return o(n)},children:(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Col,{span:12,children:(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(h,{mintAddress:u,size:32}),(0,p.jsxs)(a.Space,{direction:"vertical",size:0,children:[(0,p.jsx)(a.Typography.Text,{children:(0,p.jsx)(m,{mintAddress:u})}),(0,p.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(v,{mintAddress:u})})]})]})}),(0,p.jsx)(a.Col,{flex:"auto",style:{height:"100%"},children:(0,p.jsxs)(a.Space,{direction:"vertical",size:0,align:"start",children:[(0,p.jsx)(a.Typography.Text,{children:(0,p.jsx)(R,{accountAddr:n})}),(0,p.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(R,{accountAddr:n,inUSD:!0,autoHidden:!0})})]})}),(0,p.jsx)(a.Col,{children:(0,p.jsxs)(a.Space,{direction:"vertical",size:0,align:"end",children:[(0,p.jsx)(a.Typography.Text,{children:(0,p.jsxs)(a.Space,{size:2,children:[(0,p.jsx)(A,{mintAddress:u,colorized:!0}),(0,p.jsx)(T,{mintAddress:u,colorized:!0})]})}),(0,p.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(C,{mintAddress:u})})]})})]})})},P=function(e){var t=e.onChange,n=(0,r.useSelector)((function(e){return e.settings})),o=n.hiddenZeros,f=n.hiddenUnknownTokens,h=(0,d.useState)(""),x=(0,i.Z)(h,2),v=x[0],m=x[1],w=(0,s.useAccount)().accounts,g=(0,s.useMint)().tokenProvider,y=(0,s.usePool)().pools,b=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mint,t.amount||!o){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,g.findByAddress(n);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:r=0,s=Object.values(y);case 9:if(!(r<s.length)){e.next=16;break}if(s[r].mint_lpt!==n){e.next=13;break}return e.abrupt("return",!0);case 13:r++,e.next=9;break;case 16:return e.abrupt("return",!f);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,o,y,g]),j=(0,d.useCallback)((0,c.Z)(u().mark((function e(){var n,r,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=u().keys(w);case 2:if((e.t1=e.t0()).done){e.next=18;break}if(r=e.t1.value,s=w[r],!(v&&v.length>2)){e.next=12;break}return e.next=8,g.find(v);case 8:if(a=e.sent,a.map((function(e){return e.address})).includes(s.mint)){e.next=12;break}return e.abrupt("continue",2);case 12:return e.next=14,b(s);case 14:e.sent&&(n[r]=s),e.next=2;break;case 18:return e.abrupt("return",t(n));case 19:case"end":return e.stop()}}),e)}))),[w,v,t,g,b]);return(0,d.useEffect)((function(){j()}),[j]),(0,p.jsx)(a.Row,{gutter:[16,16],children:(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Input,{placeholder:"Search",value:v,size:"large",style:{background:"transparent"},prefix:(0,p.jsx)(a.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:v?function(){return m("")}:function(){},icon:(0,p.jsx)(l.Z,{name:v?"close-outline":"search-outline"})}),onChange:function(e){return m(e.target.value)}})})})},N=n(36498),z=n(19289),B="account",O=(0,z.createAsyncThunk)("".concat(B,"/selectAccount"),function(){var e=(0,c.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,e.abrupt("return",{accountSelected:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=(0,z.createSlice)({name:B,initialState:{accountSelected:""},reducers:{},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,L=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.active,c=void 0!==r&&r,i=(0,s.useWallet)().wallet,o=i.address,u=i.lamports,d=Z.utils.undecimalize(u,9);return(0,p.jsx)(a.Card,{className:"account-item ".concat(c?"active":""),bodyStyle:{padding:"8px 12px",cursor:"pointer"},onClick:function(){return n(o)},hoverable:!0,children:(0,p.jsxs)(a.Row,{gutter:[12,8],align:"middle",wrap:!1,children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Space,{style:{whiteSpace:"nowrap"},children:[(0,p.jsx)(h,{mintAddress:S,size:22}),(0,p.jsxs)(a.Tooltip,{title:"".concat(d," SOL"),children:[(0,p.jsxs)(a.Typography.Text,{children:[(0,p.jsx)(R,{accountAddr:o})," "]}),(0,p.jsx)(a.Typography.Text,{type:"secondary",children:"SOL"})]}),(0,p.jsx)(a.Divider,{type:"vertical",style:{margin:0}}),(0,p.jsx)(a.Typography.Text,{children:(0,p.jsx)(C,{mintAddress:S})})]})}),(0,p.jsxs)(a.Col,{children:[(0,p.jsx)(A,{mintAddress:S,colorized:!0}),(0,p.jsx)(T,{mintAddress:S,colorized:!0})]})]})})},U=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.account})).accountSelected,n=(0,s.useMint)().tokenProvider,o=(0,s.useWallet)().wallet,l=(0,d.useState)([]),f=(0,i.Z)(l,2),h=f[0],x=f[1],v=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var r,s,a,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],s=[],e.t0=u().keys(t);case 3:if((e.t1=e.t0()).done){e.next=15;break}return a=e.t1.value,c=t[a],e.next=8,n.findByAddress(c.mint);case 8:if(!(i=e.sent)){e.next=12;break}return"SEN"===i.symbol?s.push(a):r.unshift(a),e.abrupt("continue",3);case 12:r.push(a),e.next=3;break;case 15:return e.abrupt("return",x([].concat(s,r)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return(0,d.useEffect)((function(){t||e(O({account:o.address}))}),[t,e,o.address]),(0,p.jsxs)(a.Row,{gutter:[12,12],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(P,{onChange:v})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(L,{active:t===o.address,onClick:function(t){return e(O({account:t}))}})}),h.map((function(n){return(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(N.ZP,{height:64,overflow:!0,children:(0,p.jsx)(E,{accountAddr:n,active:t===n,onClick:function(t){return e(O({account:t}))}})})},n)}))]})};var q,H,F,Y=n.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",Q=function(e){var t=e.spacing,n=void 0===t?4:t,r=e.iconSize,s=void 0===r?20:r;return(0,p.jsxs)(a.Space,{size:n,children:[(0,p.jsx)(a.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:"Powered by"}),(0,p.jsx)(a.Avatar,{src:Y,size:s})]})},X=function(e,t){return window.notify({type:"success",description:"".concat(e," successfully. Click to view details."),onClick:function(){return window.open((0,x.kU)(t),"_blank")}})},_=function(e){return window.notify({type:"error",description:e.message})},V=function(e){var t=e.mint,n=t.logoURI,r=t.symbol,o=t.name,f=t.address,h=(0,d.useState)(!1),x=(0,i.Z)(h,2),v=x[0],m=x[1],w=(0,s.useWallet)().wallet.address,g=(0,s.useAccount)().accounts,y=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.sentre,n=t.splt,s=t.wallet,!v&&Z.account.isAddress(w)&&Z.account.isAddress(f)&&s){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,n.initializeAccount(f,w,s);case 6:return a=e.sent,c=a.txId,e.abrupt("return",X("Import ".concat(r),c));case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",_(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.splt,e.next=3,t.deriveAssociatedAddress(w,f);case 3:return n=e.sent,e.abrupt("return",m(Object.keys(g).includes(n)));case 5:case"end":return e.stop()}}),e)})))()}),[g,f,w]),(0,p.jsx)(a.Card,{className:"account-item",bodyStyle:{padding:16},bordered:!1,children:(0,p.jsxs)(a.Row,{gutter:[16,16],wrap:!1,children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(a.Avatar,{src:n}),(0,p.jsx)(a.Typography.Text,{type:"secondary",children:r}),(0,p.jsx)(a.Typography.Text,{children:o})]})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(a.Button,{type:"text",style:{color:v?"#3DBA4E":"inherit"},icon:(0,p.jsx)(l.Z,{name:v?"checkmark-outline":"add-outline"}),onClick:y})})]})})},G=function(e){var t=e.onChange,n=(0,d.useState)(""),r=(0,i.Z)(n,2),o=r[0],f=r[1],h=(0,s.useMint)().tokenProvider;return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&!(o.length<3)){e.next=2;break}return e.abrupt("return",t(null));case 2:return e.next=4,h.find(o);case 4:return n=e.sent,e.abrupt("return",t(n));case 6:case"end":return e.stop()}}),e)})))()}),[o,t,h]),(0,p.jsx)(a.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,p.jsx)(a.Input,{placeholder:"Search",value:o,size:"small",bordered:!1,prefix:(0,p.jsx)(a.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:o?function(){return f("")}:function(){},icon:(0,p.jsx)(l.Z,{name:o?"close-outline":"search-outline"})}),suffix:(0,p.jsx)(Q,{}),onChange:function(e){return f(e.target.value)}})})},J=function(){var e=(0,d.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],o=(0,d.useState)(),f=(0,i.Z)(o,2),h=f[0],x=f[1],v=(0,d.useState)(),m=(0,i.Z)(v,2),w=m[0],g=m[1],y=(0,s.useMint)().tokenProvider;return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.all();case 2:return t=e.sent,e.abrupt("return",x(t));case 4:case"end":return e.stop()}}),e)})))()}),[y]),(0,p.jsxs)(a.Row,{gutter:[16,16],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Button,{type:"primary",icon:(0,p.jsx)(l.Z,{name:"add-outline"}),onClick:function(){return r(!0)},block:!0,children:"Import token"})}),(0,p.jsx)(a.Modal,{visible:n,onCancel:function(){return r(!1)},closeIcon:(0,p.jsx)(l.Z,{name:"close-outline"}),footer:null,centered:!0,destroyOnClose:!0,children:(0,p.jsxs)(a.Row,{gutter:[16,16],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Typography.Title,{level:5,children:"Token Selection"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(G,{onChange:g})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Row,{gutter:[16,16],style:{height:300,overflow:"auto"},children:(w||h||[]).map((function(e,t){return(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(N.ZP,{height:64,overflow:!0,children:(0,p.jsx)(V,{mint:e})})},t)}))})})]})})]})},K="settings",$=(0,z.createAsyncThunk)("".concat(K,"/setHiddenZeros"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,s=n.getState,a=s(),c=a.settings,e.abrupt("return",(0,b.Z)((0,b.Z)({},c),{},{hiddenZeros:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ee=(0,z.createAsyncThunk)("".concat(K,"/setHiddenUnknownTokens"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,s=n.getState,a=s(),c=a.settings,e.abrupt("return",(0,b.Z)((0,b.Z)({},c),{},{hiddenUnknownTokens:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),te=(0,z.createSlice)({name:K,initialState:{hiddenZeros:!1,hiddenUnknownTokens:!0},reducers:{},extraReducers:function(e){e.addCase($.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(ee.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,ne=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.settings})),n=t.hiddenZeros,s=t.hiddenUnknownTokens;return(0,p.jsx)(a.Popover,{zIndex:1e3,content:(0,p.jsxs)(a.Row,{gutter:[8,8],style:{maxWidth:224},children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Space,{size:"large",children:[(0,p.jsx)(a.Switch,{size:"small",checked:n,onChange:function(t){return e($({checked:t}))}}),(0,p.jsx)(a.Typography.Text,{children:"Hide zero balances"})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Space,{size:"large",children:[(0,p.jsx)(a.Switch,{size:"small",checked:s,onChange:function(t){return e(ee({checked:t}))}}),(0,p.jsx)(a.Typography.Text,{children:"Hide unknown tokens"})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(J,{})})]}),trigger:"click",placement:"topRight",children:(0,p.jsx)(l.Z,{style:{cursor:"pointer"},name:"cog-outline"})})},re=function(){return(0,p.jsx)(a.Card,{className:"card-page card-sen-assets",bordered:!1,children:(0,p.jsxs)(a.Row,{gutter:[24,24],align:"middle",children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsx)(a.Typography.Title,{level:4,children:"Sen Assets"})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(ne,{})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(U,{})})]})})},se=n(38288),ae=n.n(se),ce=n(51518),ie=n.n(ce),oe=function(e){var t=e.name,n=e.color,r=void 0===n?"#BEC4EC":n,s=e.onClick,a=void 0===s?function(){}:s;return(0,p.jsx)("span",{onClick:a,style:{cursor:"pointer",color:r},children:(0,p.jsx)(l.Z,{name:t})})},ue=function(e){var t=e.address;return(0,p.jsx)(a.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,p.jsx)(ae(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,p.jsx)(oe,{name:"qr-code-outline"})})},de=function(){var e=(0,s.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],o=n[1],l=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),setTimeout((function(){o(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(a.Space,{size:10,children:[(0,p.jsx)(a.Typography.Text,{style:{color:"#E9E9EB",cursor:"pointer"},onClick:function(){return window.open((0,x.kU)(e),"_blank")},children:(0,x.Xn)(e,3,"...")}),(0,p.jsx)(a.Tooltip,{title:"Copied",visible:r,children:(0,p.jsx)(ie(),{text:e,onCopy:l,children:(0,p.jsx)(oe,{name:"copy-outline",onClick:l})})}),(0,p.jsx)(ue,{address:e})]})},le=function(e){var t=e.mintAddress;return(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(h,{mintAddress:t}),(0,p.jsx)(a.Typography.Title,{className:"title-color",level:5,children:(0,p.jsx)(m,{mintAddress:t})})]})}),(0,p.jsx)(a.Col,{children:(0,p.jsxs)(a.Space,{size:1,align:"end",children:[(0,p.jsx)(A,{mintAddress:t,colorized:!0}),(0,p.jsx)(T,{mintAddress:t,colorized:!0}),(0,p.jsx)(a.Divider,{className:"text-secondary",type:"vertical",style:{padding:0}}),(0,p.jsx)(a.Typography.Text,{className:"text-color",children:(0,p.jsx)(C,{mintAddress:t})})]})})]})},fe=function(){var e=(0,r.useSelector)((function(e){return e.account})).accountSelected,t=W(e).mint;return(0,p.jsxs)(a.Row,{className:"header-balance",gutter:[16,16],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsx)(a.Typography.Text,{className:"text-secondary",children:"Your balance"})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(de,{})})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Row,{gutter:[8,8],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(le,{mintAddress:t})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Space,{align:"baseline",children:[(0,p.jsx)(a.Typography.Title,{className:"title-color",level:3,children:(0,p.jsx)(R,{accountAddr:e})}),(0,p.jsxs)(a.Typography.Text,{className:"text-secondary",children:["~",(0,p.jsx)(R,{accountAddr:e,inUSD:!0})]})]})})]})})]})},pe=n(45987),he=["max","onChange"],xe=(0,d.forwardRef)((function(e,t){var n,r=e.max,s=e.onChange,c=(0,pe.Z)(e,he),o=(0,d.useState)(""),u=(0,i.Z)(o,2),f=u[0],h=u[1],x=(0,d.useState)(null),v=(0,i.Z)(x,2),m=v[0],w=v[1],g=(0,d.useRef)(t),y=(0,d.useCallback)((function(e){var t=function(e){q&&(clearTimeout(q),q=void 0),h(e),q=setTimeout((function(){return h("")}),500)};return/^\d*(\.\d*)?$/.test(e)?r&&parseFloat(e)>parseFloat(r)?t("Not enough balance"):s(e):t("Invalid character")}),[r,s]);return null===g||void 0===g||null===(n=g.current)||void 0===n||n.setSelectionRange(m,m),(0,p.jsx)(a.Tooltip,{title:(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(l.Z,{name:"warning"}),f]}),visible:!!f,children:(0,p.jsx)(a.Input,(0,b.Z)((0,b.Z)({},c),{},{onBlur:function(e){var t=Number(e.target.value);e.target.value&&y(t?t.toString():"")},onChange:function(e){w(e.target.selectionStart),y(e.target.value||"")},ref:g}))})})),ve=function(e){var t=e.accountAddr,n=e.onChange,r=e.value,s=W(t);return(0,p.jsxs)(a.Row,{gutter:[8,8],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Typography.Text,{children:"Amount"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(xe,{placeholder:0,prefix:(0,p.jsx)(a.Typography.Text,{type:"secondary",children:(0,p.jsx)(m,{mintAddress:s.mint})}),suffix:(0,p.jsx)(a.Button,{type:"text",style:{marginRight:-7},onClick:function(){return n(s.balance)},children:"MAX"}),value:r,onChange:n,max:s.balance})})]})},me=function(e){var t=e.onChange,n=e.value,r=(0,s.useWallet)().wallet.address;return(0,p.jsxs)(a.Row,{gutter:[8,8],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Typography.Text,{children:"Receiver Address"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Input,{size:"large",placeholder:"".concat(r.substring(0,12),"..."),value:n,onChange:function(e){return t(e.target.value)}})})]})},we=function(e){var t=e.accountAddr,n=(0,d.useState)(""),r=(0,i.Z)(n,2),s=r[0],o=r[1],l=W(t),f=l.mint,h=l.decimals,x=(0,d.useState)(!1),v=(0,i.Z)(x,2),m=v[0],w=v[1],g=(0,d.useState)("0"),y=(0,i.Z)(g,2),b=y[0],j=y[1],k=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.sentre,n=t.splt,r=t.wallet){e.next=3;break}throw new Error("Login first");case 3:if(a=s,Z.account.isAssociatedAddress(a)){e.next=8;break}return e.next=7,n.deriveAssociatedAddress(s,f);case 7:a=e.sent;case 8:return e.prev=8,e.next=11,n.getAccountData(a);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),e.next=17,n.initializeAccount(f,s,r);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,c.Z)(u().mark((function e(){var n,r,a,c,i,o,d,l,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),e.prev=1,n=window.sentre,r=n.splt,a=n.wallet,c=n.lamports,a){e.next=5;break}return e.abrupt("return");case 5:if(i=Z.utils.decimalize(b,h),f!==S){e.next=11;break}return e.next=9,c.transfer(i,s,a);case 9:return o=e.sent,e.abrupt("return",X("Transfer",o));case 11:return e.next=13,k();case 13:if(d=e.sent){e.next=16;break}throw new Error("Invalid destination address");case 16:return e.next=18,r.transfer(i,t,d,a);case 18:return l=e.sent,p=l.txId,e.abrupt("return",X("Transfer",p));case 23:e.prev=23,e.t0=e.catch(1),_(e.t0);case 26:return e.prev=26,w(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,23,26,29]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(a.Row,{gutter:[16,16],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(me,{onChange:o,value:s})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(ve,{accountAddr:t,onChange:j,value:b})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Button,{type:"primary",onClick:T,block:!0,loading:m,disabled:!Number(b),children:"Transfer"})})]})},ge=function(e){var t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],s=n[1],o=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(0,x.sA)(1500);case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(a.Input,(0,b.Z)((0,b.Z)({},e),{},{suffix:(0,p.jsx)(a.Tooltip,{title:"Copied",visible:r,children:(0,p.jsx)(ie(),{text:String(e.value),onCopy:o,children:(0,p.jsx)(a.Button,{type:"text",size:"small",icon:(0,p.jsx)(l.Z,{name:"copy-outline"})})})})}))},ye=function(e){var t=e.accountAddr,n=(0,s.useAccount)().accounts,r=(0,s.useWallet)().wallet,o=(0,d.useState)(!1),l=(0,i.Z)(o,2),f=l[0],h=l[1],x=(0,d.useState)(""),v=(0,i.Z)(x,2),m=v[0],w=v[1],g=(0,d.useCallback)((0,c.Z)(u().mark((function e(){var s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&t!==r.address){e.next=2;break}return e.abrupt("return",w(r.address));case 2:return s=window.sentre.splt,a=n[t].mint,e.next=6,s.deriveAssociatedAddress(r.address,a);case 6:return c=e.sent,e.abrupt("return",w(c));case 8:case"end":return e.stop()}}),e)}))),[t,n,f,r.address]);return(0,d.useEffect)((function(){g()}),[g]),(0,p.jsxs)(a.Row,{justify:"center",gutter:[16,16],children:[(0,p.jsx)(a.Col,{style:{background:"#f4f4f5",paddingTop:8},children:(0,p.jsx)(ae(),{value:m,size:110,bgColor:"#ffffff",fgColor:"#1f1f1f"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Row,{gutter:[8,8],children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsx)(a.Typography.Text,{children:f?"Derive associated address":"Wallet address"})}),(0,p.jsx)(a.Col,{children:t!==r.address&&(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(a.Typography.Text,{children:"Dev mode"}),(0,p.jsx)(a.Switch,{size:"small",checked:f,onChange:h})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(ge,{size:"large",value:m})})]})})]})},be=BigInt(2039280),je=function(){var e=(0,r.useDispatch)(),t=(0,d.useState)(""),n=(0,i.Z)(t,2),o=n[0],l=n[1],f=(0,d.useState)(!1),h=(0,i.Z)(f,2),x=h[0],v=h[1],w=(0,d.useState)(""),g=(0,i.Z)(w,2),y=g[0],b=g[1],j=(0,s.useWallet)().wallet.address,k=W(y),T=W(j),A=void 0===k.amount,C=Z.utils.undecimalize(k.amount,k.decimals),S=(0,d.useMemo)((function(){var e=Number(T.balance),t=Number(Z.utils.undecimalize(BigInt(1e8)+be,9))+1e-5;return e<=t?0:e-t}),[T.balance]),I=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),e.prev=1,t=window.sentre,n=t.splt,r=t.wallet){e.next=5;break}throw new Error("Wallet is not connected");case 5:return s=Z.utils.decimalize(Number(o),9),e.next=8,n.wrap(s+be,j,r);case 8:a=e.sent,c=a.txId,X("Wrap ".concat(o," SOL"),c),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",_(e.t0));case 16:return e.prev=16,v(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var t=(0,c.Z)(u().mark((function t(){var n,r,s,a,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v(!0),t.prev=1,n=window.sentre,r=n.splt,s=n.wallet){t.next=5;break}throw new Error("Wallet is not connected");case 5:return t.next=7,r.unwrap(s);case 7:return a=t.sent,c=a.txId,t.next=11,e(O({account:j}));case 11:return t.abrupt("return",X("Unwrap ".concat(k.balance," SOL"),c));case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",_(t.t0));case 17:return t.prev=17,v(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})));return function(){return t.apply(this,arguments)}}();(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.splt,e.next=3,t.deriveAssociatedAddress(j,Z.DEFAULT_WSOL);case 3:n=e.sent,b(n);case 5:case"end":return e.stop()}}),e)})))()}),[j]),(0,d.useEffect)((function(){return l(A?"":C)}),[A,C]);var R=function(){return(0,p.jsx)(d.Fragment,{children:(0,p.jsxs)("ul",{style:{paddingLeft:16},children:[(0,p.jsx)("li",{children:(0,p.jsx)(a.Typography.Text,{type:"secondary",children:"To wrap SOL you have to deposit an extra fee equal to 0.00203928 SOL."})}),(0,p.jsx)("li",{children:(0,p.jsx)(a.Typography.Text,{type:"secondary",children:"The fee mentioned above will return when you unwrap."})})]})})},E=function(){return(0,p.jsxs)(d.Fragment,{children:[(0,p.jsx)(a.Typography.Text,{type:"secondary",children:"Due to technical limitations, it only allows:"}),(0,p.jsxs)("ul",{style:{paddingLeft:16},children:[(0,p.jsx)("li",{children:(0,p.jsx)(a.Typography.Text,{type:"secondary",children:"Unwrap all at once."})}),(0,p.jsx)("li",{children:(0,p.jsx)(a.Typography.Text,{type:"secondary",children:"To increase/decrease the WSOL balance, unwrap all first then re-wrap your desired number."})})]})]})};return(0,p.jsxs)(a.Row,{gutter:[24,24],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Row,{gutter:[8,8],children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsx)(a.Typography.Text,{children:A?"Wrap Amount":"Unwrap amount"})}),(0,p.jsx)(a.Col,{children:(0,p.jsxs)(a.Space,{size:4,children:[(0,p.jsx)(a.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Available:"}),(0,p.jsxs)(a.Typography.Text,{style:{fontSize:12},children:[A?T.balance:C," SOL"]})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(xe,{placeholder:"0",size:"large",prefix:(0,p.jsx)(m,{mintAddress:A?T.mint:k.mint}),suffix:A&&(0,p.jsx)(a.Button,{type:"text",style:{padding:0,height:"auto"},onClick:function(){return l("".concat(S))},children:"MAX"}),value:o,onChange:l,max:S,disabled:!A})})]})}),(0,p.jsx)(a.Col,{span:24,children:A?(0,p.jsx)(a.Button,{type:"primary",onClick:I,block:!0,loading:x,children:"Wrap"}):(0,p.jsx)(a.Button,{type:"primary",onClick:D,block:!0,loading:x,children:"Unwrap"})}),(0,p.jsx)(a.Col,{span:24,style:{fontSize:12},children:A?(0,p.jsx)(R,{}):(0,p.jsx)(E,{})})]})},ke=function(e){var t=e.accountAddr,n=(0,r.useDispatch)(),i=(0,s.useAccount)().accounts[t]||{},o=function(){var e=(0,c.Z)(u().mark((function e(){var r,s,a,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=window.sentre,s=r.splt,a=r.wallet){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,s.closeAccount(t,a);case 6:return c=e.sent,i=c.txId,e.next=10,window.notify({type:"success",description:"Close ".concat((0,x.Xn)(t)," successfully. Click to view details."),onClick:function(){return window.open((0,x.kU)(i),"_blank")}});case 10:n(O({account:Z.DEFAULT_EMPTY_ADDRESS})),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",window.notify({type:"error",description:"error"}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(a.Row,{gutter:[16,16],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Card,{bordered:!1,className:"close-account",children:(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(l.Z,{name:"alert-circle-outline"}),(0,p.jsx)(a.Typography.Text,{children:"Please transfer out all tokens in this account before closing!"})]})})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Button,{type:"primary",onClick:o,disabled:Boolean(i.amount),block:!0,children:"Close Account"})})]})},Te=function(){var e=(0,d.useState)(""),t=(0,i.Z)(e,2),n=t[0],s=t[1],c=(0,r.useSelector)((function(e){return e.account})).accountSelected,o=W(c).mint,u=[S,I].includes(o);return(0,d.useEffect)((function(){return s("Send")}),[c]),(0,p.jsx)(a.Card,{bordered:!1,style:{marginTop:-20,boxShadow:"none"},bodyStyle:{padding:0},children:(0,p.jsxs)(a.Tabs,{activeKey:n,onChange:s,style:{padding:16,paddingTop:4},children:[(0,p.jsx)(a.Tabs.TabPane,{tab:"Send",children:(0,p.jsx)(we,{accountAddr:c})},"Send"),(0,p.jsx)(a.Tabs.TabPane,{tab:"Receive",children:(0,p.jsx)(ye,{accountAddr:c})},"Receive"),(0,p.jsx)(a.Tabs.TabPane,{tab:"Wrap",disabled:!u,children:(0,p.jsx)(je,{})},"Wrap"),(0,p.jsx)(a.Tabs.TabPane,{tab:"Close",disabled:o===S,children:(0,p.jsx)(ke,{accountAddr:c})},"Close")]})})},Ae=function(){return(0,p.jsx)(a.Card,{className:"card-page",bordered:!1,bodyStyle:{padding:0},children:(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(fe,{})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(Te,{})})]})})},Ce=n(35435);!function(e){e.Transfer="Transfer",e.Provider="Provider",e.SourceWallet="SourceWallet"}(H||(H={})),function(e){e.Transfer="Transfer",e.WaitSigned="WaitSigned",e.Redeem="Redeem",e.Finish="Finish"}(F||(F={}));var Ze,Se,Ie,De={mainnet:"https://wormhole-v2-mainnet-api.certus.one",testnet:"",devnet:"https://wormhole-v2-testnet-api.certus.one"},We=[{chainID:Ce.rQ,name:"Solana",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{chainID:Ce.ZN,name:"Ethereum",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk/logo.png"}],Re=function(e){var t=e.chainId,n=e.size,r=void 0===n?24:n,s=We.find((function(e){return e.chainID===t}));return(0,p.jsx)(a.Avatar,{src:null===s||void 0===s?void 0:s.logo,size:r,style:{border:"none"}})},Ee=function(e){var t=e.chainId,n=We.find((function(e){return e.chainID===t}));return(0,p.jsx)("span",{children:null===n||void 0===n?void 0:n.name})},Pe=function(){var e=(0,r.useSelector)((function(e){return e.wormhole})),t=e.sourceChain,n=e.sourceWalletAddress,s=e.targetChain,c=e.targetWalletAddress;return(0,p.jsxs)(a.Row,{gutter:[16,16],align:"middle",style:{padding:16},children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Space,{direction:"vertical",size:0,children:[(0,p.jsxs)(a.Typography.Title,{level:5,children:[(0,p.jsx)(Ee,{chainId:t})," Network"]}),(0,p.jsx)(a.Typography.Text,{children:(0,x.Xn)(n)})]})}),(0,p.jsx)(a.Col,{children:(0,p.jsxs)(a.Space,{direction:"vertical",size:0,align:"end",children:[(0,p.jsxs)(a.Typography.Title,{level:5,children:[(0,p.jsx)(Ee,{chainId:s})," Network"]}),(0,p.jsx)(a.Typography.Text,{children:(0,x.Xn)(c)})]})})]})},Ne=function(e){var t=e.percent,n=void 0===t?100:t;return(0,p.jsx)(a.Row,{children:(0,p.jsx)(a.Col,{className:"progress",span:24,children:(0,p.jsx)("span",{className:"progress-bar",style:{width:"".concat(n,"%")}})})})},ze=n(37762),Be=n(93433),Oe=n(4550),Me=n.n(Oe),Le=n(15671),Ue=n(43144),qe=function e(){(0,Le.Z)(this,e),this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]},He=function e(){(0,Le.Z)(this,e),this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"},Fe=function e(){(0,Le.Z)(this,e),this.source=void 0,this.destination=void 0,this.amount="0"},Ye=n(71256),Qe=700,Xe=function(){function e(){(0,Le.Z)(this,e),this.conn=window.sentre.splt.connection}return(0,Ue.Z)(e,[{key:"fetchSignatures",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=a.length>2&&void 0!==a[2]?a[2]:Qe)>Qe&&(r=Qe),s={limit:r,before:n},e.abrupt("return",this.conn.getConfirmedSignaturesForAddress2(t,s));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchConfirmTransaction",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c,i,o,d,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],150,r=[],s=0;s<=t.length/150;s++)a=150*s,c=t.slice(a,a+150),r.push(this.conn.getParsedConfirmedTransactions(c));return e.next=6,Promise.all(r);case 6:i=e.sent,o=(0,ze.Z)(i);try{for(o.s();!(d=o.n()).done;)l=d.value,n=n.concat(l)}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=(0,c.Z)(u().mark((function e(t,n,r){var s,a,c,i,o,d,l,f,p,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Math.floor(n),r=Math.floor(r),s=new Ye.PublicKey(t),c=[],i=!1;case 5:if(i){e.next=38;break}return e.next=8,this.fetchSignatures(s,a,Qe);case 8:if(null!==(o=e.sent)&&void 0!==o&&o.length&&!i){e.next=11;break}return e.abrupt("break",38);case 11:d=(0,ze.Z)(o),e.prev=12,d.s();case 14:if((l=d.n()).done){e.next=26;break}if(f=l.value,(p=f.blockTime)&&!(p>r)){e.next=19;break}return e.abrupt("continue",24);case 19:if(!(p<n)){e.next=22;break}return i=!0,e.abrupt("break",26);case 22:a=f.signature,c.push(a);case 24:e.next=14;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(12),d.e(e.t0);case 31:return e.prev=31,d.f(),e.finish(31);case 34:if(!((null===o||void 0===o?void 0:o.length)<Qe)){e.next=36;break}return e.abrupt("break",38);case 36:e.next=5;break;case 38:return e.next=40,this.fetchConfirmTransaction(c);case 40:return h=e.sent,e.abrupt("return",h);case 42:case"end":return e.stop()}}),e,this,[[12,28,31,34]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();!function(e){e.InitPool="INITIALIZE_POOL",e.AddLiquidity="ADD_LIQUIDITY",e.RemoveLiquidity="REMOVE_LIQUIDITY",e.Swap="SWAP"}(Ze||(Ze={})),function(e){e.InitFarm="INITIALIZE_FARM",e.Stake="STAKE",e.Unstake="UNSTAKE"}(Se||(Se={})),function(e){e.Transfer="transfer"}(Ie||(Ie={}));var _e,Ve=1e3;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(_e||(_e={}));var Ge=function(){function e(){(0,Le.Z)(this,e),this.milliSeconds=(new Date).valueOf()}return(0,Ue.Z)(e,[{key:"setMilliSeconds",value:function(e){this.milliSeconds=e}},{key:"format",value:function(e){var t=new Date(this.milliSeconds);return Me()(t).format(e)}},{key:"subtractDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=Me()(this.milliSeconds).subtract(t,"days").valueOf(),r=e.fromSeconds(n/Ve);return r}},{key:"addDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=Me()(this.milliSeconds).add(t,"days").valueOf(),r=e.fromSeconds(n/Ve);return r}},{key:"seconds",value:function(){return(this.milliSeconds-this.milliSeconds%Ve)/Ve}},{key:"ymd",value:function(){return Number(this.format(_e.YMD))}}],[{key:"fromSeconds",value:function(t){var n=new e,r=t*Ve;return n.setMilliSeconds(r),n}},{key:"fromYmd",value:function(t){var n=new e,r=Me()(t,_e.YMD).valueOf();return n.setMilliSeconds(r),n}},{key:"getListDate",value:function(t,n){for(var r=[],s=e.fromYmd(t),a=e.fromYmd(n);s.ymd()<=a.ymd();)r.push(s.ymd()),s=s.addDay();return r}},{key:"today",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e.YMD;return Me()().format(e)}}]),e}(),Je=function(){function e(t,n){(0,Le.Z)(this,e),this.solana=void 0,this.programId=void 0,this.configs=void 0,this.solana=new Xe,this.programId=t,this.configs=n}return(0,Ue.Z)(e,[{key:"collect",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,s,a,c,i,o,d,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===(t=this.configs)||void 0===t?void 0:t.secondFrom)||0,s=(null===(n=this.configs)||void 0===n?void 0:n.secondTo)||(new Date).getTime()/1e3,e.next=4,this.solana.fetchTransactions(this.programId,r,s);case 4:a=e.sent,c=[],i=(0,ze.Z)(a);try{for(i.s();!(o=i.n()).done;)d=o.value,(l=this.parseTransLog(d))&&c.push(l)}catch(u){i.e(u)}finally{i.f()}return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseTransLog",value:function(e){var t,n,r=e.blockTime,s=e.meta,a=e.transaction;if(r&&s){var c=s.postTokenBalances,i=s.preTokenBalances,o=s.err,u=a.signatures,d=a.message;if(null===o){var l=(null===(t=s.innerInstructions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.instructions)||[],f=d.instructions[0]||[],p=new qe;p.signature=u[0],p.blockTime=r,p.time=Ge.fromSeconds(r).ymd(),p.programId=f.programId.toString();var h=this.parseAccountInfo(d.accountKeys,c||[],i||[]);return this.isParsedInstruction(f)?(p.programTransfer=this.parseAction([f],h),p):(p.actionTransfers=this.parseAction(l,h),p.programInfo={programId:f.programId.toString(),data:f.data},p)}}}},{key:"isParsedInstruction",value:function(e){return void 0!==e.parsed}},{key:"parseAction",value:function(e,t){var n,r=[],s=(0,ze.Z)(e);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(this.isParsedInstruction(a)){var c=a.parsed||{};if(c.type===Ie.Transfer){var i=c.info,o=this.parseActionTransfer(i,t);o&&r.push(o)}}}}catch(u){s.e(u)}finally{s.f()}return r}},{key:"parseActionTransfer",value:function(e,t){var n=e.source,r=e.destination,s=e.amount;if(s&&t.has(n)&&t.has(r)){var a=new Fe;return a.source=t.get(n),a.destination=t.get(r),a.amount=s,a}}},{key:"parseAccountInfo",value:function(e,t,n){var r,s=new Map,a=(0,ze.Z)(t);try{for(a.s();!(r=a.n()).done;){var c=r.value,i=c.accountIndex,o=c.mint,u=c.uiTokenAmount,d=new He;d.address=e[i].pubkey.toString(),d.postBalance=u.amount,d.mint=o,d.decimals=u.decimals,s.set(d.address,d)}}catch(w){a.e(w)}finally{a.f()}var l,f=(0,ze.Z)(n);try{for(f.s();!(l=f.n()).done;){var p=l.value,h=p.accountIndex,x=p.uiTokenAmount,v=e[h].pubkey.toString(),m=s.get(v)||new He;m.preBalance=x.amount,s.set(m.address,m)}}catch(w){f.e(w)}finally{f.f()}return s}}]),e}(),Ke=n(60136),$e=n(27277),et=n(21995),tt=n.n(et),nt=n(53933),rt=n(3007),st=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:return e.prev=2,console.log("Retry to get signed vaa:",++t),e.next=6,Ce.RX.apply(void 0,r);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,(0,x.sA)(1e4);case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),at=function(){return nt.Z.get("network")||"mainnet"},ct=function(){return"mainnet"===at()?"mainnet":"goerli"},it=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"mainnet"===n&&(n="eth"),r=[],e.next=4,tt()({method:"get",url:"https://deep-index.moralis.io/api/v2/".concat(t,"/erc20?chain=").concat(n),headers:{"X-API-Key":"N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd"}});case 4:s=e.sent,a=s.data,c=(0,ze.Z)(a);try{for(c.s();!(i=c.n()).done;)(o=i.value).decimals=Number(o.decimals),o.amount=Z.utils.undecimalize(o.balance,o.decimals),o.address=o.token_address,r.push(o)}catch(u){c.e(u)}finally{c.f()}return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serialize(),e.next=3,n.sendRawTransaction(r,{skipPreflight:!0,preflightCommitment:"confirmed"});case 3:return s=e.sent,e.next=6,n.confirmTransaction(s,"confirmed");case 6:if(a=e.sent,!(c=a.value.err)){e.next=10;break}throw new Error("".concat(c," at ").concat(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ut=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z.account.isAddress(t)){e.next=2;break}throw new Error("Invalid mint address");case 2:return e.next=4,n.getAddress();case 4:return r=e.sent,s=window.sentre.splt,e.next=8,s.deriveAssociatedAddress(r,t);case 8:return a=e.sent,c=!1,e.prev=10,e.next=13,s.getAccountData(a);case 13:i=e.sent,o=i.state,c=o>0,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),c=!1;case 21:if(c){e.next=24;break}return e.next=24,s.initializeAccount(t,r,n);case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=window.sentre.wallet)||void 0===n?void 0:n.getAddress();case 2:if(r=e.sent){e.next=5;break}throw new Error("Login fist");case 5:return s=new rt.Z(r).createInstance("wormhole"),a=s.getItem(t),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=window.sentre.wallet)||void 0===r?void 0:r.getAddress();case 2:if(s=e.sent){e.next=5;break}throw new Error("Login fist");case 5:return a=new rt.Z(s).createInstance("wormhole"),e.abrupt("return",a.setItem(t,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ft=n(97429).Buffer,pt=function(){function e(){var t=this;(0,Le.Z)(this,e),this.context=void 0,this.transferData=void 0,this.attestData=void 0,this.restore=function(){var n=(0,c.Z)(u().mark((function n(r){var s,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetchAll();case 2:if(s=n.sent,a=s[r]){n.next=6;break}throw new Error("Not find state transfer");case 6:t.transferData=a.transferData,t.attestData=a.attestData,t.context=a.context;case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),this.transfer=function(){var e=(0,c.Z)(u().mark((function e(n,r){var s,a,c,i,o,d,l,f,p,h,x,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transferData){e.next=4;break}return e.next=3,t.initTransferData(n);case 3:t.transferData=e.sent;case 4:return s=t.getState(),a=s.transferData,e.next=7,t.isAttested();case 7:if(c=e.sent,c.attested){e.next=12;break}return e.next=12,t.attest(r);case 12:if(a.nextStep!==F.Transfer){e.next=28;break}return e.next=15,t.submitTransfer();case 15:return i=e.sent,o=i.emitterAddress,d=i.sequence,l=i.blockHash,a.blockHash=l,a.emitterAddress=o,a.sequence=d,a.nextStep=F.WaitSigned,e.next=25,t.backup();case 25:return f=e.sent,e.next=28,r(f);case 28:if(a.nextStep!==F.WaitSigned){e.next=39;break}return e.next=31,t.getSignedVAA(a.emitterAddress,a.sequence);case 31:return p=e.sent,a.vaaHex=p,a.nextStep=F.Redeem,e.next=36,t.backup();case 36:return h=e.sent,e.next=39,r(h);case 39:if(a.nextStep!==F.Redeem){e.next=51;break}return e.next=42,t.redeem(a.vaaHex);case 42:return x=e.sent,a.txId=x,a.nextStep=F.Finish,e.next=47,t.backup();case 47:return v=e.sent,e.next=50,r(v);case 50:return e.abrupt("return",x);case 51:throw new Error("Invalid step transfer");case 52:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.backup=(0,c.Z)(u().mark((function n(){var r,s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetchAll();case 2:return r=n.sent,s=t.getState(),r[s.context.id]=s,lt(H.Transfer,r),n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)}))),this.getState=function(){if(!t.transferData)throw new Error("Invalid data transfer");if(!t.context)throw new Error("Invalid context");return{transferData:t.transferData,context:t.context,attestData:t.attestData}},this.initTransferData=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function initTransferData");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isAttested=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function isAttested");case 1:case"end":return e.stop()}}),e)}))),this.submitTransfer=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function submitTransfer");case 1:case"end":return e.stop()}}),e)}))),this.submitAttest=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function submitAttest");case 1:case"end":return e.stop()}}),e)}))),this.wrapToken=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function wrapToken");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.redeem=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function redeem");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.initAttestData=function(){return t.attestData||(t.attestData={step:0,sequence:"",emitterAddress:"",vaaHex:"",txId:""}),t.attestData},this.attest=function(){var e=(0,c.Z)(u().mark((function e(n){var r,s,a,c,i,o,d,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=t.initAttestData()).step){e.next=15;break}return e.next=4,t.submitAttest();case 4:return s=e.sent,a=s.emitterAddress,c=s.sequence,r.emitterAddress=a,r.sequence=c,r.step++,e.next=12,t.backup();case 12:return i=e.sent,e.next=15,n(i);case 15:if(1!==r.step){e.next=26;break}return e.next=18,t.getSignedVAA(r.emitterAddress,r.sequence);case 18:return o=e.sent,r.vaaHex=o,r.step++,e.next=23,t.backup();case 23:return d=e.sent,e.next=26,n(d);case 26:if(2!==r.step){e.next=38;break}return e.next=29,t.wrapToken(r.vaaHex);case 29:return l=e.sent,r.txId=l,r.step++,e.next=34,t.backup();case 34:return f=e.sent,e.next=37,n(f);case 37:return e.abrupt("return",l);case 38:throw new Error("Invalid step attest");case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,Ue.Z)(e,[{key:"getConnection",value:function(){var e=window.sentre.splt.nodeUrl;return new Ye.Connection(e,"confirmed")}},{key:"getSignedVAA",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getState(),s=r.context,e.next=3,st(s.wormholeRpc,s.srcChainId,t,n);case 3:return a=e.sent,c=a.vaaBytes,i=ft.from(c).toString("hex"),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();pt.fetchAll=(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(H.Transfer);case 2:return t=e.sent,e.abrupt("return",JSON.parse(JSON.stringify(t))||{});case 4:case"end":return e.stop()}}),e)})));var ht={mainnet:"0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",goerli:"0x706abc4E45D419950511e474C7B9Ed348A4a716c",ropsten:"0xC89Ce4735882C9F0f0FE26686c53074E09B0D550"},xt={mainnet:"0x3ee18B2214AFF97000D974cf647E7C347E8fa585",goerli:"0xF890982f9310df57d00f659cf4fd87e65adEd8d7",ropsten:"0x0290FB167208Af455bB137780163b7B7a9a10C16"},vt={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},mt={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"},wt=n(97429).Buffer,gt=function(e){(0,Ke.Z)(n,e);var t=(0,$e.Z)(n);function n(e,r,s){var a;return(0,Le.Z)(this,n),(a=t.call(this)).srcWallet=void 0,a.targetWallet=void 0,a.isAttested=(0,c.Z)(u().mark((function e(){var t,n,r,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState(),n=t.context,e.next=3,a.srcWallet.getProvider();case 3:return r=e.sent,e.next=6,(0,Ce.Ak)(n.srcTokenBridgeAddress,r,n.tokenInfo.address,Ce.ZN);case 6:return s=e.sent,e.next=9,(0,Ce.sS)(a.getConnection(),n.targetTokenBridgeAddress,s.chainId,s.assetAddress);case 9:return c=e.sent,e.abrupt("return",{attested:!!c,wrappedMintAddress:c});case 11:case"end":return e.stop()}}),e)}))),a.initTransferData=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.srcWallet.getAddress();case 2:return n=e.sent,e.next=5,a.targetWallet.getAddress();case 5:return r=e.sent,s={nextStep:F.Transfer,amount:t,from:n,to:r,emitterAddress:"",sequence:"",vaaHex:"",txId:"",blockHash:""},e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.submitTransfer=(0,c.Z)(u().mark((function e(){var t,n,r,s,c,i,o,d,l,f,p,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState(),n=t.transferData,r=t.context,e.next=3,a.isAttested();case 3:if(s=e.sent,c=s.wrappedMintAddress){e.next=7;break}throw new Error("Attest the token first");case 7:return e.next=9,a.srcWallet.getProvider();case 9:return i=e.sent,o=i.getSigner(),d=Z.utils.decimalize(n.amount,r.tokenInfo.decimals),e.next=14,(0,Ce.YC)(r.srcTokenBridgeAddress,r.tokenInfo.address,o,d);case 14:return e.next=16,ut(c,a.targetWallet);case 16:return l=e.sent,e.next=19,(0,Ce.qC)(r.srcTokenBridgeAddress,o,r.tokenInfo.address,d,Ce.rQ,Z.account.fromAddress(l).toBuffer());case 19:return f=e.sent,p=(0,Ce.N_)(f,r.srcBridgeAddress),h=(0,Ce.Nz)(r.srcTokenBridgeAddress),e.abrupt("return",{sequence:p,emitterAddress:h,blockHash:f.blockHash});case 23:case"end":return e.stop()}}),e)}))),a.submitAttest=(0,c.Z)(u().mark((function e(){var t,n,r,s,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState(),n=t.context,e.next=3,a.srcWallet.getProvider();case 3:return r=e.sent,s=r.getSigner(),e.next=7,(0,Ce.$6)(n.srcTokenBridgeAddress,s,n.tokenInfo.address);case 7:return c=e.sent,i=(0,Ce.N_)(c,n.srcBridgeAddress),o=(0,Ce.Nz)(n.srcTokenBridgeAddress),e.abrupt("return",{sequence:i,emitterAddress:o});case 11:case"end":return e.stop()}}),e)}))),a.wrapToken=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState(),r=n.context,e.next=3,a.targetWallet.getAddress();case 3:return s=e.sent,c=(0,Ce.GZ)(t),e.next=7,(0,Ce.Pp)(a.getConnection(),a.targetWallet.signTransaction,r.targetBridgeAddress,s,wt.from(c));case 7:return e.next=9,(0,Ce.lx)(a.getConnection(),r.targetBridgeAddress,r.targetTokenBridgeAddress,s,c);case 9:return i=e.sent,e.next=12,a.targetWallet.signTransaction(i);case 12:return o=e.sent,e.next=15,ot(o,a.getConnection());case 15:return d=e.sent,e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.redeem=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState(),r=n.context,e.next=3,a.targetWallet.getAddress();case 3:return s=e.sent,c=(0,Ce.GZ)(t),e.next=7,(0,Ce.Pp)(a.getConnection(),a.targetWallet.signTransaction,r.targetBridgeAddress,s,wt.from(c));case 7:return e.next=9,(0,Ce.A7)(a.getConnection(),r.targetBridgeAddress,r.targetTokenBridgeAddress,s,c);case 9:return i=e.sent,e.next=12,a.targetWallet.signTransaction(i);case 12:return o=e.sent,e.next=15,ot(o,a.getConnection());case 15:return d=e.sent,e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.srcWallet=e,a.targetWallet=r,a.context=function(e){var t=ct(),n=at();return{id:(new Date).getTime()+""+Math.random(),time:(new Date).getTime(),srcChainId:Ce.ZN,srcTokenBridgeAddress:xt[t],srcBridgeAddress:ht[t],targetChainId:Ce.rQ,targetTokenBridgeAddress:mt[n],targetBridgeAddress:vt[n],wormholeRpc:De[n],tokenInfo:e}}(s),a}return n}(pt),yt=gt,bt="history",jt=(0,z.createAsyncThunk)("".concat(bt,"/fetchWormholeHistory"),(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.fetchAll();case 2:return t=e.sent,n=Object.values(t),e.abrupt("return",{wormhole:n.reverse()});case 5:case"end":return e.stop()}}),e)})))),kt=(0,z.createAsyncThunk)("".concat(bt,"/updateWormholeHistory"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o,d,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.stateTransfer,s=n.getState,a=s(),c=a.history.wormhole,i=r.context.id,o=JSON.parse(JSON.stringify(r)),d=(0,Be.Z)(c),e.t0=u().keys(d);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(l=e.t1.value,d[l].context.id!==i){e.next=12;break}return d[l]=o,e.abrupt("return",{wormhole:d});case 12:e.next=7;break;case 14:return e.abrupt("return",{wormhole:[o].concat((0,Be.Z)(d))});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Tt=(0,z.createAsyncThunk)("".concat(bt,"/fetchTransactionHistory"),function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c,i,o,d,l,f,p,h,x;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.addressWallet,r=window.sentre.splt,s=new Je(n),e.next=5,s.collect();case 5:a=e.sent,c=[],i=(0,ze.Z)(a),e.prev=8,i.s();case 10:if((o=i.n()).done){e.next=34;break}if(d=o.value,l={},f=d.programTransfer[0]){e.next=16;break}return e.abrupt("continue",32);case 16:if(f.destination&&f.source){e.next=18;break}return e.abrupt("continue",32);case 18:return p=f.destination,e.next=21,r.deriveAssociatedAddress(n,p.mint);case 21:h=e.sent,x=new Date(1e3*d.blockTime),l.time=Me()(x).format("DD MMM, YYYY hh:mm"),l.key=d.signature,l.transactionId=d.signature,l.amount=Number(Z.utils.undecimalize(BigInt(f.amount),p.decimals)),l.from=f.source.address,l.to=p.address,l.mint=p.mint,l.isReceive=h===p.address,c.push(l);case 32:e.next=10;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(8),i.e(e.t0);case 39:return e.prev=39,i.f(),e.finish(39);case 42:return e.abrupt("return",{transaction:c});case 43:case"end":return e.stop()}}),e,null,[[8,36,39,42]])})));return function(t){return e.apply(this,arguments)}}()),At=(0,z.createSlice)({name:bt,initialState:{wormhole:[],transaction:[]},reducers:{},extraReducers:function(e){e.addCase(jt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(kt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Tt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer;window.wormhole={sourceWallet:{},targetWallet:{}};var Ct="wormhole",Zt={sourceTokens:{},sourceChain:Ce.ZN,sourceWalletAddress:"",targetWalletAddress:"",targetChain:Ce.rQ,tokenAddress:"",amount:"",processId:"",visible:!1},St=(0,z.createAsyncThunk)("".concat(Ct,"/connectSourceWallet"),function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,s,a,c,i,o,d,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.wallet,window.wormhole.sourceWallet.ether=r,e.next=4,r.getAddress();case 4:return s=e.sent,a=ct(),e.next=8,it(s,a);case 8:c=e.sent,i={},o=(0,ze.Z)(c);try{for(o.s();!(d=o.n()).done;)l=d.value,i[l.address]=l}catch(u){o.e(u)}finally{o.f()}return f=(null===(n=c[0])||void 0===n?void 0:n.address)||"",e.abrupt("return",{sourceWalletAddress:s,sourceTokens:i,tokenAddress:f});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),It=(0,z.createAsyncThunk)("".concat(Ct,"/fetchSourceTokens"),(0,c.Z)(u().mark((function e(){var t,n,r,s,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.wormhole.sourceWallet.ether){e.next=3;break}throw new Error("Login fist");case 3:return e.next=5,t.getAddress();case 5:return n=e.sent,r=ct(),e.next=9,it(n,r);case 9:s=e.sent,a={},c=(0,ze.Z)(s);try{for(c.s();!(i=c.n()).done;)o=i.value,a[o.address]=o}catch(u){c.e(u)}finally{c.f()}return e.abrupt("return",{sourceTokens:a});case 14:case"end":return e.stop()}}),e)})))),Dt=(0,z.createAsyncThunk)("".concat(Ct,"/disconnectSourceWallet"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,s=r().wormhole,e.abrupt("return",(0,b.Z)((0,b.Z)({},s),{},{sourceWalletAddress:"",sourceTokens:{},tokenAddress:""}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Wt=(0,z.createAsyncThunk)("".concat(Ct,"/connectTargetWallet"),function(){var e=(0,c.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wallet,window.wormhole.targetWallet.sol=n,e.next=4,n.getAddress();case 4:return r=e.sent,e.abrupt("return",{targetWalletAddress:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rt=(0,z.createAsyncThunk)("".concat(Ct,"/setSourceToken"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tokenAddress,s=t.amount,a=n.getState,c=a(),i=c.wormhole,o=r||i.tokenAddress,d=void 0===s?i.amount:s,e.abrupt("return",(0,b.Z)((0,b.Z)({},i),{},{tokenAddress:o,amount:d}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Et=(0,z.createAsyncThunk)("".concat(Ct,"/setWormholeProcess"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,s=n.getState,a=s(),c=a.wormhole,e.abrupt("return",(0,b.Z)((0,b.Z)({},c),{},{processId:r||""}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Pt=(0,z.createAsyncThunk)("".concat(Ct,"/restoreTransfer"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,s,a,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transferState,s=n.getState,window.wormhole.sourceWallet.ether){e.next=5;break}throw new Error("Login fist");case 5:return a=s(),c=a.wormhole,i=r.context,o=r.transferData,(d=(0,b.Z)({},c)).tokenAddress=i.tokenInfo.address,d.processId=i.id,d.amount=o.amount,d.sourceWalletAddress=o.from,d.targetWalletAddress=o.to,e.abrupt("return",(0,b.Z)({},d));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Nt=(0,z.createAsyncThunk)("".concat(Ct,"/setVisibleProcess"),function(){var e=(0,c.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.visible,e.abrupt("return",{visible:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),zt=(0,z.createSlice)({name:Ct,initialState:Zt,reducers:{},extraReducers:function(e){e.addCase(St.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Dt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Wt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Rt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Pt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Et.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Nt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(It.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,Bt=function(e){var t=e.onClose,n=void 0===t?function(){}:t,s=(0,r.useDispatch)(),o=(0,r.useSelector)((function(e){return e.wormhole})),f=o.sourceTokens,h=o.tokenAddress,v=o.amount,m=o.processId,w=(0,d.useState)(!1),g=(0,i.Z)(w,2),y=g[0],b=g[1],j=(0,d.useState)(!1),k=(0,i.Z)(j,2),T=k[0],A=k[1],C=T||!!m,Z=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.sA)(5e3);case 2:return e.next=4,s(It());case 4:return e.next=6,s(Et({id:t.context.id}));case 6:return e.next=8,s(kt({stateTransfer:t}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,c.Z)(u().mark((function e(){var t,r,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(!0);case 2:if(e.prev=2,t=window.wormhole,r=t.sourceWallet,a=t.targetWallet,c=f[h],r.ether&&a.sol&&c){e.next=7;break}throw new Error("Login fist");case 7:return i=new yt(r.ether,a.sol,c),e.next=10,i.transfer(v,Z);case 10:return o=e.sent,X("Transfer",o),e.abrupt("return",n(!1));case 15:e.prev=15,e.t0=e.catch(2),_(e.t0);case 18:return e.prev=18,A(!1),e.next=22,s(Et({id:""}));case 22:return e.finish(18);case 23:case"end":return e.stop()}}),e,null,[[2,15,18,23]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(a.Row,{gutter:[8,8],justify:"center",children:[(0,p.jsx)(a.Col,{span:24,style:{textAlign:"justify"},children:(0,p.jsxs)(a.Space,{align:"start",children:[(0,p.jsx)(a.Typography.Text,{style:{color:"#D72311"},children:(0,p.jsx)(l.Z,{name:"alert-circle-outline"})}),(0,p.jsx)(a.Typography.Text,{style:{color:"#D72311",fontSize:12},children:"You should wait until the process is complete or you can minimize this dialog. However, the process will fail if you exit the Sen Assets."})]})}),(0,p.jsx)(a.Col,{span:24,children:C?(0,p.jsx)(Ne,{}):(0,p.jsx)(a.Checkbox,{checked:y,onChange:function(){return b(!y)},disabled:C,children:"I have read and understood"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Button,{onClick:S,type:"primary",block:!0,disabled:!y,loading:C,children:["Approve ",v," token"]})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(a.Button,{type:"text",onClick:function(){return n(!1)},children:C?"Minimize":"Cancel"})})]})},Ot=function(e){var t=e.visible,n=void 0!==t&&t,s=e.onCancel,c=void 0===s?function(){}:s,i=(0,r.useSelector)((function(e){return e.wormhole})),o=i.sourceChain,u=i.targetChain,d=i.amount,l=i.sourceTokens[i.tokenAddress];return l?(0,p.jsx)(a.Modal,{visible:n,footer:!1,closable:!1,centered:!0,children:(0,p.jsxs)(a.Row,{gutter:[16,16],justify:"center",children:[(0,p.jsx)(a.Col,{style:{marginBottom:50},children:(0,p.jsx)(a.Typography.Title,{level:4,children:"Confirm transfer"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Card,{bordered:!1,className:"confirm-transfer-wrap",bodyStyle:{padding:0},children:[(0,p.jsxs)(a.Row,{className:"confirm-transfer-header",children:[(0,p.jsx)(a.Col,{span:12,children:(0,p.jsx)(Re,{chainId:o,size:32})}),(0,p.jsx)(a.Col,{span:12,children:(0,p.jsx)(Re,{chainId:u,size:32})}),(0,p.jsxs)(a.Col,{className:"amount",children:[(0,p.jsx)(a.Typography.Text,{style:{color:"#ffffff"},children:l.symbol}),(0,p.jsx)(a.Typography.Title,{level:3,style:{color:"#ffffff"},children:d})]})]}),(0,p.jsx)(Pe,{})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(Bt,{onClose:c})})]})}):null},Mt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.amount,s=t.processId,c=t.visible,i=function(t){return e(Nt({visible:t}))};return(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Tooltip,{title:s?"Have transaction in progress":"",children:(0,p.jsx)(a.Button,{disabled:!Number(n)||!!s,type:"primary",onClick:function(){return i(!0)},block:!0,children:"Next"})})}),(0,p.jsx)(Ot,{visible:c,onCancel:i})]})},Lt=function(){return(0,p.jsxs)(a.Row,{gutter:[24,24],children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Typography.Title,{level:4,children:["Wormhole ",(0,p.jsx)("span",{style:{color:"#F9575E"},children:"Bridge"})]})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(Q,{})})]})},Ut=function(e){var t=e.title,n=e.label,r=(0,d.useState)(!1),s=(0,i.Z)(r,2),c=s[0],o=s[1];return(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(a.Typography.Text,{children:n}),(0,p.jsx)(a.Tooltip,{title:t,visible:c,onVisibleChange:function(){return o(!1)},children:(0,p.jsx)(l.Z,{name:"information-circle-outline",onClick:function(){return o(!0)},style:{cursor:"pointer"}})})]})},qt=function(e){var t=e.connected,n=e.installed,r=e.onConnect,s=void 0===r?function(){}:r,c=e.onDisconnect,i=void 0===c?function(){}:c;return t?(0,p.jsx)(a.Button,{size:"small",onClick:i,children:"Disconnect"}):(0,p.jsx)(a.Tooltip,{title:n?"":"Install Metamask please",children:(0,p.jsx)(a.Button,{size:"small",onClick:s,type:"primary",disabled:!n,children:"Connect"})})},Ht=function(e){var t=e.chainId,n=e.address,r=e.onChange,s=void 0===r?function(){}:r;return(0,p.jsx)(a.Row,{children:(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Select,{onChange:function(e){return s(Number(e))},value:String(t),bordered:!1,suffixIcon:(0,p.jsx)(l.Z,{name:"chevron-down-outline"}),size:"large",style:{marginLeft:-4},className:"custom-selector",dropdownStyle:{lineHeight:"normal"},disabled:!0,children:We.map((function(e){return(0,p.jsx)(a.Select.Option,{value:String(e.chainID),children:(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(a.Avatar,{src:e.logo,size:32,style:{backgroundColor:"#2D3355",border:"none"}}),(0,p.jsxs)(a.Space,{direction:"vertical",size:0,children:[(0,p.jsx)(a.Typography.Text,{style:{fontWeight:600},children:e.name}),n&&(0,p.jsx)(a.Typography.Text,{style:{fontSize:12},children:(0,x.Xn)(n)})]})]})},e.chainID)}))})})})},Ft=n(13106),Yt=n(70775),Qt=n.n(Yt),Xt=function e(){var t=this;(0,Le.Z)(this,e),this.detectedProvider=(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt()();case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e)}))),this.getProvider=(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt()();case 2:if(t=e.sent){e.next=5;break}throw new Error("No provider");case 5:return n=new Ft.Q(t,"any"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),this.getAddress=(0,c.Z)(u().mark((function e(){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProvider();case 2:return n=e.sent,e.next=5,n.send("eth_requestAccounts",[]);case 5:if((r=e.sent)[0]){e.next=8;break}throw new Error("There is no Ethereum account");case 8:return e.abrupt("return",r[0]);case 9:case"end":return e.stop()}}),e)})))},_t=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceWalletAddress,s=t.sourceChain,o=(0,d.useState)(!1),l=(0,i.Z)(o,2),f=l[0],h=l[1],x=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Xt,t.next=3,n.detectedProvider();case 3:if(t.sent){t.next=6;break}return t.abrupt("return",h(!1));case 6:h(!0),e(St({wallet:n}));case 8:case"end":return t.stop()}}),t)}))),[e]);return(0,d.useEffect)((function(){x()}),[x]),(0,p.jsxs)(a.Row,{gutter:[16,16],children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsx)(Ht,{address:n,chainId:s})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(qt,{connected:!!n,installed:f,onConnect:x,onDisconnect:function(){e(Dt())}})})]})},Vt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.targetWalletAddress,c=t.targetChain,i=(0,s.useWallet)().wallet.address;return(0,d.useEffect)((function(){var t=window.sentre.wallet;t&&i&&e(Wt({wallet:t}))}),[i,e]),(0,p.jsxs)(a.Row,{gutter:[16,16],align:"middle",children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsx)(Ht,{address:n,chainId:c})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(a.Tag,{style:{margin:0,borderRadius:4,background:"rgba(249, 87, 94, 0.1)",color:"#F9575E",textTransform:"capitalize",border:"none"},children:"Connected"})})]})},Gt=function(){return(0,p.jsx)(a.Card,{bordered:!1,className:"account-item",bodyStyle:{padding:16},children:(0,p.jsxs)(a.Row,{gutter:[16,16],justify:"center",children:[(0,p.jsxs)(a.Col,{span:24,children:[(0,p.jsx)(Ut,{title:"Source Network",label:"Source"}),(0,p.jsx)(_t,{})]}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(a.Tooltip,{title:"Coming soon",style:{background:"red"},children:(0,p.jsx)(l.Z,{name:"git-compare-outline",style:{cursor:"not-allowed"}})})}),(0,p.jsxs)(a.Col,{span:24,children:[(0,p.jsx)(Ut,{title:"Target network",label:"Target"}),(0,p.jsx)(Vt,{})]})]})})},Jt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceTokens,s=t.sourceWalletAddress,c=t.tokenAddress;return(0,p.jsx)(a.Select,{onChange:function(t){return e(Rt({tokenAddress:t}))},value:c||"Select",bordered:!1,suffixIcon:(0,p.jsx)(a.Divider,{type:"vertical",style:{margin:0}}),size:"middle",style:{marginLeft:-12},disabled:!s,children:Object.values(n).map((function(e){return(0,p.jsx)(a.Select.Option,{value:e.address,children:(0,p.jsxs)(a.Space,{align:"center",children:[(0,p.jsx)(a.Avatar,{src:e.logo,size:24,style:{border:"none",background:(0,w.p)(e.address,.8)},children:e.symbol.substring(0,2)}),(0,p.jsx)(a.Space,{direction:"vertical",size:0,children:(0,p.jsx)(a.Typography.Text,{style:{color:"#7A7B85"},children:e.symbol})})]})},e.address)}))})},Kt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceTokens,s=t.tokenAddress,c=t.amount,i=t.processId,o=n[s]||{},u=o.amount,d=o.symbol;return(0,p.jsxs)(a.Row,{gutter:[8,8],children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsx)(a.Typography.Text,{children:"Amount"})}),(0,p.jsx)(a.Col,{children:(0,p.jsxs)(a.Typography.Text,{children:["Available: ",u||0," ",d]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(xe,{disabled:!s||!!i,placeholder:"0",prefix:(0,p.jsx)(Jt,{}),suffix:(0,p.jsx)(a.Button,{type:"text",style:{marginRight:-7},disabled:!s||!!i,onClick:function(){return e(Rt({amount:"".concat(u)}))},children:"MAX"}),value:c,onChange:function(t){return e(Rt({amount:t}))},max:u})})]})},$t=function(){return(0,p.jsx)(a.Card,{className:"card-page",bordered:!1,children:(0,p.jsxs)(a.Row,{gutter:[14,14],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(Lt,{})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(Gt,{})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(Kt,{})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(Mt,{})})]})})},en=function(e){var t=e.transferState,n=(0,r.useDispatch)(),s=(0,r.useSelector)((function(e){return e.wormhole})),i=s.processId,o=s.sourceTokens,f=s.tokenAddress,h=t.context,v=t.transferData,m=(0,d.useMemo)((function(){return v.nextStep===F.Finish?"success":i===h.id?"pending":"failed"}),[h.id,i,v.nextStep]),w=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transferData.nextStep!==F.WaitSigned){e.next=3;break}return e.next=3,n(It());case 3:return e.abrupt("return",n(kt({stateTransfer:t})).unwrap());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,c.Z)(u().mark((function e(){var r,s,a,c,i,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Pt({transferState:t})).unwrap();case 3:return e.next=5,n(Et({id:h.id})).unwrap();case 5:if(r=window.wormhole,s=r.sourceWallet,a=r.targetWallet,c=o[f],s.ether&&a.sol&&c){e.next=9;break}throw new Error("Login fist");case 9:return i=new yt(s.ether,a.sol,c),e.next=12,i.restore(h.id);case 12:return e.next=14,w(t);case 14:return e.next=16,i.transfer(v.amount,w);case 16:d=e.sent,X("Transfer",d),n(Nt({visible:!0})),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),_(e.t0);case 24:return e.prev=24,e.next=27,n(Et({id:""})).unwrap();case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[0,21,24,28]])})));return function(){return e.apply(this,arguments)}}();return"success"===m?(0,p.jsx)(a.Button,{type:"text",onClick:function(){return window.open((0,x.kU)(t.transferData.txId),"_blank")},icon:(0,p.jsx)(l.Z,{name:"open-outline"})}):"failed"===m?(0,p.jsx)(a.Button,{type:"primary",size:"small",onClick:g,children:"Retry"}):(0,p.jsx)(a.Button,{type:"text",size:"small",onClick:function(){return n(Nt({visible:!0}))},children:"Reopen"})},tn={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},nn=function(e){var t=e.tag,n=function(e){var n=tn[t];return"rgba(".concat(n[0],",  ").concat(n[1],", ").concat(n[2],",").concat(e||1,")")};return(0,p.jsx)(a.Tag,{style:{margin:0,borderRadius:4,color:n(),textTransform:"capitalize"},color:n(.1),children:t})},rn=function(e){var t=e.data,n=(0,r.useSelector)((function(e){return e.wormhole})).processId,s=(0,d.useMemo)((function(){return t.transferData.nextStep===F.Finish?"success":n===t.context.id?"pending":"failed"}),[t.context.id,t.transferData.nextStep,n]);return(0,p.jsx)(nn,{tag:s})},sn=[{title:"TIME",dataIndex:"context",render:function(e){return(0,p.jsx)(a.Typography.Text,{children:Me()(e.time).format("DD MMM, YYYY hh:mm")})}},{title:"TRANSACTION ID",render:function(e){var t=e.transferData.blockHash;return(0,p.jsx)(a.Typography.Text,{style:{fontWeight:700},children:t?(0,x.Xn)(t,8,"..."):"--"})}},{title:"SOURCE - TARGET",dataIndex:"context",render:function(e){return(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(Re,{chainId:e.srcChainId}),(0,p.jsx)(a.Typography.Text,{children:(0,p.jsx)(Ee,{chainId:e.srcChainId})})," ","-",(0,p.jsx)(Re,{chainId:e.targetChainId}),(0,p.jsx)(a.Typography.Text,{children:(0,p.jsx)(Ee,{chainId:e.targetChainId})})]})}},{title:"AMOUNT",render:function(e){var t,n,r;return(0,p.jsxs)(a.Typography.Text,{children:[null===e||void 0===e||null===(t=e.transferData)||void 0===t?void 0:t.amount," ",null===e||void 0===e||null===(n=e.context)||void 0===n||null===(r=n.tokenInfo)||void 0===r?void 0:r.symbol]})}},{title:"STATUS",render:function(e){return(0,p.jsx)(rn,{data:e})}},{title:"ACTION",render:function(e){return(0,p.jsx)(en,{transferState:e})}}],an=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.history})).wormhole,n=(0,d.useState)(4),s=(0,i.Z)(n,2),c=s[0],o=s[1];(0,d.useEffect)((function(){e(jt())}),[e]);return(0,p.jsxs)(a.Row,{gutter:[16,16],justify:"center",children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Table,{columns:sn,dataSource:t.slice(0,c),rowClassName:function(e,t){return t%2?"odd-row":"even-row"},pagination:!1,scroll:{x:1e3},rowKey:function(e){return e.context.id}})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(a.Button,{disabled:c>=t.length,onClick:function(){return o(c+4)},type:"text",icon:(0,p.jsx)(l.Z,{name:"chevron-down-outline"}),children:"View more"})})]})},cn=[{title:"TIME",dataIndex:"time",key:"time"},{title:"TRANSACTION ID",dataIndex:"transactionId",key:"transactionId",render:function(e){return(0,p.jsxs)(a.Space,{align:"baseline",children:[(0,p.jsx)(a.Typography.Text,{style:{fontWeight:700},children:(0,x.Xn)(e,8,"...")}),(0,p.jsx)(a.Button,{type:"text",size:"small",onClick:function(){return window.open((0,x.kU)(e),"_blank")},icon:(0,p.jsx)(l.Z,{name:"open-outline"})})]})}},{title:"FROM",dataIndex:"from",key:"from",render:function(e){return(0,p.jsx)(a.Typography.Text,{children:(0,x.Xn)(e,8,"...")})}},{title:"TO",dataIndex:"to",key:"to",render:function(e){return(0,p.jsx)(a.Typography.Text,{children:(0,x.Xn)(e,8,"...")})}},{title:"AMOUNT",key:"amount",dataIndex:"amount",render:function(e,t){return(0,p.jsx)(a.Typography.Text,{style:{color:t.isReceive?"#14E041":"#D72311"},children:(0,p.jsxs)(a.Space,{size:4,children:[t.isReceive?"+".concat(e):"-".concat(e)," ",(0,p.jsx)(m,{mintAddress:t.mint})]})})}},{title:"STATUS",key:"status",dataIndex:"status",render:function(e){return(0,p.jsx)(nn,{tag:"success"})}}],on=function(){var e=(0,d.useState)(4),t=(0,i.Z)(e,2),n=t[0],c=t[1],o=(0,d.useState)(!0),u=(0,i.Z)(o,2),f=u[0],h=u[1],x=(0,r.useDispatch)(),v=(0,s.useWallet)().wallet.address,m=(0,r.useSelector)((function(e){return e.history})).transaction;(0,d.useEffect)((function(){x(Tt({addressWallet:v})).finally((function(){return h(!1)}))}),[x,v]);return(0,p.jsxs)(a.Row,{gutter:[16,16],justify:"center",children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Table,{columns:cn,dataSource:m.slice(0,n),rowClassName:function(e,t){return t%2?"odd-row":"even-row"},pagination:!1,scroll:{x:1e3},loading:f})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(a.Button,{onClick:function(){return c(n+4)},type:"text",icon:(0,p.jsx)(l.Z,{name:"chevron-down-outline"}),disabled:n>=m.length,children:"View more"})})]})},un=function(){var e=(0,r.useDispatch)();return(0,d.useEffect)((function(){e(jt())}),[e]),(0,p.jsx)(a.Card,{bodyStyle:{paddingTop:12},children:(0,p.jsx)(a.Row,{gutter:[24,24],children:(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Tabs,{children:[(0,p.jsx)(a.Tabs.TabPane,{tab:"Wormhole Bridge History",children:(0,p.jsx)(an,{})},"Wormhole"),(0,p.jsx)(a.Tabs.TabPane,{tab:"Transaction History",children:(0,p.jsx)(on,{})},"Transaction")]})})})})},dn=function(){return(0,p.jsxs)(a.Row,{gutter:[24,24],children:[(0,p.jsx)(a.Col,{xl:8,md:12,sm:24,children:(0,p.jsx)(re,{})}),(0,p.jsx)(a.Col,{xl:8,md:12,sm:24,children:(0,p.jsx)(Ae,{})}),(0,p.jsx)(a.Col,{xl:8,md:12,sm:24,children:(0,p.jsx)($t,{})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(un,{})}),(0,p.jsx)(a.Col,{span:24})]})},ln=n(45055),fn=function(e){var t=e.accountAddr,n=e.onClick,r=void 0===n?function(){}:n,c=(0,s.useAccount)().accounts[t].mint;return(0,p.jsx)(a.Card,{className:"account-item",style:{borderRadius:8},bodyStyle:{padding:12},bordered:!1,hoverable:!0,onClick:function(){return r(t)},children:(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(h,{mintAddress:c,size:32}),(0,p.jsxs)(a.Space,{direction:"vertical",size:0,children:[(0,p.jsx)(a.Typography.Text,{children:(0,p.jsx)(m,{mintAddress:c})}),(0,p.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(v,{mintAddress:c})})]})]})}),(0,p.jsx)(a.Col,{style:{height:"100%"},children:(0,p.jsxs)(a.Space,{children:[(0,p.jsxs)(a.Space,{direction:"vertical",size:0,align:"end",children:[(0,p.jsx)(a.Typography.Text,{children:(0,p.jsx)(R,{accountAddr:t})}),(0,p.jsx)(a.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(R,{accountAddr:t,inUSD:!0,autoHidden:!0})})]}),(0,p.jsx)(l.Z,{style:{color:"#7A7B85"},name:"arrow-forward-outline"})]})})]})})},pn=n(63805);var hn={appId:"sen_assets",url:"https://descartesnetwork.github.io/sen-assets/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},xn={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},vn={manifest:{development:(0,b.Z)({},hn),staging:(0,b.Z)({},hn),production:(0,b.Z)({},hn)}[pn.OB],sol:xn[pn.ef]},mn=vn.manifest.appId,wn=function(){var e=(0,r.useDispatch)(),t=(0,ln.useHistory)(),n=(0,s.useMint)().tokenProvider,o=(0,d.useState)([]),l=(0,i.Z)(o,2),f=l[0],h=l[1],x=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var r,s,a,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],s=[],e.t0=u().keys(t);case 3:if((e.t1=e.t0()).done){e.next=15;break}return a=e.t1.value,c=t[a],e.next=8,n.findByAddress(c.mint);case 8:if(!(i=e.sent)){e.next=12;break}return"SEN"===i.symbol?s.push(a):r.unshift(a),e.abrupt("continue",3);case 12:r.push(a),e.next=3;break;case 15:return e.abrupt("return",h([].concat(s,r)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),v=function(n){return e(O({account:n})),t.push("/app/".concat(mn))};return(0,p.jsxs)(a.Row,{gutter:[12,12],align:"middle",children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(P,{onChange:x})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(L,{onClick:function(e){return v(e)}})}),f.map((function(e){return(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(N.ZP,{height:64,overflow:!0,children:(0,p.jsx)(fn,{accountAddr:e,onClick:function(e){return v(e)}})})},e)}))]})},gn=function(e){var t=e.address;return(0,p.jsx)(a.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,p.jsx)(ae(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,p.jsx)(oe,{color:"#212433",name:"qr-code-outline"})})},yn=function(){var e=(0,s.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],o=n[1],l=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),setTimeout((function(){o(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(a.Space,{size:10,children:[(0,p.jsx)(a.Tooltip,{title:"Copied",visible:r,children:(0,p.jsx)(ie(),{text:e,onCopy:l,children:(0,p.jsx)(oe,{color:"#212433",name:"copy-outline",onClick:l})})}),(0,p.jsx)(gn,{address:e}),(0,p.jsx)(ne,{})]})},bn=function(e){var t=e.hidden,n=void 0!==t&&t,r=(0,d.useState)(),o=(0,i.Z)(r,2),l=o[0],f=o[1],h=(0,s.useWallet)().wallet.lamports,v=(0,x.uR)(Z.utils.undecimalize(h,9)).format("0.[000]"),m=(0,d.useMemo)((function(){return(0,x.uR)(Number(v)*((null===l||void 0===l?void 0:l.price)||0)).format("0,0.[000]")}),[v,l]),g=(0,d.useCallback)((0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.l)("solana");case 2:return t=e.sent,e.abrupt("return",f(t));case 4:case"end":return e.stop()}}),e)}))),[]);return(0,d.useEffect)((function(){g()}),[g]),n?(0,p.jsx)(a.Skeleton.Input,{style:{width:128,borderRadius:4},size:"small",active:!0}):(0,p.jsx)(a.Typography.Text,{style:{fontWeight:700},children:"$".concat(m)})},jn=function(){var e=(0,s.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],c=n[1];return(0,p.jsxs)(a.Row,{gutter:[16,16],children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Row,{gutter:[16,16],children:[(0,p.jsx)(a.Col,{children:(0,p.jsx)(a.Avatar,{size:48,children:(0,p.jsx)("span",{style:{fontSize:24},children:Z.utils.randEmoji(e)})})}),(0,p.jsx)(a.Col,{children:(0,p.jsxs)(a.Space,{direction:"vertical",size:4,children:[(0,p.jsx)(a.Typography.Text,{children:(0,x.Xn)(e,3,"...")}),(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(bn,{hidden:r}),(0,p.jsx)(a.Button,{type:"text",icon:(0,p.jsx)(l.Z,{name:r?"eye-off-outline":"eye-outline"}),onClick:function(){return c(!r)}})]})]})})]})}),(0,p.jsx)(a.Col,{children:(0,p.jsx)(yn,{})})]})},kn=function(){return(0,p.jsx)(a.Card,{style:{height:"100%",overflow:"auto"},className:"card-sen-assets scrollbar",bordered:!1,children:(0,p.jsxs)(a.Row,{gutter:[24,24],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(jn,{})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(wn,{})})]})})},Tn=n(85912),An=(0,z.configureStore)({middleware:function(e){return e(Tn.h)},devTools:(0,Tn.$)("myapp"),reducer:{history:At,settings:te,account:M,wormhole:zt}}),Cn=vn.manifest.appId,Zn=function(){return(0,p.jsx)(s.UIProvider,{appId:Cn,children:(0,p.jsx)(s.WalletProvider,{children:(0,p.jsx)(s.PoolProvider,{children:(0,p.jsx)(s.MintProvider,{children:(0,p.jsx)(s.AccountProvider,{children:(0,p.jsx)(r.Provider,{store:An,children:(0,p.jsx)(dn,{})})})})})})})},Sn={size:"small",type:"default"},In=function(){return(0,p.jsx)(s.UIProvider,{appId:Cn,children:(0,p.jsx)(s.WalletProvider,{children:(0,p.jsx)(s.PoolProvider,{children:(0,p.jsx)(s.MintProvider,{children:(0,p.jsx)(s.AccountProvider,{children:(0,p.jsx)(r.Provider,{store:An,children:(0,p.jsx)(kn,{})})})})})})})}},31633:function(e,t,n){"use strict";var r=n(63805),s=n(77566),a=n(77330),c={sol:s.Z[r.ef],register:a.Z[r.OB]};t.Z=c},65090:function(e,t,n){"use strict";var r=n(4942),s=n(15861),a=n(87757),c=n.n(a),i=n(19289),o=n(95418),u="accounts",d=(0,i.createAsyncThunk)("".concat(u,"/getAccounts"),function(){var e=(0,s.Z)(c().mark((function e(t){var n,r,s,a,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.owner,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid owner/wallet address");case 3:return r=window.sentre.splt,s=o.account.fromAddress(n),e.next=7,r.connection.getTokenAccountsByOwner(s,{programId:r.spltProgramId});case 7:return a=e.sent,i=a.value,u={},i.forEach((function(e){var t=e.pubkey,n=e.account.data,s=t.toBase58(),a=r.parseAccountData(n);return u[s]=a})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,i.createAsyncThunk)("".concat(u,"/getAccount"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var s,a,i,u,d,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.address,a=n.getState,o.account.isAddress(s)){e.next=4;break}throw new Error("Invalid account address");case 4:if(i=a(),!(u=i.accounts[s])){e.next=7;break}return e.abrupt("return",(0,r.Z)({},s,u));case 7:return d=window.sentre.splt,e.next=10,d.getAccountData(s);case 10:return l=e.sent,e.abrupt("return",(0,r.Z)({},s,l));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,i.createAsyncThunk)("".concat(u,"/upsetAccount"),function(){var e=(0,s.Z)(c().mark((function e(t){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,s=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(s){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,i.createAsyncThunk)("".concat(u,"/deleteAccount"),function(){var e=(0,s.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,i.createSlice)({name:u,initialState:{},reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){return t.payload})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){delete e[t.payload.address]}))}});t.ZP=h.reducer},87358:function(e,t,n){"use strict";var r=n(19289),s=n(85912),a=n(87482),c=n(5105),i=n(58851),o=n(21028),u=n(65090),d=n(33015),l=n(92871),f=n(33361),p=(0,r.configureStore)({middleware:function(e){return e(s.h)},devTools:(0,s.$)("sentre"),reducer:{ui:a.ZP,flags:c.Z,page:i.ZP,wallet:o.ZP,accounts:u.ZP,mints:d.ZP,pools:l.ZP,search:f.ZP}});t.Z=p},33015:function(e,t,n){"use strict";n.d(t,{ih:function(){return d}});var r=n(4942),s=n(15861),a=n(87757),c=n.n(a),i=n(19289),o=n(95418),u="mints",d=(0,i.createAsyncThunk)("".concat(u,"/getMint"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var s,a,i,u,d,l,f,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.address,a=t.force,i=void 0!==a&&a,u=n.getState,o.account.isAddress(s)){e.next=4;break}throw new Error("Invalid mint address");case 4:if(i){e.next=8;break}if(d=u(),!(l=d.accounts[s])){e.next=8;break}return e.abrupt("return",(0,r.Z)({},s,l));case 8:return f=window.sentre.splt,e.next=11,f.getMintData(s);case 11:return p=e.sent,e.abrupt("return",(0,r.Z)({},s,p));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l=(0,i.createAsyncThunk)("".concat(u,"/upsetMint"),function(){var e=(0,s.Z)(c().mark((function e(t){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,s=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(s){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,i.createAsyncThunk)("".concat(u,"/deleteMint"),function(){var e=(0,s.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,i.createSlice)({name:u,initialState:{},reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){delete e[t.payload.address]}))}});t.ZP=p.reducer},58851:function(e,t,n){"use strict";var r=n(93433),s=n(1413),a=n(15861),c=n(87757),i=n.n(c),o=n(19289),u=n(95418),d=n(3007),l=n(31633).Z.register,f=l.senreg,p=l.extra,h=function(e,t){return t&&Array.isArray(t)?t.filter((function(t){return e[t]})):[]},x=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v="page",m={register:{},appIds:[],widgetIds:[]},w=(0,o.createAsyncThunk)("".concat(v,"/loadRegister"),(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,e.abrupt("return",{register:(0,s.Z)((0,s.Z)({},t),p)});case 4:case"end":return e.stop()}}),e)})))),g=(0,o.createAsyncThunk)("".concat(v,"/installManifest"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var a,c,o,d,l,f,p,h,x,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,c=a(),o=c.wallet.address,d=c.page,l=d.appIds,f=d.widgetIds,p=d.register,u.account.isAddress(o)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(!l.includes(t.appId)){e.next=6;break}throw new Error("Cannot run sandbox for an installed application.");case 6:return(h=(0,r.Z)(l)).push(t.appId),x=(0,r.Z)(f),t.supportedViews.includes("widget")&&x.push(t.appId),(v=(0,s.Z)({},p))[t.appId]=t,e.abrupt("return",{appIds:h,widgetIds:x,register:v});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),y=(0,o.createAsyncThunk)("".concat(v,"/loadPage"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c,o,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,c=s.page.register,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return o=new d.Z(a).createInstance("sentre"),e.t0=h,e.t1=c,e.next=9,o.getItem("appIds");case 9:if(e.t2=e.sent,e.t2){e.next=12;break}e.t2=m.appIds;case 12:return e.t3=e.t2,l=(0,e.t0)(e.t1,e.t3),e.t4=h,e.t5=c,e.next=18,o.getItem("widgetIds");case 18:if(e.t6=e.sent,e.t6){e.next=21;break}e.t6=m.widgetIds;case 21:return e.t7=e.t6,f=(0,e.t4)(e.t5,e.t7),e.abrupt("return",{appIds:l,widgetIds:f});case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),b=(0,o.createAsyncThunk)("".concat(v,"/updatePage"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,c=s.page.register,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return t=h(c,t),o=new d.Z(a),e.next=8,o.createInstance("sentre").setItem("appIds",t);case 8:return e.abrupt("return",{appIds:t});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),j=(0,o.createAsyncThunk)("".concat(v,"/installApp"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var s,a,c,o,l,f,p,h,x,v,m,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.getState,o=c(),l=o.wallet.address,f=o.page,p=f.register,h=f.appIds,x=f.widgetIds,u.account.isAddress(l)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(!h.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return(v=(0,r.Z)(h)).push(t),m=null!==(s=p[t])&&void 0!==s&&null!==(a=s.supportedViews)&&void 0!==a&&a.includes("widget")?[].concat((0,r.Z)(x),[t]):(0,r.Z)(x),w=new d.Z(l),e.next=12,w.createInstance("sentre").setItem("appIds",v);case 12:return e.next=14,w.createInstance("sentre").setItem("widgetIds",m);case 14:return e.abrupt("return",{appIds:v,widgetIds:m});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=(0,o.createAsyncThunk)("".concat(v,"/uninstallApp"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c,o,l,f,p,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,c=s.page,o=c.appIds,l=c.widgetIds,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(o.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return f=o.filter((function(e){return e!==t})),p=l.filter((function(e){return e!==t})),h=new d.Z(a),e.next=11,h.createInstance("sentre").setItem("appIds",f);case 11:return e.next=13,h.createInstance("sentre").setItem("widgetIds",p);case 13:return e.next=15,h.dropInstance(t);case 15:return e.abrupt("return",{appIds:f,widgetIds:p});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T=(0,o.createAsyncThunk)("".concat(v,"/updateDashboard"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return c=new d.Z(a),e.next=7,c.createInstance("sentre").setItem("widgetIds",t);case 7:return e.abrupt("return",{widgetIds:t});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),A=(0,o.createAsyncThunk)("".concat(v,"/addWidgets"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var s,a,c,o,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.getState,a=s(),c=a.wallet.address,o=a.page.widgetIds,u.account.isAddress(c)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:return l=[].concat((0,r.Z)(o),(0,r.Z)(t)),f=new d.Z(c),e.next=8,f.createInstance("sentre").setItem("widgetIds",l);case 8:return e.abrupt("return",{widgetIds:l});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C=(0,o.createAsyncThunk)("".concat(v,"/removeWidget"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var r,s,a,c,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,s=r(),a=s.wallet.address,c=s.page.widgetIds,u.account.isAddress(a)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(c.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return o=c.filter((function(e){return e!==t})),l=new d.Z(a),e.next=10,l.createInstance("sentre").setItem("widgetIds",o);case 10:return e.abrupt("return",{widgetIds:o});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Z=(0,o.createSlice)({name:v,initialState:m,reducers:{},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(g.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(y.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(b.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(j.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(k.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(T.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(A.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(C.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=Z.reducer},92871:function(e,t,n){"use strict";var r=n(4942),s=n(15861),a=n(87757),c=n.n(a),i=n(19289),o=n(95418),u=n(31633).Z.sol.taxmanAddress,d="pools",l=(0,i.createAsyncThunk)("".concat(d,"/getPools"),(0,s.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.swap,e.next=3,t.connection.getProgramAccounts(t.swapProgramId,{filters:[{dataSize:257},{memcmp:{bytes:u,offset:65}}]});case 3:return n=e.sent,r={},n.forEach((function(e){var n=e.pubkey,s=e.account.data,a=n.toBase58(),c=t.parsePoolData(s);r[a]=c})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),f=(0,i.createAsyncThunk)("".concat(d,"/getPool"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var s,a,i,u,d,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.address,a=n.getState,o.account.isAddress(s)){e.next=4;break}throw new Error("Invalid pool address");case 4:if(i=a(),!(u=i.pools[s])){e.next=7;break}return e.abrupt("return",(0,r.Z)({},s,u));case 7:return d=window.sentre.swap,e.next=10,d.getPoolData(s);case 10:return l=e.sent,e.abrupt("return",(0,r.Z)({},s,l));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=(0,i.createAsyncThunk)("".concat(d,"/upsetPool"),function(){var e=(0,s.Z)(c().mark((function e(t){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,s=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid pool address");case 3:if(s){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,i.createSlice)({name:d,initialState:{},reducers:{},extraReducers:function(e){e.addCase(l.fulfilled,(function(e,t){return t.payload})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=h.reducer},33361:function(e,t,n){"use strict";var r=n(15861),s=n(87757),a=n.n(s),c=n(19289),i="search",o=(0,c.createAsyncThunk)("".concat(i,"/setValue"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{value:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=(0,c.createAsyncThunk)("".concat(i,"/setLoading"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{loading:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,c.createAsyncThunk)("".concat(i,"/setDisabled"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{disabled:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,c.createSlice)({name:i,initialState:{value:"",loading:!1,disabled:!1},reducers:{},extraReducers:function(e){e.addCase(o.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(u.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=l.reducer},87482:function(e,t,n){"use strict";var r=n(15861),s=n(87757),a=n.n(s),c=n(19289),i=function(){var e=window.innerWidth;return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":e<1400?"xl":"xxl"},o="ui",u={theme:function(){var e=(new Date).getHours();return e>=6&&e<18?"light":"dark"}(),width:window.innerWidth,infix:i(),touchable:"ontouchstart"in window||navigator.maxTouchPoints>0,visibleActionCenter:!1},d=(0,c.createAsyncThunk)("".concat(o,"/setTheme"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{theme:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,c.createAsyncThunk)("".concat(o,"/resize"),(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.innerWidth,n=i(),e.abrupt("return",{width:t,infix:n});case 3:case"end":return e.stop()}}),e)})))),f=(0,c.createAsyncThunk)("".concat(o,"/setVisibleActionCenter"),function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visibleActionCenter:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,c.createSlice)({name:o,initialState:u,reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=p.reducer},21028:function(e,t,n){"use strict";var r=n(15861),s=n(87757),a=n.n(s),c=n(19289),i=n(95418),o=n(31633),u=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.Z.sol,r=n.node,s=n.spltAddress,c=n.splataAddress,u=n.swapAddress,window.sentre={wallet:t,lamports:new i.Lamports(r),splt:new i.SPLT(s,c,r),swap:new i.Swap(u,s,c,r)};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(t=window.sentre)&&void 0!==t&&t.wallet&&window.sentre.wallet.disconnect(),e.next=3,u(void 0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l="wallet",f={visible:!1,address:"",lamports:BigInt(0)},p=(0,c.createAsyncThunk)("".concat(l,"/openWallet"),(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!0});case 1:case"end":return e.stop()}}),e)})))),h=(0,c.createAsyncThunk)("".concat(l,"/closeWallet"),(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!1});case 1:case"end":return e.stop()}}),e)})))),x=(0,c.createAsyncThunk)("".concat(l,"/connectWallet"),function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Invalid wallet instance");case 2:return e.next=4,u(t);case 4:return e.next=6,t.getAddress();case 6:return n=e.sent,e.next=9,window.sentre.lamports.getLamports(n);case 9:return r=e.sent,e.abrupt("return",{address:n,lamports:BigInt(r),visible:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=(0,c.createAsyncThunk)("".concat(l,"/updateWallet"),function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lamports,e.abrupt("return",{lamports:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,c.createAsyncThunk)("".concat(l,"/disconnectWallet"),(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))),w=(0,c.createSlice)({name:l,initialState:f,reducers:{},extraReducers:function(e){e.addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(h.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(x.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(v.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(m.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=w.reducer},21411:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(15861),s=n(15671),a=n(43144),c=n(87757),i=n.n(c),o=n(15822),u=n(85964),d=n(67751),l=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,null,[{key:"getSingleFlight",value:function(e){var t=JSON.stringify(e);if(this.mapInstance.has(t)){var n=this.mapInstance.get(t);if(n)return n}var r=new f(e);return this.mapInstance.set(t,r),r}},{key:"load",value:function(){var t=(0,r.Z)(i().mark((function t(n,r){var s,a,c,o=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.length>2&&void 0!==o[2]?o[2]:{},"object"===typeof n&&(n=JSON.stringify(n)),a=e.getSingleFlight(s),e.mapInstance.set(n,a),c=new u.g(n),t.abrupt("return",a.load(c,r));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();l.mapInstance=new Map;var f=function(){function e(t){(0,s.Z)(this,e),this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(o.Dt,t)}return(0,a.Z)(e,[{key:"load",value:function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,s,a,c=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.U.get(t.key))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return s=!1,(a=this.mapRequestCalling.get(t.key))||(a=t,s=!0,this.mapRequestCalling.set(a.key,a)),e.abrupt("return",new Promise((function(e,t){if(!a)return t("Not found request!");a.add(e,t),s&&c.fetch(a,n)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e,t){var n=this;if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((function(t){d.U.set(e.key,t,n.config.cache),e.resolves(t)})).catch((function(t){e.rejects(t)})).finally((function(){n.mapRequestCalling.delete(e.key),n.fetchRequestQueue(t)}))}},{key:"fetchRequestQueue",value:function(e){if(this.validateLimit()){var t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}}},{key:"addRequestQueue",value:function(e,t){var n,r=this;this.requestQueue.push(e),this.intervalRequest=setInterval((function(){r.fetchRequestQueue(t)}),null===(n=this.config.limit)||void 0===n?void 0:n.time)}},{key:"validateLimit",value:function(){if(!this.config.limit)return!1;var e=this.timeLogs[0]||0,t=(new Date).getTime();return this.timeLogs.length<this.config.limit.calls||t-e>this.config.limit.time}},{key:"createTimeLogs",value:function(){var e;if(this.config.limit){var t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}}]),e}()},3007:function(e,t,n){"use strict";var r=n(37762),s=n(15861),a=n(15671),c=n(87757),i=n.n(c),o=n(15454),u=n.n(o),d=n(95418),l=n(83868),f=function e(t){var n=this;if((0,a.Z)(this,e),this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=function(e){return u().createInstance({driver:n.driver,name:n.dbName,storeName:e})},this.dropInstance=function(){var e=(0,s.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.createInstance(t),e.next=3,r.clear();case 3:return e.next=5,u().dropInstance({name:n.dbName,storeName:t});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.all=(0,s.Z)(i().mark((function e(){var t,s,a,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,n.createInstance("sentre").getItem("appIds");case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:s=e.t0.flat().concat(["sentre"]),a=(0,r.Z)(s),e.prev=8,o=i().mark((function e(){var r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.value,t[r]={},s=n.createInstance(r),e.next=5,s.iterate((function(e,n){t[r][n]=e}));case 5:case"end":return e.stop()}}),e)})),a.s();case 11:if((c=a.n()).done){e.next=15;break}return e.delegateYield(o(),"t1",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(8),a.e(e.t2);case 20:return e.prev=20,a.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,23]])}))),this.fetch=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ipfs.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.backup=(0,s.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.all();case 2:return t=e.sent,e.next=5,n.ipfs.set(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),this.restore=function(){var e=(0,s.Z)(i().mark((function e(t){var r,s,a,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetch(t);case 2:r=e.sent,e.t0=i().keys(r);case 4:if((e.t1=e.t0()).done){e.next=19;break}return s=e.t1.value,e.next=8,n.createInstance(s);case 8:a=e.sent,e.t2=i().keys(r[s]);case 10:if((e.t3=e.t2()).done){e.next=17;break}return c=e.t3.value,o=r[s][c],e.next=15,a.setItem(c,o);case 15:e.next=10;break;case 17:e.next=4;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!d.account.isAddress(t))throw new Error("Invalid address");this.dbName=t,this.driver=[u().WEBSQL,u().LOCALSTORAGE],this.ipfs=new l.Z};t.Z=f},63805:function(e,t,n){"use strict";n.d(t,{OB:function(){return s},ef:function(){return a}});var r=n(53933),s="production",a=function(){switch(r.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}}()},34559:function(e,t,n){"use strict";n.d(t,{sA:function(){return i},Xn:function(){return o},kU:function(){return u},uR:function(){return d}});var r=n(95418),s=n(16200),a=n.n(s),c=n(63805),i=function(e){return new Promise((function(t){return setTimeout(t,e)}))},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.substring(0,t)+n+e.substring(e.length-t,e.length)},u=function(e){return r.account.isAddress(e)?"https://explorer.solana.com/address/".concat(e,"?cluster=").concat(c.ef):"https://explorer.solana.com/tx/".concat(e,"?cluster=").concat(c.ef)},d=function(e){return e?a()(e):a()("0")}},88677:function(){},28608:function(){},34845:function(){},33370:function(){}}]);
//# sourceMappingURL=520.e1ef7434.chunk.js.map