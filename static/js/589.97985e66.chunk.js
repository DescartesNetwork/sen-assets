(globalThis.webpackChunksen_assets=globalThis.webpackChunksen_assets||[]).push([[589],{26501:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Page:()=>oa,Widget:()=>ca,widgetConfig:()=>la});var s=n(55754),a=n(49142),r=n(92950),i=n(36498),o=n(78589);const l={"logo-telegram":n.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"};var c=n(45263);const d=(0,r.forwardRef)(((e,t)=>{let{name:n,className:s,...a}=e;const r=s?"anticon "+s:"anticon";return(0,c.jsx)("span",{className:r,...a,children:l[n]?(0,c.jsx)("ion-icon",{ref:t,src:l[n]}):(0,c.jsx)("ion-icon",{ref:t,name:n})})})),u=e=>{const{tokenProvider:t}=(0,a.useMint)(),{pools:n}=(0,a.usePool)(),[s,i]=(0,r.useState)([void 0]),o=(0,r.useCallback)((async()=>{if(!e)return i([void 0]);const s=await t.findByAddress(e);if(s)return i([s]);const a=Object.values(n).find((t=>{let{mint_lpt:n}=t;return n===e}));if(!a)return i([void 0]);const{mint_a:r,mint_b:o}=a,l=await t.findByAddress(r),c=await t.findByAddress(o);return i([l,c])}),[e,n,t]);return(0,r.useEffect)((()=>{o()}),[o]),s},p=e=>{let{mintAddress:t,size:n=24,icon:s=(0,c.jsx)(d,{name:"diamond-outline"})}=e;const a=u(t);return(0,c.jsx)(o.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},children:a.map(((e,t)=>(0,c.jsx)(o.Avatar,{src:null===e||void 0===e?void 0:e.logoURI,size:n,style:{backgroundColor:"#2D3355",border:"none"},children:s},(null===e||void 0===e?void 0:e.address)||t)))})};var h=n(95418),y=n(16200),m=n.n(y),f=n(63805);const g=e=>new Promise((t=>setTimeout(t,e))),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.substring(0,t)+n+e.substring(e.length-t,e.length)},x=e=>h.account.isAddress(e)?`https://explorer.solana.com/address/${e}?cluster=${f.ef}`:`https://explorer.solana.com/tx/${e}?cluster=${f.ef}`,j=e=>e?m()(e):m()("0"),b=e=>{let{mintAddress:t="",separator:n=" \u2022 "}=e;const s=u(t),a=(0,r.useMemo)((()=>{let e=s.map((e=>{if(!e)return w(t,2);const{name:n,address:a,symbol:r}=e;return 1===s.length&&n?n:r||w(a)})).join(n);return 1===s.length?e:`${e} LP`}),[t,n,s]);return(0,c.jsx)("span",{style:{whiteSpace:"nowrap"},children:a})},T=e=>{let{mintAddress:t,separator:n=" \u2022 "}=e;const s=u(t),a=(0,r.useMemo)((()=>s.map((e=>e?e.symbol:"UNKN")).join(n)),[n,s]);return(0,c.jsx)("span",{children:a})};var v=n(31633),A=n(11503),C=n(19289);BigInt.prototype.toJSON=function(){return this.toString()};const k={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e}},S=()=>{const e=window.innerWidth;return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":e<1400?"xl":"xxl"},I="ui",M={theme:(()=>{const e=(new Date).getHours();return e>=6&&e<18?"light":"dark"})(),width:window.innerWidth,infix:S(),touchable:"ontouchstart"in window||navigator.maxTouchPoints>0,visibleActionCenter:!1},D=(0,C.createAsyncThunk)("ui/setTheme",(async e=>({theme:e}))),E=(0,C.createAsyncThunk)("ui/resize",(async()=>({width:window.innerWidth,infix:S()}))),W=(0,C.createAsyncThunk)("ui/setVisibleActionCenter",(async e=>({visibleActionCenter:e}))),B=(0,C.createSlice)({name:I,initialState:M,reducers:{},extraReducers:e=>{e.addCase(D.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(E.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(W.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,N="flags",R=(0,C.createAsyncThunk)("flags/setVisited",(async(e,t)=>{let{getState:n}=t;const{wallet:{address:s},flags:a}=n();if(!h.account.isAddress(s))throw new Error("Wallet is not connected yet");return{...a,visited:e}})),P=(0,C.createSlice)({name:N,initialState:{visited:!0},reducers:{},extraReducers:e=>{e.addCase(R.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer;var z=n(15454),O=n.n(z),L=n(43912),U=n(97429).Buffer;class H{constructor(){this._ipfs=async()=>{try{return window.ipfs||(window.ipfs=await(0,L.Ue)()),window.ipfs}catch(e){return await g(500),await this._ipfs()}},this.get=async e=>{if(!H.isCID(e))throw new Error("Invalid CID");const t=await this._ipfs(),n=await t.cat(e);let s="";for await(const a of n)s+=U.from(a).toString();return JSON.parse(s)},this.set=async e=>{if(!e)throw new Error("Empty data");const t=JSON.stringify(e),n=await this._ipfs(),{path:s}=await n.add(t);return s}}}H.isCID=e=>{try{return!!e&&L.bf.multihash(e)}catch(t){return!1}};const q=H;class Z{constructor(e){if(this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=e=>O().createInstance({driver:this.driver,name:this.dbName,storeName:e}),this.dropInstance=async e=>{const t=this.createInstance(e);return await t.clear(),await O().dropInstance({name:this.dbName,storeName:e})},this.all=async()=>{let e={};const t=(await this.createInstance("sentre").getItem("appIds")||[]).flat().concat(["sentre"]);for(const n of t){e[n]={};const t=this.createInstance(n);await t.iterate(((t,s)=>{e[n][s]=t}))}return e},this.fetch=async e=>await this.ipfs.get(e),this.backup=async()=>{const e=await this.all();return await this.ipfs.set(e)},this.restore=async e=>{const t=await this.fetch(e);for(const n in t){const e=await this.createInstance(n);for(const s in t[n]){const a=t[n][s];await e.setItem(s,a)}}return t},!h.account.isAddress(e))throw new Error("Invalid address");this.dbName=e,this.driver=[O().WEBSQL,O().LOCALSTORAGE],this.ipfs=new q}}const F=Z,{register:{senreg:V,extra:$}}=v.Z,_=(e,t)=>t&&Array.isArray(t)?t.filter((t=>e[t])):[],Q="page",Y={register:{},appIds:[],widgetIds:[]},J=(0,C.createAsyncThunk)("page/loadRegister",(async()=>({register:{...await(async()=>{try{const e=await fetch(V);return await e.json()}catch(e){return{}}})(),...$}}))),G=(0,C.createAsyncThunk)("page/installManifest",(async(e,t)=>{let{getState:n}=t;const{wallet:{address:s},page:{appIds:a,widgetIds:r,register:i}}=n();if(!h.account.isAddress(s))throw new Error("Wallet is not connected yet.");if(a.includes(e.appId))throw new Error("Cannot run sandbox for an installed application.");const o=[...a];o.push(e.appId);const l=[...r];e.supportedViews.includes("widget")&&l.push(e.appId);const c={...i};return c[e.appId]=e,{appIds:o,widgetIds:l,register:c}})),K=(0,C.createAsyncThunk)("page/loadPage",(async(e,t)=>{let{getState:n}=t;const{wallet:{address:s},page:{register:a}}=n();if(!h.account.isAddress(s))throw new Error("Wallet is not connected yet.");const r=new F(s).createInstance("sentre");return{appIds:_(a,await r.getItem("appIds")||Y.appIds),widgetIds:_(a,await r.getItem("widgetIds")||Y.widgetIds)}})),X=(0,C.createAsyncThunk)("page/updatePage",(async(e,t)=>{let{getState:n}=t;const{wallet:{address:s},page:{register:a}}=n();if(!h.account.isAddress(s))throw new Error("Wallet is not connected yet.");e=_(a,e);const r=new F(s);return await r.createInstance("sentre").setItem("appIds",e),{appIds:e}})),ee=(0,C.createAsyncThunk)("page/installApp",(async(e,t)=>{var n,s;let{getState:a}=t;const{wallet:{address:r},page:{register:i,appIds:o,widgetIds:l}}=a();if(!h.account.isAddress(r))throw new Error("Wallet is not connected yet.");if(o.includes(e))return{};const c=[...o];c.push(e);const d=null!==(n=i[e])&&void 0!==n&&null!==(s=n.supportedViews)&&void 0!==s&&s.includes("widget")?[...l,e]:[...l],u=new F(r);return await u.createInstance("sentre").setItem("appIds",c),await u.createInstance("sentre").setItem("widgetIds",d),{appIds:c,widgetIds:d}})),te=(0,C.createAsyncThunk)("page/uninstallApp",(async(e,t)=>{let{getState:n}=t;const{wallet:{address:s},page:{appIds:a,widgetIds:r}}=n();if(!h.account.isAddress(s))throw new Error("Wallet is not connected yet.");if(!a.includes(e))return{};const i=a.filter((t=>t!==e)),o=r.filter((t=>t!==e)),l=new F(s);return await l.createInstance("sentre").setItem("appIds",i),await l.createInstance("sentre").setItem("widgetIds",o),await l.dropInstance(e),{appIds:i,widgetIds:o}})),ne=(0,C.createAsyncThunk)("page/updateDashboard",(async(e,t)=>{let{getState:n}=t;const{wallet:{address:s}}=n();if(!h.account.isAddress(s))throw new Error("Wallet is not connected yet.");const a=new F(s);return await a.createInstance("sentre").setItem("widgetIds",e),{widgetIds:e}})),se=(0,C.createAsyncThunk)("page/addWidgets",(async(e,t)=>{let{getState:n}=t;const{wallet:{address:s},page:{widgetIds:a}}=n();if(!h.account.isAddress(s))throw new Error("Wallet is not connected yet");const r=[...a,...e],i=new F(s);return await i.createInstance("sentre").setItem("widgetIds",r),{widgetIds:r}})),ae=(0,C.createAsyncThunk)("page/removeWidget",(async(e,t)=>{let{getState:n}=t;const{wallet:{address:s},page:{widgetIds:a}}=n();if(!h.account.isAddress(s))throw new Error("Wallet is not connected yet.");if(!a.includes(e))return{};const r=a.filter((t=>t!==e)),i=new F(s);return await i.createInstance("sentre").setItem("widgetIds",r),{widgetIds:r}})),re=(0,C.createSlice)({name:Q,initialState:Y,reducers:{},extraReducers:e=>{e.addCase(J.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(G.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(K.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(X.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(ee.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(te.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(ne.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(se.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(ae.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,ie=async e=>{const{sol:{node:t,spltAddress:n,splataAddress:s,swapAddress:a}}=v.Z;window.sentre={wallet:e,lamports:new h.Lamports(t),splt:new h.SPLT(n,s,t),swap:new h.Swap(a,n,s,t)}},oe="wallet",le={visible:!1,address:"",lamports:BigInt(0)},ce=(0,C.createAsyncThunk)("wallet/openWallet",(async()=>({visible:!0}))),de=(0,C.createAsyncThunk)("wallet/closeWallet",(async()=>({visible:!1}))),ue=(0,C.createAsyncThunk)("wallet/connectWallet",(async e=>{if(!e)throw new Error("Invalid wallet instance");await ie(e);const t=await e.getAddress(),n=await window.sentre.lamports.getLamports(t);return{address:t,lamports:BigInt(n),visible:!1}})),pe=(0,C.createAsyncThunk)("wallet/updateWallet",(async e=>{let{lamports:t}=e;return{lamports:t}})),he=(0,C.createAsyncThunk)("wallet/disconnectWallet",(async()=>{await(async()=>{var e;null!==(e=window.sentre)&&void 0!==e&&e.wallet&&window.sentre.wallet.disconnect(),await ie(void 0)})(),window.location.reload()})),ye=(0,C.createSlice)({name:oe,initialState:le,reducers:{},extraReducers:e=>{e.addCase(ce.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(de.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(ue.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(pe.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(he.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,me="accounts",fe=(0,C.createAsyncThunk)("accounts/getAccounts",(async e=>{let{owner:t}=e;if(!h.account.isAddress(t))throw new Error("Invalid owner/wallet address");const{splt:n}=window.sentre,s=h.account.fromAddress(t),{value:a}=await n.connection.getTokenAccountsByOwner(s,{programId:n.spltProgramId});let r={};return a.forEach((e=>{let{pubkey:t,account:{data:s}}=e;const a=t.toBase58(),i=n.parseAccountData(s);return r[a]=i})),r})),ge=(0,C.createAsyncThunk)("accounts/getAccount",(async(e,t)=>{let{address:n}=e,{getState:s}=t;if(!h.account.isAddress(n))throw new Error("Invalid account address");const{accounts:{[n]:a}}=s();if(a)return{[n]:a};const{splt:r}=window.sentre;return{[n]:await r.getAccountData(n)}})),we=(0,C.createAsyncThunk)("accounts/upsetAccount",(async e=>{let{address:t,data:n}=e;if(!h.account.isAddress(t))throw new Error("Invalid address");if(!n)throw new Error("Data is empty");return{[t]:n}})),xe=(0,C.createAsyncThunk)("accounts/deleteAccount",(async e=>{let{address:t}=e;if(!h.account.isAddress(t))throw new Error("Invalid address");return{address:t}})),je=(0,C.createSlice)({name:me,initialState:{},reducers:{},extraReducers:e=>{e.addCase(fe.fulfilled,((e,t)=>{let{payload:n}=t;return n})).addCase(ge.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(we.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(xe.fulfilled,((e,t)=>{let{payload:n}=t;delete e[n.address]}))}}).reducer;var be=n(33015);const{sol:{taxmanAddress:Te}}=v.Z,ve="pools",Ae=(0,C.createAsyncThunk)("pools/getPools",(async()=>{const{swap:e}=window.sentre,t=await e.connection.getProgramAccounts(e.swapProgramId,{filters:[{dataSize:257},{memcmp:{bytes:Te,offset:65}}]});let n={};return t.forEach((t=>{let{pubkey:s,account:{data:a}}=t;const r=s.toBase58(),i=e.parsePoolData(a);n[r]=i})),n})),Ce=(0,C.createAsyncThunk)("pools/getPool",(async(e,t)=>{let{address:n}=e,{getState:s}=t;if(!h.account.isAddress(n))throw new Error("Invalid pool address");const{pools:{[n]:a}}=s();if(a)return{[n]:a};const{swap:r}=window.sentre;return{[n]:await r.getPoolData(n)}})),ke=(0,C.createAsyncThunk)("pools/upsetPool",(async e=>{let{address:t,data:n}=e;if(!h.account.isAddress(t))throw new Error("Invalid pool address");if(!n)throw new Error("Data is empty");return{[t]:n}})),Se=(0,C.createSlice)({name:ve,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Ae.fulfilled,((e,t)=>{let{payload:n}=t;return n})).addCase(Ce.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(ke.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,Ie="search",Me=(0,C.createAsyncThunk)("search/setValue",(async e=>({value:e}))),De=(0,C.createAsyncThunk)("search/setLoading",(async e=>({loading:e}))),Ee=(0,C.createAsyncThunk)("search/setDisabled",(async e=>({disabled:e}))),We=(0,C.createSlice)({name:Ie,initialState:{value:"",loading:!1,disabled:!1},reducers:{},extraReducers:e=>{e.addCase(Me.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(De.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Ee.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,Be=(0,C.configureStore)({middleware:e=>e(k),devTools:!1,reducer:{ui:B,flags:P,page:re,wallet:ye,accounts:je,mints:be.ZP,pools:Se,search:We}}),Ne={ttl:3e4},Re={limit:{calls:10,time:1e3},cache:Ne};class Pe{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}class ze{static set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne;this.mapCache.set(e,t),setTimeout((()=>{this.mapCache.delete(e)}),n.ttl)}static get(e){return this.mapCache.get(e)}}ze.mapCache=new Map;class Oe{static getSingleFlight(e){const t=JSON.stringify(e);if(this.mapInstance.has(t)){const e=this.mapInstance.get(t);if(e)return e}let n=new Le(e);return this.mapInstance.set(t,n),n}static async load(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===typeof e&&(e=JSON.stringify(e));let s=Oe.getSingleFlight(n);Oe.mapInstance.set(e,s);const a=new Pe(e);return s.load(a,t)}}Oe.mapInstance=new Map;class Le{constructor(e){this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(Re,e)}async load(e,t){const n=ze.get(e.key);if(n)return Promise.resolve(n);let s=!1,a=this.mapRequestCalling.get(e.key);return a||(a=e,s=!0,this.mapRequestCalling.set(a.key,a)),new Promise(((e,n)=>{if(!a)return n("Not found request!");a.add(e,n),s&&this.fetch(a,t)}))}fetch(e,t){if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((t=>{ze.set(e.key,t,this.config.cache),e.resolves(t)})).catch((t=>{e.rejects(t)})).finally((()=>{this.mapRequestCalling.delete(e.key),this.fetchRequestQueue(t)}))}fetchRequestQueue(e){if(!this.validateLimit())return;const t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}addRequestQueue(e,t){var n;this.requestQueue.push(e),this.intervalRequest=setInterval((()=>{this.fetchRequestQueue(t)}),null===(n=this.config.limit)||void 0===n?void 0:n.time)}validateLimit(){if(!this.config.limit)return!1;const e=this.timeLogs[0]||0,t=(new Date).getTime();if(this.timeLogs.length<this.config.limit.calls)return!0;return t-e>this.config.limit.time}createTimeLogs(){var e;if(!this.config.limit)return;const t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}const Ue=new A.Z,He=(e,t)=>{const{mint_a:n,mint_b:s,reserve_a:a,reserve_b:r}=t;return e===n?a:e===s?r:BigInt(0)},qe=async()=>{const{sol:{senPoolAddress:e,senAddress:t}}=v.Z,n={icon:"",symbol:"SEN",name:"Sen",address:t,rank:0,price:0,priceChange:0,totalVolume:0},s=Be.getState().pools[e];if(!s)return n;const{mint_a:a,mint_b:r}=s,i=t===a?r:a,[o,l]=await Promise.all([i,t].map((e=>Ue.findByAddress(e))));if(!o||!l)return n;const c=He(i,s),d=He(t,s);return n.price=Number(h.utils.undecimalize(c,o.decimals))/Number(h.utils.undecimalize(d,l.decimals)),n},Ze=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"sen"===e?qe():Oe.load("fetchCGK"+e,(()=>h.utils.parseCGK(e)))},Fe=(e,t)=>{let n=Math.floor(16777215*Math.random());if(e){n=0;for(let t=0;t<e.length;t++)n=e.charCodeAt(t)+((n<<5)-n)}var s=[0,0,0];for(let r=0;r<3;r++){var a=n>>8*r&255;s[r]=a}return`rgba(${s[0]}, 100, ${s[1]},${t||1})`},Ve={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},$e=e=>{const[t,n]=(0,r.useState)(Ve),{tokenProvider:s}=(0,a.useMint)(),i=(0,r.useCallback)((async()=>{try{var t;const a=await s.findByAddress(e),r=null===a||void 0===a||null===(t=a.extensions)||void 0===t?void 0:t.coingeckoId,i=await Ze(r);return n(i)}catch(a){return n(Ve)}}),[e,s]);return(0,r.useEffect)((()=>{i()}),[i]),t},_e={up:"#14E041",down:"#D72311",default:"#FFC580"},Qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const n=Object.assign({..._e},t);return e<0?n.down:e>0?n.up:n.default},Ye=e=>{let{mintAddress:t,colorized:n=!1,configs:s}=e;const a=$e(t),r=Qe(null===a||void 0===a?void 0:a.priceChange,s);return(0,c.jsxs)("span",{style:{color:n?r:"inherit"},children:[j(Math.abs(null===a||void 0===a?void 0:a.priceChange)).format("0.[0]"),"%"]})},Je=e=>{let{mintAddress:t,colorized:n=!1,configs:s}=e;const a=$e(t),r=Qe(null===a||void 0===a?void 0:a.priceChange,s);let i="remove-outline";return(null===a||void 0===a?void 0:a.priceChange)<0&&(i="arrow-down-outline"),(null===a||void 0===a?void 0:a.priceChange)>0&&(i="arrow-up-outline"),(0,c.jsx)("span",{style:{color:n?r:"inherit"},children:(0,c.jsx)(d,{name:i})})},Ge=e=>{let{mintAddress:t,colorized:n=!1,configs:s}=e;const a=$e(t),r=Qe(null===a||void 0===a?void 0:a.priceChange,s);return(0,c.jsx)("span",{style:{color:n?r:"inherit"},children:null!==a&&void 0!==a&&a.price?`$${j(null===a||void 0===a?void 0:a.price).format("0,0.[00]")}`:"--"})},Ke="11111111111111111111111111111111",Xe="So11111111111111111111111111111111111111112",et=e=>{const[t,n]=(0,r.useState)(0),{tokenProvider:s,getMint:i}=(0,a.useMint)(),{pools:o}=(0,a.usePool)(),l=(0,r.useCallback)((async()=>{if(!e)return n(0);const t=await s.findByAddress(e);if(t)return n(t.decimals);for(const s in o){const{mint_lpt:t}=o[s];if(t===e)return n(9)}try{const t=await i({address:e});return n(t[e].decimals)}catch(a){return n(0)}}),[i,e,o,s]);return(0,r.useEffect)((()=>{l()}),[l]),t},tt=e=>{const{accounts:t}=(0,a.useAccount)(),{wallet:n}=(0,a.useWallet)(),{amount:s,mint:i}=(0,r.useMemo)((()=>e===n.address?{amount:n.lamports,mint:Ke}:t[e]||{}),[e,t,n.address,n.lamports]),o=et(i);return(0,r.useMemo)((()=>({balance:h.utils.undecimalize(s,o),mint:i,amount:s,decimals:o})),[s,o,i])},nt=e=>{let{accountAddr:t,inUSD:n=!1,autoHidden:s=!1,format:a="0,0.[00]",maxLength:i,sortFormat:o="0,0.[00]a"}=e;const{amount:l,mint:d,decimals:u}=tt(t),p=$e(d),y=(0,r.useMemo)((()=>{let e=Number(h.utils.undecimalize(l,u)),t=a;i&&String(e).length>i&&(t=o),n&&(e=Number(e)*p.price);return(n?"$":"")+j(e).format(t)}),[l,p.price,u,a,n,i,o]);return s&&!p.price?(0,c.jsx)("span",{children:"--"}):(0,c.jsx)("span",{children:y})},st=e=>{var t;let{accountAddr:n,active:s=!1,onClick:r=(()=>{})}=e;const{accounts:i}=(0,a.useAccount)(),l=null===(t=i[n])||void 0===t?void 0:t.mint;return(0,c.jsx)(o.Card,{className:"account-item "+(s?"active":""),bodyStyle:{padding:12},hoverable:!0,onClick:()=>r(n),children:(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{span:12,children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(p,{mintAddress:l,size:32}),(0,c.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(T,{mintAddress:l})}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:(0,c.jsx)(b,{mintAddress:l})})]})]})}),(0,c.jsx)(o.Col,{flex:"auto",style:{height:"100%"},children:(0,c.jsxs)(o.Space,{direction:"vertical",size:0,align:"start",children:[(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(nt,{accountAddr:n})}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:(0,c.jsx)(nt,{accountAddr:n,inUSD:!0,autoHidden:!0})})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{direction:"vertical",size:0,align:"end",children:[(0,c.jsx)(o.Typography.Text,{children:(0,c.jsxs)(o.Space,{size:2,children:[(0,c.jsx)(Je,{mintAddress:l,colorized:!0}),(0,c.jsx)(Ye,{mintAddress:l,colorized:!0})]})}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:(0,c.jsx)(Ge,{mintAddress:l})})]})})]})})},at=e=>{let{onChange:t}=e;const{hiddenZeros:n,hiddenUnknownTokens:i}=(0,s.useSelector)((e=>e.settings)),[l,u]=(0,r.useState)(""),{accounts:p}=(0,a.useAccount)(),{tokenProvider:h}=(0,a.useMint)(),{pools:y}=(0,a.usePool)(),m=(0,r.useCallback)((async e=>{const{mint:t,amount:s}=e;if(!s&&n)return!1;if(await h.findByAddress(t))return!0;for(const n of Object.values(y))if(n.mint_lpt===t)return!0;return!i}),[i,n,y,h]),f=(0,r.useCallback)((async()=>{const e={};for(const t in p){const n=p[t];if(l&&l.length>2){if(!(await h.find(l)).map((e=>e.address)).includes(n.mint))continue}await m(n)&&(e[t]=n)}return t(e)}),[p,l,t,h,m]);return(0,r.useEffect)((()=>{f()}),[f]),(0,c.jsx)(o.Row,{gutter:[16,16],children:(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Input,{placeholder:"Search",value:l,size:"large",style:{background:"transparent"},prefix:(0,c.jsx)(o.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:l?()=>u(""):()=>{},icon:(0,c.jsx)(d,{name:l?"close-outline":"search-outline"})}),onChange:e=>u(e.target.value)})})})},rt="account",it=(0,C.createAsyncThunk)("account/selectAccount",(async e=>{let{account:t}=e;return{accountSelected:t}})),ot=(0,C.createSlice)({name:rt,initialState:{accountSelected:""},reducers:{},extraReducers:e=>{e.addCase(it.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,lt=e=>{let{onClick:t=(()=>{}),active:n=!1,price:s=!0}=e;const{wallet:{address:r,lamports:i}}=(0,a.useWallet)(),l=h.utils.undecimalize(i,9);return(0,c.jsx)(o.Card,{className:"account-item "+(n?"active":""),bodyStyle:{padding:"8px 12px",cursor:"pointer"},onClick:()=>t(r),hoverable:!0,children:(0,c.jsxs)(o.Row,{gutter:[12,8],align:"middle",wrap:!1,children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{style:{whiteSpace:"nowrap"},children:[(0,c.jsx)(p,{mintAddress:Ke,size:22}),(0,c.jsxs)(o.Tooltip,{title:`${l} SOL`,children:[(0,c.jsxs)(o.Typography.Text,{children:[(0,c.jsx)(nt,{accountAddr:r})," "]}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"SOL"})]}),(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(nt,{accountAddr:r,inUSD:!0})})]})}),s&&(0,c.jsxs)(o.Col,{children:[(0,c.jsx)(Je,{mintAddress:Ke,colorized:!0}),(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(Ye,{mintAddress:Ke,colorized:!0}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:(0,c.jsx)(Ge,{mintAddress:Ke})})]})]})]})})},ct=()=>{const e=(0,s.useDispatch)(),{accountSelected:t}=(0,s.useSelector)((e=>e.account)),{tokenProvider:n}=(0,a.useMint)(),{wallet:l}=(0,a.useWallet)(),[d,u]=(0,r.useState)([]),p=(0,r.useCallback)((async e=>{const t=[],s=[];for(const a in e){const r=e[a],i=await n.findByAddress(r.mint);i?"SEN"===i.symbol?s.push(a):t.unshift(a):t.push(a)}return u([...s,...t])}),[n]);return(0,r.useEffect)((()=>{t||e(it({account:l.address}))}),[t,e,l.address]),(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(at,{onChange:p})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(lt,{active:t===l.address,onClick:t=>e(it({account:t}))})}),d.map((n=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(i.ZP,{height:70,offset:70,overflow:!0,children:(0,c.jsx)(st,{accountAddr:n,active:t===n,onClick:t=>e(it({account:t}))})})},n)))]})};const dt=n.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",ut=e=>{let{spacing:t=4,iconSize:n=20}=e;return(0,c.jsxs)(o.Space,{size:t,children:[(0,c.jsx)(o.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:"Powered by"}),(0,c.jsx)(o.Avatar,{src:dt,size:n})]})},pt=(e,t)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open(x(t),"_blank")}),ht=e=>window.notify({type:"error",description:e.message}),yt=e=>{let{mint:t}=e;const{logoURI:n,symbol:s,name:i,address:l}=t,[u,p]=(0,r.useState)(!1),{wallet:{address:y}}=(0,a.useWallet)(),{accounts:m}=(0,a.useAccount)();return(0,r.useEffect)((()=>{(async()=>{const{splt:e}=window.sentre,t=await e.deriveAssociatedAddress(y,l);p(Object.keys(m).includes(t))})()}),[m,l,y]),(0,c.jsx)(o.Card,{className:"account-item",bodyStyle:{padding:16},bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[16,16],wrap:!1,children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Avatar,{src:n}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:s}),(0,c.jsx)(o.Typography.Text,{children:i})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Button,{type:"text",style:{color:u?"#3DBA4E":"inherit"},icon:(0,c.jsx)(d,{name:u?"checkmark-outline":"add-outline"}),onClick:async()=>{const{splt:e,wallet:t}=window.sentre;if(!u&&h.account.isAddress(y)&&h.account.isAddress(l)&&t)try{const{txId:n}=await e.initializeAccount(l,y,t);return pt(`Import ${s}`,n)}catch(n){return ht(n)}}})})]})})},mt=e=>{let{onChange:t}=e;const[n,s]=(0,r.useState)(""),{tokenProvider:i}=(0,a.useMint)();return(0,r.useEffect)((()=>{(async()=>{if(!n||n.length<3)return t(null);const e=await i.find(n);t(e)})()}),[n,t,i]),(0,c.jsx)(o.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,c.jsx)(o.Input,{placeholder:"Search",value:n,size:"small",bordered:!1,prefix:(0,c.jsx)(o.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:n?()=>s(""):()=>{},icon:(0,c.jsx)(d,{name:n?"close-outline":"search-outline"})}),suffix:(0,c.jsx)(ut,{}),onChange:e=>s(e.target.value)})})},ft=()=>{const[e,t]=(0,r.useState)(!1),[n,s]=(0,r.useState)(),[l,u]=(0,r.useState)(),{tokenProvider:p}=(0,a.useMint)();return(0,r.useEffect)((()=>{(async()=>{const e=await p.all();s(e)})()}),[p]),(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(d,{name:"add-outline"}),onClick:()=>t(!0),block:!0,children:"Import token"})}),(0,c.jsx)(o.Modal,{visible:e,onCancel:()=>t(!1),closeIcon:(0,c.jsx)(d,{name:"close-outline"}),footer:null,centered:!0,destroyOnClose:!0,children:(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Title,{level:5,children:"Token Selection"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(mt,{onChange:u})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Row,{gutter:[16,16],style:{height:300,overflow:"auto"},children:(l||n||[]).map(((e,t)=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(i.ZP,{height:64,overflow:!0,children:(0,c.jsx)(yt,{mint:e})})},t)))})})]})})]})},gt="settings",wt=(0,C.createAsyncThunk)("settings/setHiddenZeros",(async(e,t)=>{let{checked:n}=e,{getState:s}=t;const{settings:a}=s();return{...a,hiddenZeros:n}})),xt=(0,C.createAsyncThunk)("settings/setHiddenUnknownTokens",(async(e,t)=>{let{checked:n}=e,{getState:s}=t;const{settings:a}=s();return{...a,hiddenUnknownTokens:n}})),jt=(0,C.createSlice)({name:gt,initialState:{hiddenZeros:!1,hiddenUnknownTokens:!0},reducers:{},extraReducers:e=>{e.addCase(wt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(xt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,bt=()=>{const e=(0,s.useDispatch)(),t=(0,s.useSelector)((e=>e.settings)),{hiddenZeros:n,hiddenUnknownTokens:a}=t;return(0,c.jsx)(o.Popover,{zIndex:1e3,content:(0,c.jsxs)(o.Row,{gutter:[8,8],style:{maxWidth:224},children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{size:"large",children:[(0,c.jsx)(o.Switch,{size:"small",checked:n,onChange:t=>e(wt({checked:t}))}),(0,c.jsx)(o.Typography.Text,{children:"Hide zero balances"})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{size:"large",children:[(0,c.jsx)(o.Switch,{size:"small",checked:a,onChange:t=>e(xt({checked:t}))}),(0,c.jsx)(o.Typography.Text,{children:"Hide unknown tokens"})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ft,{})})]}),trigger:"click",placement:"topRight",children:(0,c.jsx)(d,{style:{cursor:"pointer"},name:"cog-outline"})})},Tt=()=>(0,c.jsx)(o.Card,{className:"card-page card-sen-assets",children:(0,c.jsxs)(o.Row,{gutter:[24,24],align:"middle",children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Title,{level:4,children:"Sen Assets"})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(bt,{})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ct,{})})]})});var vt=n(38288),At=n.n(vt),Ct=n(51518),kt=n.n(Ct);const St=e=>{let{name:t,color:n="#BEC4EC",onClick:s=(()=>{})}=e;return(0,c.jsx)("span",{onClick:s,style:{cursor:"pointer",color:n},children:(0,c.jsx)(d,{name:t})})},It=e=>{let{address:t}=e;return(0,c.jsx)(o.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,c.jsx)(At(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,c.jsx)(St,{name:"qr-code-outline"})})},Mt=()=>{const{wallet:{address:e}}=(0,a.useWallet)(),[t,n]=(0,r.useState)(!1),s=async()=>{n(!0),setTimeout((()=>{n(!1)}),1500)};return(0,c.jsxs)(o.Space,{size:10,children:[(0,c.jsx)(o.Typography.Text,{style:{color:"#E9E9EB",cursor:"pointer"},onClick:()=>window.open(x(e),"_blank"),children:w(e,3,"...")}),(0,c.jsx)(o.Tooltip,{title:"Copied",visible:t,children:(0,c.jsx)(kt(),{text:e,onCopy:s,children:(0,c.jsx)(St,{name:"copy-outline",onClick:s})})}),(0,c.jsx)(It,{address:e})]})},Dt=e=>{let{mintAddress:t}=e;return(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(p,{mintAddress:t}),(0,c.jsx)(o.Typography.Title,{className:"title-color",level:5,children:(0,c.jsx)(T,{mintAddress:t})})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:1,align:"end",children:[(0,c.jsx)(Je,{mintAddress:t,colorized:!0}),(0,c.jsx)(Ye,{mintAddress:t,colorized:!0}),(0,c.jsx)(o.Divider,{type:"vertical",style:{padding:0,borderLeft:"1px solid #BEC4EC"}}),(0,c.jsx)(o.Typography.Text,{className:"text-color",children:(0,c.jsx)(Ge,{mintAddress:t})})]})})]})},Et=()=>{const{accountSelected:e}=(0,s.useSelector)((e=>e.account)),{mint:t}=tt(e);return(0,c.jsxs)(o.Row,{className:"header-balance",gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{className:"text-secondary",children:"Your balance"})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(Mt,{})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Dt,{mintAddress:t})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{align:"baseline",children:[(0,c.jsx)(o.Typography.Title,{className:"title-color",level:3,children:(0,c.jsx)(nt,{accountAddr:e})}),(0,c.jsxs)(o.Typography.Text,{className:"text-secondary",children:["~",(0,c.jsx)(nt,{accountAddr:e,inUSD:!0})]})]})})]})})]})};let Wt;const Bt=(0,r.forwardRef)(((e,t)=>{var n;let{max:s,onValue:a=(()=>{}),onChange:i=(()=>{}),onBlur:l=(()=>{}),...u}=e;const[p,h]=(0,r.useState)(""),[y,m]=(0,r.useState)(null),f=(0,r.useRef)(t),g=(0,r.useCallback)((e=>{const t=e=>{Wt&&(clearTimeout(Wt),Wt=void 0),h(e),Wt=setTimeout((()=>h("")),500)};return/^\d*(\.\d*)?$/.test(e)?s&&parseFloat(e)>parseFloat(s.toString())?t("Not enough balance"):a(e):t("Invalid character")}),[s,a]);return null===f||void 0===f||null===(n=f.current)||void 0===n||n.setSelectionRange(y,y),(0,c.jsx)(o.Tooltip,{title:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(d,{name:"warning"}),p]}),visible:!!p,children:(0,c.jsx)(o.Input,{...u,onBlur:e=>{l(e);const t=Number(e.target.value);e.target.value&&g(t?t.toString():"")},onChange:e=>{i(e),m(e.target.selectionStart),g(e.target.value||"")},ref:f})})})),Nt=e=>{let{accountAddr:t,onChange:n,value:s}=e;const a=tt(t);return(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{children:"Amount"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Bt,{placeholder:"0",prefix:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:(0,c.jsx)(T,{mintAddress:a.mint})}),suffix:(0,c.jsx)(o.Button,{type:"text",style:{marginRight:-7},onClick:()=>n(a.balance),children:"MAX"}),value:s,onValue:n,max:a.balance})})]})},Rt=e=>{let{onChange:t,value:n}=e;const{wallet:{address:s}}=(0,a.useWallet)();return(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{children:"Receiver Address"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Input,{size:"large",placeholder:`${s.substring(0,12)}...`,value:n,onChange:e=>t(e.target.value)})})]})},Pt=e=>{let{accountAddr:t}=e;const[n,s]=(0,r.useState)(""),{mint:a,decimals:i}=tt(t),[l,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)("0");return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Rt,{onChange:s,value:n})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Nt,{accountAddr:t,onChange:p,value:u})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{d(!0);try{const{splt:e,wallet:s,lamports:r}=window.sentre;if(!s)return;const o=h.utils.decimalize(u,i);if(a===Ke){const e=await r.transfer(o,n,s);return pt("Transfer",e)}const l=await(async()=>{const{splt:e,wallet:t}=window.sentre;if(!t)throw new Error("Login first");let s=n;h.account.isAssociatedAddress(s)||(s=await e.deriveAssociatedAddress(n,a));try{await e.getAccountData(s)}catch(r){await e.initializeAccount(a,n,t)}return s})();if(!l)throw new Error("Invalid destination address");const{txId:c}=await e.transfer(o,t,l,s);return pt("Transfer",c)}catch(e){ht(e)}finally{d(!1)}},block:!0,loading:l,disabled:!Number(u),children:"Transfer"})})]})},zt=e=>{const[t,n]=(0,r.useState)(!1);return(0,c.jsx)(o.Input,{...e,suffix:(0,c.jsx)(o.Tooltip,{title:"Copied",visible:t,children:(0,c.jsx)(kt(),{text:String(e.value),onCopy:async()=>{n(!0),await g(1500),n(!1)},children:(0,c.jsx)(o.Button,{type:"text",size:"small",icon:(0,c.jsx)(d,{name:"copy-outline"})})})})})},Ot=e=>{let{accountAddr:t}=e;const{accounts:n}=(0,a.useAccount)(),{wallet:s}=(0,a.useWallet)(),[i,l]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),p=(0,r.useCallback)((async()=>{if(!i||t===s.address)return u(s.address);const e=window.sentre.splt,a=n[t].mint,r=await e.deriveAssociatedAddress(s.address,a);return u(r)}),[t,n,i,s.address]);return(0,r.useEffect)((()=>{p()}),[p]),(0,c.jsxs)(o.Row,{justify:"center",gutter:[16,16],children:[(0,c.jsx)(o.Col,{style:{background:"#f4f4f5",paddingTop:8},children:(0,c.jsx)(At(),{value:d,size:110,bgColor:"#ffffff",fgColor:"#1f1f1f"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{children:i?"Associated account address":"Wallet address"})}),(0,c.jsx)(o.Col,{children:t!==s.address&&(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Typography.Text,{children:"Developer mode"}),(0,c.jsx)(o.Switch,{size:"small",checked:i,onChange:l})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(zt,{size:"large",value:d})})]})})]})},Lt=BigInt(2039280),Ut=()=>{const e=(0,s.useDispatch)(),[t,n]=(0,r.useState)(""),[i,l]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),{wallet:{address:p}}=(0,a.useWallet)(),y=tt(d),m=tt(p),f=void 0===y.amount,g=h.utils.undecimalize(y.amount,y.decimals),w=(0,r.useMemo)((()=>{const e=Number(m.balance),t=Number(h.utils.undecimalize(BigInt(1e8)+Lt,9))+1e-5;return e<=t?0:e-t}),[m.balance]);(0,r.useEffect)((()=>{(async()=>{const{splt:e}=window.sentre,t=await e.deriveAssociatedAddress(p,h.DEFAULT_WSOL);u(t)})()}),[p]),(0,r.useEffect)((()=>n(f?"":g)),[f,g]);const x=()=>(0,c.jsx)(r.Fragment,{children:(0,c.jsxs)("ul",{style:{paddingLeft:16},children:[(0,c.jsx)("li",{children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"To wrap SOL you have to deposit an extra fee equal to 0.00203928 SOL."})}),(0,c.jsx)("li",{children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"The fee mentioned above will return when you unwrap."})})]})}),j=()=>(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Due to technical limitations, it only allows:"}),(0,c.jsxs)("ul",{style:{paddingLeft:16},children:[(0,c.jsx)("li",{children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Unwrap all at once."})}),(0,c.jsx)("li",{children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"To increase/decrease the WSOL balance, unwrap all first then re-wrap your desired number."})})]})]});return(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{children:f?"Wrap Amount":"Unwrap amount"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Available:"}),(0,c.jsxs)(o.Typography.Text,{style:{fontSize:12},children:[f?m.balance:g," SOL"]})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Bt,{placeholder:"0",size:"large",prefix:(0,c.jsx)(T,{mintAddress:f?m.mint:y.mint}),suffix:f&&(0,c.jsx)(o.Button,{type:"text",style:{padding:0,height:"auto"},onClick:()=>n(`${w}`),children:"MAX"}),value:t,onValue:n,max:w,disabled:!f})})]})}),(0,c.jsx)(o.Col,{span:24,children:f?(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{l(!0);try{const{splt:e,wallet:n}=window.sentre;if(!n)throw new Error("Wallet is not connected");const s=h.utils.decimalize(Number(t),9),{txId:a}=await e.wrap(s+Lt,p,n);pt(`Wrap ${t} SOL`,a)}catch(e){return ht(e)}finally{l(!1)}},block:!0,loading:i,children:"Wrap"}):(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{l(!0);try{const{splt:t,wallet:n}=window.sentre;if(!n)throw new Error("Wallet is not connected");const{txId:s}=await t.unwrap(n);return await e(it({account:p})),pt(`Unwrap ${y.balance} SOL`,s)}catch(t){return ht(t)}finally{l(!1)}},block:!0,loading:i,children:"Unwrap"})}),(0,c.jsx)(o.Col,{span:24,style:{fontSize:12},children:f?(0,c.jsx)(x,{}):(0,c.jsx)(j,{})})]})},Ht=e=>{let{accountAddr:t}=e;const n=(0,s.useDispatch)(),{accounts:r}=(0,a.useAccount)(),i=r[t]||{};return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bordered:!1,className:"close-account",children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(d,{name:"alert-circle-outline"}),(0,c.jsx)(o.Typography.Text,{children:"Please transfer out all tokens in this account before closing!"})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{try{const{splt:e,wallet:s}=window.sentre;if(!s)return;const{txId:a}=await e.closeAccount(t,s);await window.notify({type:"success",description:`Close ${w(t)} successfully. Click to view details.`,onClick:()=>window.open(x(a),"_blank")}),n(it({account:h.DEFAULT_EMPTY_ADDRESS}))}catch(e){return window.notify({type:"error",description:"error"})}},disabled:Boolean(i.amount),block:!0,children:"Close Account"})})]})},qt=()=>{const[e,t]=(0,r.useState)(""),{accountSelected:n}=(0,s.useSelector)((e=>e.account)),{mint:a}=tt(n),i=[Ke,Xe].includes(a);return(0,r.useEffect)((()=>t("Send")),[n]),(0,c.jsx)(o.Card,{bordered:!1,style:{marginTop:-20,boxShadow:"none"},bodyStyle:{padding:0},children:(0,c.jsxs)(o.Tabs,{activeKey:e,onChange:t,style:{padding:16,paddingTop:4},children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"Send",children:(0,c.jsx)(Pt,{accountAddr:n})},"Send"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Receive",children:(0,c.jsx)(Ot,{accountAddr:n})},"Receive"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Wrap/Unwrap",disabled:!i,children:(0,c.jsx)(Ut,{})},"Wrap/Unwrap"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Close",disabled:a===Ke,children:(0,c.jsx)(Ht,{accountAddr:n})},"Close")]})})},Zt=()=>(0,c.jsx)(o.Card,{className:"card-page",bodyStyle:{padding:0},children:(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Et,{})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(qt,{})})]})});var Ft=n(54024);const Vt={mainnet:"https://wormhole-v2-mainnet-api.certus.one",testnet:"",devnet:"https://wormhole-v2-testnet-api.certus.one"},$t=[{chainID:Ft.rQ,name:"Solana",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{chainID:Ft.ZN,name:"Ethereum",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk/logo.png"}],_t="WohWallet",Qt=e=>{let{chainId:t,size:n=24}=e;const s=$t.find((e=>e.chainID===t));return(0,c.jsx)(o.Avatar,{src:null===s||void 0===s?void 0:s.logo,size:n,style:{border:"none"}})},Yt=e=>{let{chainId:t}=e;const n=$t.find((e=>e.chainID===t));return(0,c.jsx)("span",{children:null===n||void 0===n?void 0:n.name})},Jt=()=>{const{sourceChain:e,sourceWalletAddress:t,targetChain:n,targetWalletAddress:a}=(0,s.useSelector)((e=>e.wormhole));return(0,c.jsxs)(o.Row,{gutter:[16,16],align:"middle",style:{padding:16},children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,c.jsxs)(o.Typography.Title,{level:5,children:[(0,c.jsx)(Yt,{chainId:e})," Network"]}),(0,c.jsx)(o.Typography.Text,{children:w(t)})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{direction:"vertical",size:0,align:"end",children:[(0,c.jsxs)(o.Typography.Title,{level:5,children:[(0,c.jsx)(Yt,{chainId:n})," Network"]}),(0,c.jsx)(o.Typography.Text,{children:w(a)})]})})]})},Gt=e=>{let{percent:t=100}=e;return(0,c.jsx)(o.Row,{children:(0,c.jsx)(o.Col,{className:"progress",span:24,children:(0,c.jsx)("span",{className:"progress-bar",style:{width:`${t}%`}})})})};let Kt,Xt;!function(e){e.Transfer="Transfer",e.Provider="Provider",e.SourceWallet="SourceWallet"}(Kt||(Kt={})),function(e){e.Transfer="Transfer",e.WaitSigned="WaitSigned",e.Redeem="Redeem",e.Finish="Finish",e.Unknown="Unknown"}(Xt||(Xt={}));const en={mainnet:"0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",goerli:"0x706abc4E45D419950511e474C7B9Ed348A4a716c",ropsten:"0xC89Ce4735882C9F0f0FE26686c53074E09B0D550"},tn={mainnet:"0x3ee18B2214AFF97000D974cf647E7C347E8fa585",goerli:"0xf890982f9310df57d00f659cf4fd87e65aded8d7",ropsten:"0x0290FB167208Af455bB137780163b7B7a9a10C16"},nn="https://deep-index.moralis.io/api/v2",sn="N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd",an="5eb1b92f2065414d9dd21858fac54257",rn={mainnet:`https://mainnet.infura.io/v3/${an}`,goerli:`https://goerli.infura.io/v3/${an}`,ropsten:`https://ropsten.infura.io/v3/${an}`},on={mainnet:`wss://mainnet.infura.io/ws/v3/${an}`,goerli:`wss://goerli.infura.io/ws/v3/${an}`,ropsten:`wss://ropsten.infura.io/ws/v3/${an}`},ln={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},cn={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"};var dn=n(71256),un=n(97429).Buffer;class pn{constructor(){this.context=void 0,this.transferData=void 0,this.attestData=void 0,this.restore=async e=>{const t=JSON.parse(JSON.stringify(e));if(!e)throw new Error("Not find state transfer");this.transferData=t.transferData,this.attestData=t.attestData,this.context=t.context},this.transfer=async(e,t)=>{this.transferData||(this.transferData=await this.initTransferData(e));const{transferData:n}=this.getState(),{attested:s}=await this.isAttested();if(s||await this.attest(t),n.nextStep===Xt.Transfer){const{emitterAddress:e,sequence:s,txHash:a}=await this.submitTransfer();n.txHash=a,n.emitterAddress=e,n.sequence=s,n.nextStep=Xt.WaitSigned;const r=await this.backup();await t(r)}if(n.nextStep===Xt.WaitSigned){const e=await this.getSignedVAA(n.emitterAddress,n.sequence);n.vaaHex=e,n.nextStep=Xt.Redeem;const s=await this.backup();await t(s)}if(n.nextStep===Xt.Redeem){const e=await this.redeem(n.vaaHex);n.txId=e,n.nextStep=Xt.Finish;const s=await this.backup();return await t(s),e}throw new Error("Invalid step transfer")},this.backup=async()=>{const e=await pn.fetchAll(),t=this.getState();return e[t.context.id]=t,bn(Kt.Transfer,e),t},this.getState=()=>{if(!this.transferData)throw new Error("Invalid data transfer");if(!this.context)throw new Error("Invalid context");return{transferData:this.transferData,context:this.context,attestData:this.attestData}},this.getSignedVAAWithRetry=async function(){let e=0;for(;;)try{console.log("Retry to get signed vaa:",++e);return await(0,Ft.RX)(...arguments)}catch(t){await g(1e4)}},this.initTransferData=async e=>{throw new Error("Invalid function initTransferData")},this.isAttested=async()=>{throw new Error("Invalid function isAttested")},this.submitTransfer=async()=>{throw new Error("Invalid function submitTransfer")},this.submitAttest=async()=>{throw new Error("Invalid function submitAttest")},this.wrapToken=async e=>{throw new Error("Invalid function wrapToken")},this.redeem=async e=>{throw new Error("Invalid function redeem")},this.initAttestData=()=>(this.attestData||(this.attestData={step:0,sequence:"",emitterAddress:"",vaaHex:"",txId:""}),this.attestData),this.attest=async e=>{const t=this.initAttestData();if(0===t.step){const{emitterAddress:n,sequence:s}=await this.submitAttest();t.emitterAddress=n,t.sequence=s,t.step++;const a=await this.backup();await e(a)}if(1===t.step){const n=await this.getSignedVAA(t.emitterAddress,t.sequence);t.vaaHex=n,t.step++;const s=await this.backup();await e(s)}if(2===t.step){const n=await this.wrapToken(t.vaaHex);t.txId=n,t.step++;const s=await this.backup();return await e(s),n}throw new Error("Invalid step attest")}}getConnection(){const e=window.sentre.splt.nodeUrl;return new dn.Connection(e,"confirmed")}async getSignedVAA(e,t){const{context:n}=this.getState(),{vaaBytes:s}=await this.getSignedVAAWithRetry(n.wormholeRpc,n.srcChainId,e,t);return un.from(s).toString("hex")}}pn.fetchAll=async()=>{const e=await jn(Kt.Transfer);return JSON.parse(JSON.stringify(e))||{}};var hn=n(97429).Buffer;const yn=class extends pn{constructor(e,t,n){super(),this.srcWallet=void 0,this.targetWallet=void 0,this.isAttested=async()=>{const{context:e}=this.getState(),t=await this.srcWallet.getProvider(),n=await(0,Ft.Ak)(e.srcTokenBridgeAddress,t,e.tokenInfo.address,Ft.ZN),s=await(0,Ft.sS)(this.getConnection(),e.targetTokenBridgeAddress,n.chainId,n.assetAddress);return{attested:!!s,wrappedMintAddress:s}},this.initTransferData=async e=>{const t=await this.srcWallet.getAddress(),n=await this.targetWallet.getAddress();return{nextStep:Xt.Transfer,amount:e,from:t,to:n,emitterAddress:"",sequence:"",vaaHex:"",txId:"",txHash:""}},this.submitTransfer=async()=>{const{transferData:e,context:t}=this.getState();let{wrappedMintAddress:n}=await this.isAttested();if(!n)throw new Error("Attest the token first");const s=(await this.srcWallet.getProvider()).getSigner(),a=h.utils.decimalize(e.amount,t.tokenInfo.decimals);await(0,Ft.YC)(t.srcTokenBridgeAddress,t.tokenInfo.address,s,a);const r=await xn(n,this.targetWallet),i=await(0,Ft.qC)(t.srcTokenBridgeAddress,s,t.tokenInfo.address,a,Ft.rQ,h.account.fromAddress(r).toBuffer());return{sequence:(0,Ft.N_)(i,t.srcBridgeAddress),emitterAddress:(0,Ft.Nz)(t.srcTokenBridgeAddress),txHash:i.transactionHash}},this.submitAttest=async()=>{const{context:e}=this.getState(),t=(await this.srcWallet.getProvider()).getSigner(),n=await(0,Ft.$6)(e.srcTokenBridgeAddress,t,e.tokenInfo.address);return{sequence:(0,Ft.N_)(n,e.srcBridgeAddress),emitterAddress:(0,Ft.Nz)(e.srcTokenBridgeAddress)}},this.wrapToken=async e=>{const{context:t}=this.getState(),n=await this.targetWallet.getAddress(),s=(0,Ft.GZ)(e);await(0,Ft.Pp)(this.getConnection(),this.targetWallet.signTransaction,t.targetBridgeAddress,n,hn.from(s));const a=await(0,Ft.lx)(this.getConnection(),t.targetBridgeAddress,t.targetTokenBridgeAddress,n,s),r=await this.targetWallet.signTransaction(a);return await wn(r,this.getConnection())},this.redeem=async e=>{const{context:t}=this.getState(),n=await this.targetWallet.getAddress(),s=(0,Ft.GZ)(e);await(0,Ft.Pp)(this.getConnection(),this.targetWallet.signTransaction,t.targetBridgeAddress,n,hn.from(s));const a=await(0,Ft.A7)(this.getConnection(),t.targetBridgeAddress,t.targetTokenBridgeAddress,n,s),r=await this.targetWallet.signTransaction(a);return await wn(r,this.getConnection())},this.srcWallet=e,this.targetWallet=t,this.context=vn(n)}};var mn=n(53933);const fn=()=>mn.Z.get("network")||"mainnet",gn=()=>"mainnet"===fn()?"mainnet":"goerli",wn=async(e,t)=>{const n=e.serialize(),s=await t.sendRawTransaction(n,{skipPreflight:!0,preflightCommitment:"confirmed"}),{value:{err:a}}=await t.confirmTransaction(s,"confirmed");if(a)throw new Error(`${a} at ${s}`);return s},xn=async(e,t)=>{if(!h.account.isAddress(e))throw new Error("Invalid mint address");const n=await t.getAddress(),s=window.sentre.splt,a=await s.deriveAssociatedAddress(n,e);let r=!1;try{const{state:e}=await s.getAccountData(a);r=e>0}catch(i){r=!1}return r||await s.initializeAccount(e,n,t),a},jn=async e=>{var t;const n=await(null===(t=window.sentre.wallet)||void 0===t?void 0:t.getAddress());if(!n)throw new Error("Login fist");return new F(n).createInstance("wormhole").getItem(e)},bn=async(e,t)=>{var n;const s=await(null===(n=window.sentre.wallet)||void 0===n?void 0:n.getAddress());if(!s)throw new Error("Login fist");return new F(s).createInstance("wormhole").setItem(e,t)},Tn=()=>{const e=gn();return{chainId:Ft.ZN,tokenBridgeAddress:tn[e],bridgeAddress:en[e]}},vn=e=>{const t=fn(),n=Tn();return{id:(new Date).getTime()+""+Math.random(),time:(new Date).getTime(),srcChainId:n.chainId,srcTokenBridgeAddress:n.tokenBridgeAddress,srcBridgeAddress:n.bridgeAddress,targetChainId:Ft.rQ,targetTokenBridgeAddress:cn[t],targetBridgeAddress:ln[t],wormholeRpc:Vt[t],tokenInfo:e}},An=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"recipientChain",type:"uint16"},{name:"recipient",type:"bytes32"},{name:"arbiterFee",type:"uint256"},{name:"nonce",type:"uint32"}],name:"transferTokens",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"DECIMALS",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"INITIAL_SUPPLY",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"value",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"value",type:"uint256"}],name:"burnFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isMinter",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}];var Cn=n(21995),kn=n.n(Cn);class Sn{static getNetworkName(){const e=gn();return"mainnet"!==e?e:"eth"}static async fetchTokens(e){const{data:t}=await kn()({method:"get",url:`${nn}/${e}/erc20?chain=${Sn.getNetworkName()}`,headers:{"X-API-Key":sn}});return t}static async fetchTransactions(e){const{data:t}=await kn()({method:"get",url:`${nn}/${e}?chain=${Sn.getNetworkName()}`,headers:{"X-API-Key":sn}});return t.result}static async fetchInfoAToken(e){const{data:t}=await kn()({method:"get",url:`${nn}/erc20/metadata?chain=${Sn.getNetworkName()}&addresses=${e}`,headers:{"X-API-Key":sn}});return t[0]}}const In=n(62959),Mn=new In(new In.providers.HttpProvider(rn.goerli));new(new In(new In.providers.WebsocketProvider(on.mainnet)).eth.Contract)([{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldContract",type:"address"},{indexed:!0,internalType:"address",name:"newContract",type:"address"}],name:"ContractUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"WETH",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"attestToken",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint16",name:"chainId_",type:"uint16"}],name:"bridgeContracts",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"completeTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"completeTransferAndUnwrapETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"createWrapped",outputs:[{internalType:"address",name:"token",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"bytes32",name:"symbol",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],internalType:"struct BridgeStructs.AssetMeta",name:"meta",type:"tuple"}],name:"encodeAssetMeta",outputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint16",name:"toChain",type:"uint16"},{internalType:"uint256",name:"fee",type:"uint256"}],internalType:"struct BridgeStructs.Transfer",name:"transfer",type:"tuple"}],name:"encodeTransfer",outputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"governanceActionIsConsumed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceChainId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceContract",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"impl",type:"address"}],name:"isInitialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"isTransferCompleted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isWrappedAsset",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"outstandingBridged",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseAssetMeta",outputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"bytes32",name:"symbol",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],internalType:"struct BridgeStructs.AssetMeta",name:"meta",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseRegisterChain",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chainId",type:"uint16"},{internalType:"uint16",name:"emitterChainID",type:"uint16"},{internalType:"bytes32",name:"emitterAddress",type:"bytes32"}],internalType:"struct BridgeStructs.RegisterChain",name:"chain",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseTransfer",outputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint16",name:"toChain",type:"uint16"},{internalType:"uint256",name:"fee",type:"uint256"}],internalType:"struct BridgeStructs.Transfer",name:"transfer",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseUpgrade",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chainId",type:"uint16"},{internalType:"bytes32",name:"newContract",type:"bytes32"}],internalType:"struct BridgeStructs.UpgradeContract",name:"chain",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVM",type:"bytes"}],name:"registerChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint16",name:"recipientChain",type:"uint16"},{internalType:"bytes32",name:"recipient",type:"bytes32"},{internalType:"uint256",name:"arbiterFee",type:"uint256"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"transferTokens",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"updateWrapped",outputs:[{internalType:"address",name:"token",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVM",type:"bytes"}],name:"upgrade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"wormhole",outputs:[{internalType:"contract IWormhole",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"recipientChain",type:"uint16"},{internalType:"bytes32",name:"recipient",type:"bytes32"},{internalType:"uint256",name:"arbiterFee",type:"uint256"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"wrapAndTransferETH",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint16",name:"tokenChainId",type:"uint16"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"}],name:"wrappedAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],tn.mainnet);var Dn=n(97429).Buffer;const En=n(21721),Wn=async e=>{const t=[],n=await Sn.fetchTokens(e);for(const s of n)s.decimals=Number(s.decimals),s.balance=BigInt(s.balance),s.amount=h.utils.undecimalize(s.balance,s.decimals),s.address=s.token_address,t.push(s);return t},Bn=async e=>{const t=Tn(),n=[];let s=await(async e=>Sn.fetchTransactions(e))(e);const a=await Promise.all(s.map((async e=>{if(e.to_address!==t.tokenBridgeAddress)return;return await Nn(e)})));for(const r of a)r&&n.push(r);return n},Nn=async e=>{const t=(e=>{var t,n,s,a;En.addABI(An);const r=null===(t=En.decodeMethod(e.input))||void 0===t?void 0:t.params;if(!r)return;const i=null===(n=r[0])||void 0===n?void 0:n.value;if(!i)return;const o=null===(s=r[1])||void 0===s?void 0:s.value,l=null===(a=r[2])||void 0===a?void 0:a.value;return o&&l?{amount:o,token:i,targetChain:Number(l)}:void 0})(e);if(!t||t.targetChain!==Ft.rQ)return;const n=await Oe.load("fetchEtherTokenInfo"+t.token,(()=>(async e=>{const t=await Sn.fetchInfoAToken(e);return{balance:"",decimals:null===t||void 0===t?void 0:t.decimals,logo:null===t||void 0===t?void 0:t.logo,name:null===t||void 0===t?void 0:t.name,symbol:null===t||void 0===t?void 0:t.symbol,address:null===t||void 0===t?void 0:t.address,amount:null===t||void 0===t?void 0:t.amount}})(t.token))),s=vn(n);s.time=new Date(e.block_timestamp).getTime();return{context:s,transferData:{nextStep:Xt.Unknown,amount:h.utils.undecimalize(BigInt(t.amount),n.decimals),from:e.from_address,to:"",emitterAddress:"",sequence:"",vaaHex:"",txId:"",txHash:e.hash}}};window.wormhole={sourceWallet:{},targetWallet:{}};const Rn="wormhole",Pn={sourceTokens:{},sourceChain:Ft.ZN,sourceWalletAddress:"",targetWalletAddress:"",targetChain:Ft.rQ,tokenAddress:"",amount:"",processId:"",visible:!1},zn=(0,C.createAsyncThunk)("wormhole/connectSourceWallet",(async e=>{var t;let{wallet:n}=e;window.wormhole.sourceWallet.ether=n;const s=await n.getAddress(),a=await Wn(s),r={};for(const i of a)r[i.address]=i;return{sourceWalletAddress:s,sourceTokens:r,tokenAddress:(null===(t=a[0])||void 0===t?void 0:t.address)||""}})),On=(0,C.createAsyncThunk)("wormhole/fetchSourceTokens",(async()=>{const e=window.wormhole.sourceWallet.ether;if(!e)throw new Error("Login fist");const t=await e.getAddress(),n=await Wn(t),s={};for(const a of n)s[a.address]=a;return{sourceTokens:s}})),Ln=(0,C.createAsyncThunk)("wormhole/disconnectSourceWallet",(async(e,t)=>{let{getState:n}=t;return{...n().wormhole,sourceWalletAddress:"",sourceTokens:{},tokenAddress:""}})),Un=(0,C.createAsyncThunk)("wormhole/connectTargetWallet",(async e=>{let{wallet:t}=e;window.wormhole.targetWallet.sol=t;return{targetWalletAddress:await t.getAddress()}})),Hn=(0,C.createAsyncThunk)("wormhole/setSourceToken",(async(e,t)=>{let{tokenAddress:n,amount:s}=e,{getState:a}=t;const{wormhole:r}=a(),i=n||r.tokenAddress,o=void 0===s?r.amount:s;return{...r,tokenAddress:i,amount:o}})),qn=(0,C.createAsyncThunk)("wormhole/setWormholeProcess",(async(e,t)=>{let{id:n}=e,{getState:s}=t;const{wormhole:a}=s();return{...a,processId:n||""}})),Zn=(0,C.createAsyncThunk)("wormhole/restoreTransfer",(async(e,t)=>{let{transferState:n}=e,{getState:s}=t;const{sourceWallet:a}=window.wormhole;if(!a.ether)throw new Error("Login fist");const{wormhole:r}=s(),{context:i,transferData:o}=n,l={...r};return l.tokenAddress=i.tokenInfo.address,l.processId=i.id,l.amount=o.amount,l.sourceWalletAddress=o.from,l.targetWalletAddress=o.to,{...l}})),Fn=(0,C.createAsyncThunk)("wormhole/setVisibleProcess",(async e=>{let{visible:t}=e;return{visible:t}})),Vn=(0,C.createAsyncThunk)("wormhole/clearProcess",(async()=>({visible:!1,amount:"",processId:""}))),$n=(0,C.createSlice)({name:Rn,initialState:Pn,reducers:{},extraReducers:e=>{e.addCase(zn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Ln.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Un.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Hn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Zn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(qn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Fn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(On.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Vn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,_n="wohHistory",Qn=(0,C.createAsyncThunk)("wohHistory/fetchWohHistory",(async e=>{let{address:t}=e,n=await Bn(t);n=n.sort((function(e,t){return e.context.time<t.context.time?1:-1}));const s={};for(const a of n)s[a.context.id]=a;return s})),Yn=(0,C.createAsyncThunk)("wohHistory/restoreWohHistory",(async(e,t)=>{let{id:n}=e,{getState:s}=t;const a=s().wohHistory[n];return{[n]:await(async e=>{const t=JSON.parse(JSON.stringify(e)),{transferData:n,context:s}=t,a=n.txHash;if(!a)throw new Error("Invalid txHash");const r=await Mn.eth.getTransactionReceipt(a),i=(0,Ft.N_)(r,e.context.srcBridgeAddress);n.sequence=i,n.emitterAddress=(0,Ft.Nz)(s.srcTokenBridgeAddress);try{const{vaaBytes:e}=await(0,Ft.RX)(s.wormholeRpc,s.srcChainId,(0,Ft.Nz)(s.srcTokenBridgeAddress),i);n.vaaHex=Dn.from(e).toString("hex");const t=await(0,Ft.hz)(s.targetTokenBridgeAddress,e,window.sentre.splt.connection);n.nextStep=t?Xt.Finish:Xt.WaitSigned}catch(o){n.nextStep=Xt.WaitSigned}return t})(a)}})),Jn=(0,C.createAsyncThunk)("wohHistory/updateWormholeHistory",(async e=>{let{stateTransfer:t}=e;return{[t.context.id]:JSON.parse(JSON.stringify(t))}})),Gn=(0,C.createSlice)({name:_n,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Jn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Qn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Yn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,Kn=e=>{let{onClose:t=(()=>{})}=e;const n=(0,s.useDispatch)(),{sourceTokens:a,tokenAddress:i,amount:l,processId:u}=(0,s.useSelector)((e=>e.wormhole)),[p,h]=(0,r.useState)(!1),[y,m]=(0,r.useState)(!1),f=y||!!u,w=async e=>{e.transferData.nextStep===Xt.WaitSigned&&(await g(5e3),await n(On())),await n(qn({id:e.context.id})),await n(Jn({stateTransfer:e}))};return(0,c.jsxs)(o.Row,{gutter:[8,8],justify:"center",children:[(0,c.jsx)(o.Col,{span:24,style:{textAlign:"justify"},children:(0,c.jsxs)(o.Space,{align:"start",children:[(0,c.jsx)(o.Typography.Text,{style:{color:"#D72311"},children:(0,c.jsx)(d,{name:"alert-circle-outline"})}),(0,c.jsx)(o.Typography.Text,{style:{color:"#D72311",fontSize:12},children:"You should wait until the process is complete or you can minimize this dialog. However, the process will fail if you exit the Sen Assets."})]})}),(0,c.jsx)(o.Col,{span:24,children:f?(0,c.jsx)(Gt,{}):(0,c.jsx)(o.Checkbox,{checked:p,onChange:()=>h(!p),disabled:f,children:"I have read and understood"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Button,{onClick:async()=>{await m(!0);try{const{sourceWallet:e,targetWallet:s}=window.wormhole,r=a[i];if(!e.ether||!s.sol||!r)throw new Error("Login fist");let o=new yn(e.ether,s.sol,r);const c=await o.transfer(l,w);return pt("Transfer",c),n(Vn()),t(!1)}catch(e){ht(e),await n(qn({id:""}))}finally{m(!1)}},type:"primary",block:!0,disabled:!p,loading:f,children:["Approve ",l," token"]})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Button,{type:"text",onClick:()=>t(!1),children:f?"Minimize":"Cancel"})})]})},Xn=e=>{let{visible:t=!1,onCancel:n=(()=>{})}=e;const{sourceChain:a,targetChain:r,amount:i,sourceTokens:l,tokenAddress:d}=(0,s.useSelector)((e=>e.wormhole)),u=l[d];return u?(0,c.jsx)(o.Modal,{visible:t,footer:!1,closable:!1,centered:!0,children:(0,c.jsxs)(o.Row,{gutter:[16,16],justify:"center",children:[(0,c.jsx)(o.Col,{style:{marginBottom:50},children:(0,c.jsx)(o.Typography.Title,{level:4,children:"Confirm transfer"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Card,{bordered:!1,className:"confirm-transfer-wrap",bodyStyle:{padding:0},children:[(0,c.jsxs)(o.Row,{className:"confirm-transfer-header",children:[(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(Qt,{chainId:a,size:32})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsx)(Qt,{chainId:r,size:32})}),(0,c.jsxs)(o.Col,{className:"amount",children:[(0,c.jsx)(o.Typography.Text,{style:{color:"#ffffff"},children:u.symbol}),(0,c.jsx)(o.Typography.Title,{level:3,style:{color:"#ffffff"},children:i})]})]}),(0,c.jsx)(Jt,{})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Kn,{onClose:n})})]})}):null},es=()=>{const e=(0,s.useDispatch)(),{amount:t,processId:n,visible:a}=(0,s.useSelector)((e=>e.wormhole)),r=t=>e(Fn({visible:t}));return(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Tooltip,{title:n?"Have transaction in progress":"",children:(0,c.jsx)(o.Button,{disabled:!Number(t)||!!n,type:"primary",onClick:()=>r(!0),block:!0,children:"Next"})})}),(0,c.jsx)(Xn,{visible:a,onCancel:r})]})},ts=()=>(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Typography.Title,{level:4,children:["Wormhole ",(0,c.jsx)("span",{style:{color:"#F9575E"},children:"Bridge"})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(ut,{})})]}),ns=e=>{let{title:t,label:n}=e;const[s,a]=(0,r.useState)(!1);return(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Typography.Text,{children:n}),(0,c.jsx)(o.Tooltip,{title:t,visible:s,onVisibleChange:()=>a(!1),children:(0,c.jsx)(d,{name:"information-circle-outline",onClick:()=>a(!0),style:{cursor:"pointer"}})})]})};var ss=n(70775),as=n.n(ss);const rs=e=>{let{connected:t,installed:n,onConnect:s=(()=>{}),onDisconnect:a=(()=>{})}=e;return t?(0,c.jsx)(o.Button,{size:"small",onClick:a,children:"Disconnect"}):(0,c.jsx)(o.Tooltip,{title:n?"":"Install Metamask please",children:(0,c.jsx)(o.Button,{size:"small",onClick:s,type:"primary",disabled:!n,children:"Connect"})})},is=e=>{let{chainId:t,address:n,onChange:s=(()=>{})}=e;return(0,c.jsx)(o.Row,{children:(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Select,{onChange:e=>s(Number(e)),value:String(t),bordered:!1,suffixIcon:(0,c.jsx)(d,{name:"chevron-down-outline"}),size:"large",style:{marginLeft:-4},className:"custom-selector",dropdownStyle:{lineHeight:"normal"},disabled:!0,children:$t.map((e=>(0,c.jsx)(o.Select.Option,{value:String(e.chainID),children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Avatar,{src:e.logo,size:32,style:{backgroundColor:"#2D3355",border:"none"}}),(0,c.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,c.jsx)(o.Typography.Text,{style:{fontWeight:600},children:e.name}),n&&(0,c.jsx)(o.Typography.Text,{style:{fontSize:12},children:w(n)})]})]})},e.chainID)))})})})};var os=n(13106);const ls="sentre",cs=window.sessionStorage,ds=e=>{try{return e?JSON.parse(e):null}catch(t){return!1}},us={set:(e,t)=>{let n=ds(cs.getItem(ls));n&&"object"===typeof n||(n={}),n[e]=t,cs.setItem(ls,JSON.stringify(n))},get:e=>{let t=ds(cs.getItem(ls));return t&&"object"===typeof t?t[e]:null},clear:e=>{us.set(e,null)}},ps=us;class hs{constructor(){this.getProvider=async()=>{const e=await as()();if(!e)throw new Error("No provider");return new os.Q(e,"any")},this.getAddress=async()=>{const e=await this.getProvider(),t=await e.send("eth_requestAccounts",[]);if(!t[0])throw new Error("There is no Ethereum account");return t[0]},this.connect=async()=>{ps.set(_t,hs.walletType)},this.disconnect=async()=>{ps.clear(_t)}}}hs.walletType="MetaMask";const ys=hs,ms=()=>{const e=(0,s.useDispatch)(),{sourceWalletAddress:t,sourceChain:n}=(0,s.useSelector)((e=>e.wormhole)),[a,i]=(0,r.useState)(!1),l=(0,r.useCallback)((()=>{if(ps.get(_t)===ys.walletType)return new ys;throw new Error("Login wallet fist")}),[]),d=(0,r.useCallback)((async()=>{if(n===Ft.ZN){const e=await as()();i(!!e)}}),[n]);(0,r.useEffect)((()=>{d()}),[d]);const u=(0,r.useCallback)((async()=>{const t=new ys;try{e(zn({wallet:t})),t.connect()}catch(n){t.disconnect()}}),[e]);return(0,r.useEffect)((()=>{const t=ps.get(_t);if(!a||!t)return;const n=l();try{n&&e(zn({wallet:n}))}catch(s){return window.notify({type:"error",description:s.message})}}),[e,l,a]),(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(is,{address:t,chainId:n})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(rs,{connected:!!t,installed:a,onConnect:u,onDisconnect:()=>{const t=l();e(Ln()),t.disconnect()}})})]})},fs=()=>{const e=(0,s.useDispatch)(),{targetWalletAddress:t,targetChain:n}=(0,s.useSelector)((e=>e.wormhole)),{wallet:{address:i}}=(0,a.useWallet)();return(0,r.useEffect)((()=>{const t=window.sentre.wallet;t&&i&&e(Un({wallet:t}))}),[i,e]),(0,c.jsxs)(o.Row,{gutter:[16,16],align:"middle",children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(is,{address:t,chainId:n})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Tag,{style:{margin:0,borderRadius:4,background:"rgba(249, 87, 94, 0.1)",color:"#F9575E",textTransform:"capitalize",border:"none"},children:"Connected"})})]})},gs=()=>(0,c.jsx)(o.Card,{bordered:!1,className:"account-item",bodyStyle:{padding:16},children:(0,c.jsxs)(o.Row,{gutter:[16,16],justify:"center",children:[(0,c.jsxs)(o.Col,{span:24,children:[(0,c.jsx)(ns,{title:"Source Network",label:"Source"}),(0,c.jsx)(ms,{})]}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Tooltip,{title:"Coming soon",style:{background:"red"},children:(0,c.jsx)(d,{name:"git-compare-outline",style:{cursor:"not-allowed"}})})}),(0,c.jsxs)(o.Col,{span:24,children:[(0,c.jsx)(ns,{title:"Target network",label:"Target"}),(0,c.jsx)(fs,{})]})]})}),ws=()=>{const e=(0,s.useDispatch)(),{sourceTokens:t,sourceWalletAddress:n,tokenAddress:a}=(0,s.useSelector)((e=>e.wormhole));return(0,c.jsx)(o.Select,{onChange:t=>e(Hn({tokenAddress:t})),value:a||"Select",bordered:!1,suffixIcon:(0,c.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),size:"middle",style:{marginLeft:-12},disabled:!n,children:Object.values(t).map((e=>(0,c.jsx)(o.Select.Option,{value:e.address,children:(0,c.jsxs)(o.Space,{align:"center",children:[(0,c.jsx)(o.Avatar,{src:e.logo,size:24,style:{border:"none",background:Fe(e.address,.8)},children:e.symbol.substring(0,2)}),(0,c.jsx)(o.Space,{direction:"vertical",size:0,children:(0,c.jsx)(o.Typography.Text,{style:{color:"#7A7B85"},children:e.symbol})})]})},e.address)))})},xs=()=>{const e=(0,s.useDispatch)(),{sourceTokens:t,tokenAddress:n,amount:a,processId:r}=(0,s.useSelector)((e=>e.wormhole)),{amount:i,symbol:l}=t[n]||{};return(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{children:"Amount"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Typography.Text,{children:["Available: ",i||0," ",l]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Bt,{disabled:!n||!!r,placeholder:"0",prefix:(0,c.jsx)(ws,{}),suffix:(0,c.jsx)(o.Button,{type:"text",style:{marginRight:-7},disabled:!n||!!r,onClick:()=>e(Hn({amount:`${i}`})),children:"MAX"}),value:a,onValue:t=>e(Hn({amount:t})),max:i})})]})},js=()=>(0,c.jsx)(o.Card,{className:"card-page",children:(0,c.jsxs)(o.Row,{gutter:[14,14],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ts,{})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(gs,{})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(xs,{})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(es,{})})]})});var bs=n(4550),Ts=n.n(bs);const vs=e=>{let{transferState:t}=e;const n=(0,s.useDispatch)(),{processId:a,sourceTokens:i,tokenAddress:l}=(0,s.useSelector)((e=>e.wormhole)),{context:u,transferData:p}=t,h=(0,r.useMemo)((()=>p.nextStep===Xt.Finish?"success":a===u.id?"pending":p.nextStep===Xt.Unknown?"unknown":"failed"),[u.id,a,p.nextStep]),y=async e=>(e.transferData.nextStep===Xt.WaitSigned&&(await g(5e3),await n(On())),n(Jn({stateTransfer:e})));return"success"===h?(0,c.jsx)(o.Button,{size:"small",type:"text",onClick:()=>window.open(x(t.transferData.txId),"_blank"),icon:(0,c.jsx)(d,{name:"open-outline"})}):"failed"===h?(0,c.jsx)(o.Button,{type:"primary",size:"small",onClick:async()=>{try{await n(Zn({transferState:t})).unwrap(),await n(qn({id:u.id})).unwrap();const{sourceWallet:e,targetWallet:s}=window.wormhole,a=i[l];if(!e.ether||!s.sol||!a)throw new Error("Login fist");const r=new yn(e.ether,s.sol,a);await r.restore(t),await y(t);const o=await r.transfer(p.amount,y);pt("Transfer",o),n(Vn())}catch(e){ht(e),await n(qn({id:""}))}},disabled:!!a,children:"Retry"}):"unknown"===h?null:(0,c.jsx)(o.Button,{type:"text",size:"small",onClick:()=>n(Fn({visible:!0})),children:"Reopen"})},As={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},Cs=e=>{let{tag:t}=e;const n=e=>{let n=As[t];return`rgba(${n[0]},  ${n[1]}, ${n[2]},${e||1})`};return(0,c.jsx)(o.Tag,{style:{margin:0,borderRadius:4,color:n(),textTransform:"capitalize"},color:n(.1),children:t})},ks=e=>{let{data:t}=e;const n=(0,s.useDispatch)(),{processId:a}=(0,s.useSelector)((e=>e.wormhole)),i=t.transferData.nextStep,l=(0,r.useMemo)((()=>i===Xt.Finish?"success":i===Xt.Unknown?"unknown":a===t.context.id?"pending":"failed"),[t.context.id,i,a]);return(0,r.useEffect)((()=>{n(Yn({id:t.context.id})).unwrap()}),[t.context.id,n]),i===Xt.Unknown?(0,c.jsx)(o.Tag,{style:{margin:0,borderRadius:4},color:"processing",children:"checking"}):(0,c.jsx)(Cs,{tag:l})},Ss=[{title:"TIME",dataIndex:"context",render:e=>(0,c.jsx)(o.Typography.Text,{children:Ts()(e.time).format("DD MMM, YYYY hh:mm")})},{title:"TRANSACTION ID",render:e=>{const t=e.transferData.txHash;return(0,c.jsx)(o.Typography.Text,{style:{fontWeight:700},children:t?w(t,8,"..."):"--"})}},{title:"SOURCE - TARGET",dataIndex:"context",render:e=>(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(Qt,{chainId:e.srcChainId}),(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(Yt,{chainId:e.srcChainId})}),(0,c.jsx)("span",{children:"-"}),(0,c.jsx)(Qt,{chainId:e.targetChainId}),(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(Yt,{chainId:e.targetChainId})})]})},{title:"AMOUNT",render:e=>{var t,n,s;return(0,c.jsxs)(o.Typography.Text,{children:[null===e||void 0===e||null===(t=e.transferData)||void 0===t?void 0:t.amount," ",null===e||void 0===e||null===(n=e.context)||void 0===n||null===(s=n.tokenInfo)||void 0===s?void 0:s.symbol]})}},{title:"STATUS",width:100,render:e=>(0,c.jsx)(ks,{data:e})},{title:"ACTION",width:100,render:e=>(0,c.jsx)(vs,{transferState:e})}],Is=()=>{const[e,t]=(0,r.useState)(!0),n=(0,s.useDispatch)(),{wohHistory:a,wormhole:{sourceWalletAddress:i}}=(0,s.useSelector)((e=>e)),[l,u]=(0,r.useState)(4),p=(0,r.useCallback)((async()=>{if(i)try{await n(Qn({address:i})).unwrap()}catch(e){ht(e),console.log("er",e)}finally{t(!1)}}),[n,i]);(0,r.useEffect)((()=>(p(),()=>{t(!0)})),[p]);return(0,c.jsxs)(o.Row,{gutter:[16,16],justify:"center",children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Table,{columns:Ss,dataSource:Object.values(a).slice(0,l),rowClassName:(e,t)=>t%2?"odd-row":"even-row",pagination:!1,scroll:{x:1e3},rowKey:e=>e.context.id,loading:e})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Button,{disabled:l>=Object.keys(a).length,onClick:()=>u(l+4),type:"text",icon:(0,c.jsx)(d,{name:"chevron-down-outline"}),children:"View more"})})]})};class Ms{constructor(){this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]}}class Ds{constructor(){this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"}}class Es{constructor(){this.source=void 0,this.destination=void 0,this.amount="0"}}const Ws=700;class Bs{constructor(){this.conn=window.sentre.splt.connection}async fetchSignatures(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ws;n>Ws&&(n=Ws);const s={limit:n,before:t};return this.conn.getConfirmedSignaturesForAddress2(e,s)}async fetchConfirmTransaction(e){let t=[];const n=[];for(let a=0;a<=e.length/150;a++){const t=150*a,s=e.slice(t,t+150);n.push(this.conn.getParsedConfirmedTransactions(s))}const s=await Promise.all(n);for(const a of s)t=t.concat(a);return t}async fetchTransactions(e,t){const n=(new Date).getTime()/1e3;let{secondFrom:s,secondTo:a,lastSignature:r,limit:i}=t;s=Math.floor(s||0),a=Math.floor(a||n);const o=new dn.PublicKey(e);let l=[],c=!1;for(;!c;){const e=await this.fetchSignatures(o,r,i);if(null===e||void 0===e||!e.length||c)break;for(const t of e){const e=t.blockTime;if(e&&!(e>a)){if(e<s){c=!0;break}r=t.signature,l.push(t.signature)}}if(i&&l.length>=i)break;if((null===e||void 0===e?void 0:e.length)<Ws)break}return await this.fetchConfirmTransaction(l)}}let Ns;!function(e){e.Transfer="transfer"}(Ns||(Ns={}));const Rs=1e3;let Ps;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(Ps||(Ps={}));class zs{constructor(){this.milliSeconds=(new Date).valueOf()}setMilliSeconds(e){this.milliSeconds=e}static fromSeconds(e){const t=new zs,n=e*Rs;return t.setMilliSeconds(n),t}static fromYmd(e){const t=new zs,n=Ts()(e,Ps.YMD).valueOf();return t.setMilliSeconds(n),t}static getListDate(e,t){const n=[];let s=zs.fromYmd(e);const a=zs.fromYmd(t);for(;s.ymd()<=a.ymd();)n.push(s.ymd()),s=s.addDay();return n}format(e){const t=new Date(this.milliSeconds);return Ts()(t).format(e)}subtractDay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=Ts()(this.milliSeconds).subtract(e,"days").valueOf();return zs.fromSeconds(t/Rs)}addDay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=Ts()(this.milliSeconds).add(e,"days").valueOf();return zs.fromSeconds(t/Rs)}seconds(){return(this.milliSeconds-this.milliSeconds%Rs)/Rs}ymd(){return Number(this.format(Ps.YMD))}static today(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps.YMD;return Ts()().format(e)}}class Os{constructor(){this.solana=void 0,this.solana=new Bs}async collect(e,t){const n=await this.solana.fetchTransactions(e,t),s=[];for(const a of n){const e=this.parseTransLog(a);e&&s.push(e)}return s}parseTransLog(e){var t,n;const{blockTime:s,meta:a,transaction:r}=e;if(!s||!a)return;const{postTokenBalances:i,preTokenBalances:o,err:l,postBalances:c,preBalances:d}=a,{signatures:u,message:p}=r;if(null!==l)return;const h=(null===(t=a.innerInstructions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.instructions)||[],y=p.instructions[0]||[],m=new Ms;m.signature=u[0],m.blockTime=s,m.time=zs.fromSeconds(s).ymd(),m.programId=y.programId.toString();const f=this.parseAccountInfo(p.accountKeys,i||[],o||[],c,d);return this.isParsedInstruction(y)?(m.programTransfer=this.parseAction([y],f),m):(m.actionTransfers=this.parseAction(h,f),m.programInfo={programId:y.programId.toString(),data:y.data},m)}isParsedInstruction(e){return void 0!==e.parsed}parseAction(e,t){const n=[];for(const s of e){if(!this.isParsedInstruction(s))continue;const e=s.parsed||{};if(e.type===Ns.Transfer){const s=e.info,a=this.parseActionTransfer(s,t);a&&n.push(a)}}return n}parseActionTransfer(e,t){const{source:n,destination:s,amount:a,lamports:r}=e,i=a||r.toString();if(!i||!t.has(n)||!t.has(s))return;const o=new Es;return o.source=t.get(n),o.destination=t.get(s),o.amount=i,o}parseAccountInfo(e,t,n,s,a){const r=new Map;for(const i of t){const{accountIndex:t,mint:n,uiTokenAmount:s}=i,a=new Ds;a.address=e[t].pubkey.toString(),a.postBalance=s.amount,a.mint=n,a.decimals=s.decimals,r.set(a.address,a)}for(const i of n){const{accountIndex:t,uiTokenAmount:n}=i,s=e[t].pubkey.toString(),a=r.get(s)||new Ds;a.preBalance=n.amount,r.set(a.address,a)}return e.forEach(((e,t)=>{const n=e.pubkey.toString();if(!h.account.isAssociatedAddress(n)){const e=r.get(n)||new Ds;e.address=n,e.mint="11111111111111111111111111111111",e.postBalance=String(s[t]||0),e.preBalance=String(a[t]||0),e.decimals=9,r.set(e.address,e)}})),r}}const Ls="history",Us=(0,C.createAsyncThunk)("history/fetchTransactionHistory",(async(e,t)=>{var n;let{accountAddress:s,lastSignature:a,isLoadMore:r}=e,{getState:i}=t;const o=window.sentre.splt,{history:{transaction:l}}=i(),c={lastSignature:a,limit:15},d=await(null===(n=window.sentre.wallet)||void 0===n?void 0:n.getAddress());if(!d)throw new Error("Login fist");const u=new Os,p=await u.collect(s,c);let y=[];r&&(y=[...l]);for(const m of p){const e={},t=m.programTransfer[0];if(!t)continue;if(!t.destination||!t.source)continue;const n=t.destination;let a=d;n.mint!==Ke&&(a=await o.deriveAssociatedAddress(d,n.mint));const r=new Date(1e3*m.blockTime);e.time=Ts()(r).format("DD MMM, YYYY hh:mm"),e.key=m.signature,e.transactionId=m.signature,e.amount=Number(h.utils.undecimalize(BigInt(t.amount),n.decimals)),e.from=t.source.address,e.to=n.address,e.mint=n.mint,e.isReceive=a===n.address,s===d&&n.mint!==Ke||y.push(e)}return{transaction:y}})),Hs=(0,C.createSlice)({name:Ls,initialState:{transaction:[]},reducers:{},extraReducers:e=>{e.addCase(Us.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,qs=[{title:"TIME",dataIndex:"time",key:"time"},{title:"TRANSACTION ID",dataIndex:"transactionId",key:"transactionId",render:e=>(0,c.jsxs)(o.Space,{align:"baseline",children:[(0,c.jsx)(o.Typography.Text,{onClick:()=>window.open(x(e),"_blank"),style:{fontWeight:700,cursor:"pointer"},children:w(e,8,"...")}),(0,c.jsx)(o.Button,{type:"text",size:"small",onClick:()=>window.open(x(e),"_blank"),icon:(0,c.jsx)(d,{name:"open-outline"})})]})},{title:"FROM",dataIndex:"from",key:"from",render:e=>(0,c.jsx)(o.Typography.Text,{children:w(e,8,"...")})},{title:"TO",dataIndex:"to",key:"to",render:e=>(0,c.jsx)(o.Typography.Text,{children:w(e,8,"...")})},{title:"AMOUNT",key:"amount",dataIndex:"amount",render:(e,t)=>(0,c.jsx)(o.Typography.Text,{style:{color:t.isReceive?"#14E041":"#D72311"},children:(0,c.jsxs)(o.Space,{size:4,children:[t.isReceive?`+${e}`:`-${e}`," ",(0,c.jsx)(T,{mintAddress:t.mint})]})})},{title:"STATUS",key:"status",dataIndex:"status",render:e=>(0,c.jsx)(Cs,{tag:"success"})}],Zs=()=>{const[e,t]=(0,r.useState)(4),[n,a]=(0,r.useState)(!0),i=(0,s.useDispatch)(),{transaction:l}=(0,s.useSelector)((e=>e.history)),{accountSelected:u}=(0,s.useSelector)((e=>e.account)),p=(0,r.useCallback)((async()=>{u&&(await i(Us({accountAddress:u,isLoadMore:!1})).unwrap(),a(!1))}),[i,u]);(0,r.useEffect)((()=>(p(),()=>{a(!0),t(4)})),[p]);return(0,c.jsxs)(o.Row,{gutter:[16,16],justify:"center",children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Table,{columns:qs,dataSource:l.slice(0,e),rowClassName:(e,t)=>t%2?"odd-row":"even-row",pagination:!1,scroll:{x:1e3},loading:n})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Button,{onClick:()=>{const n=l.slice(0,e).length;if(l.length-n<=9){const e=l[l.length-1].transactionId;i(Us({accountAddress:u,lastSignature:e,isLoadMore:!0}))}t(e+4)},type:"text",icon:(0,c.jsx)(d,{name:"chevron-down-outline"}),disabled:e>=l.length,children:"View more"})})]})},Fs=()=>(0,c.jsx)(o.Card,{bodyStyle:{paddingTop:12},bordered:!1,children:(0,c.jsx)(o.Row,{gutter:[24,24],children:(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Tabs,{children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"Wormhole Bridge History",children:(0,c.jsx)(Is,{})},"Wormhole"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Transaction History",children:(0,c.jsx)(Zs,{})},"Transaction")]})})})});let Vs;const $s=()=>((0,r.useEffect)((()=>{window.onscroll=()=>{Vs&&clearTimeout(Vs),Vs=setTimeout(i.be,500)}}),[]),(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{xl:8,md:12,sm:24,children:(0,c.jsx)(Tt,{})}),(0,c.jsx)(o.Col,{xl:8,md:12,sm:24,children:(0,c.jsx)(Zt,{})}),(0,c.jsx)(o.Col,{xl:8,md:12,sm:24,children:(0,c.jsx)(js,{})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Fs,{})})]}));var _s=n(45055);const Qs=e=>{let{accountAddr:t,onClick:n=(()=>{})}=e;const{accounts:{[t]:{mint:s}}}=(0,a.useAccount)();return(0,c.jsx)(o.Card,{className:"account-item",style:{borderRadius:8},bodyStyle:{padding:12},bordered:!1,hoverable:!0,onClick:()=>n(t),children:(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(p,{mintAddress:s,size:32}),(0,c.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(T,{mintAddress:s})}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:(0,c.jsx)(b,{mintAddress:s})})]})]})}),(0,c.jsx)(o.Col,{style:{height:"100%"},children:(0,c.jsxs)(o.Space,{children:[(0,c.jsxs)(o.Space,{direction:"vertical",size:0,align:"end",children:[(0,c.jsx)(o.Typography.Text,{children:(0,c.jsx)(nt,{accountAddr:t,maxLength:6})}),(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:(0,c.jsx)(nt,{accountAddr:t,inUSD:!0,autoHidden:!0,maxLength:6})})]}),(0,c.jsx)(d,{style:{color:"#7A7B85"},name:"arrow-forward-outline"})]})})]})})};const Ys={appId:"sen_assets",url:"https://descartesnetwork.github.io/sen-assets/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},Js={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},Gs={manifest:{development:{...Ys},staging:{...Ys},production:{...Ys}}[f.OB],sol:Js[f.ef]},{manifest:{appId:Ks}}=Gs,Xs=()=>{const e=(0,s.useDispatch)(),t=(0,_s.useHistory)(),{tokenProvider:n}=(0,a.useMint)(),[l,d]=(0,r.useState)([]),u=(0,r.useCallback)((async e=>{const t=[],s=[];for(const a in e){const r=e[a],i=await n.findByAddress(r.mint);i?"SEN"===i.symbol?s.push(a):t.unshift(a):t.push(a)}return d([...s,...t])}),[n]),p=n=>(e(it({account:n})),t.push(`/app/${Ks}`));return(0,c.jsxs)(o.Row,{gutter:[12,12],align:"middle",children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(at,{onChange:u})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(lt,{onClick:e=>p(e),price:!1})}),l.map((e=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(i.ZP,{height:70,offset:70,overflow:!0,children:(0,c.jsx)(Qs,{accountAddr:e,onClick:e=>p(e)})})},e)))]})},ea=e=>{let{address:t}=e;return(0,c.jsx)(o.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,c.jsx)(At(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,c.jsx)(St,{color:"#212433",name:"qr-code-outline"})})},ta=()=>{const{wallet:{address:e}}=(0,a.useWallet)(),[t,n]=(0,r.useState)(!1),s=async()=>{n(!0),setTimeout((()=>{n(!1)}),1500)};return(0,c.jsxs)(o.Space,{size:10,children:[(0,c.jsx)(o.Tooltip,{title:"Copied",visible:t,children:(0,c.jsx)(kt(),{text:e,onCopy:s,children:(0,c.jsx)(St,{color:"#212433",name:"copy-outline",onClick:s})})}),(0,c.jsx)(ea,{address:e}),(0,c.jsx)(bt,{})]})},na=e=>{let{hidden:t=!1}=e;const[n,s]=(0,r.useState)(),{wallet:{lamports:i}}=(0,a.useWallet)(),l=j(h.utils.undecimalize(i,9)).format("0.[000]"),d=(0,r.useMemo)((()=>j(Number(l)*((null===n||void 0===n?void 0:n.price)||0)).format("0,0.[000]")),[l,n]),u=(0,r.useCallback)((async()=>{const e=await Ze("solana");return s(e)}),[]);return(0,r.useEffect)((()=>{u()}),[u]),t?(0,c.jsx)(o.Skeleton.Input,{style:{width:128,borderRadius:4},size:"small",active:!0}):(0,c.jsx)(o.Typography.Text,{style:{fontWeight:700},children:`$${d}`})},sa=()=>{const{wallet:{address:e}}=(0,a.useWallet)(),[t,n]=(0,r.useState)(!1);return(0,c.jsxs)(o.Row,{gutter:[16,16],wrap:!1,align:"middle",children:[(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Avatar,{size:48,children:(0,c.jsx)("span",{style:{fontSize:24},children:h.utils.randEmoji(e)})})}),(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[2,2],align:"middle",children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{children:w(e,3,"...")})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(ta,{})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(na,{hidden:t}),(0,c.jsx)(o.Button,{type:"text",size:"small",icon:(0,c.jsx)(d,{name:t?"eye-off-outline":"eye-outline"}),onClick:()=>n(!t)})]})})]})})]})},aa=()=>(0,c.jsx)(o.Card,{style:{height:"100%",overflow:"auto"},className:"card-sen-assets scrollbar",bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(sa,{})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Xs,{})})]})}),ra=(0,C.configureStore)({middleware:e=>e(k),devTools:!1,reducer:{history:Hs,settings:jt,account:ot,wormhole:$n,wohHistory:Gn}}),{manifest:{appId:ia}}=Gs,oa=()=>(0,c.jsx)(a.UIProvider,{appId:ia,antd:!0,children:(0,c.jsx)(a.WalletProvider,{children:(0,c.jsx)(a.PoolProvider,{children:(0,c.jsx)(a.MintProvider,{children:(0,c.jsx)(a.AccountProvider,{children:(0,c.jsx)(s.Provider,{store:ra,children:(0,c.jsx)($s,{})})})})})})}),la={size:"small",type:"default"},ca=()=>(0,c.jsx)(a.UIProvider,{appId:ia,antd:!0,children:(0,c.jsx)(a.WalletProvider,{children:(0,c.jsx)(a.PoolProvider,{children:(0,c.jsx)(a.MintProvider,{children:(0,c.jsx)(a.AccountProvider,{children:(0,c.jsx)(s.Provider,{store:ra,children:(0,c.jsx)(aa,{})})})})})})})},31633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(63805),a=n(77566),r=n(77330);const i={sol:a.Z[s.ef],register:r.Z[s.OB]}},77330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const s={sen_assets:{url:"https://descartesnetwork.github.io/sen-assets/index.js",appId:"sen_assets",name:"Sen Assets",author:{name:"Sentre",email:"hi@sentre.io"},supportedViews:"page,widget".split(",").map((e=>e.trim())).filter((e=>["page","widget"].includes(e))),tags:"dapps,sentre".split(",").map((e=>e.trim())),description:"To manage your SPL tokens by many advanced functions",verified:!1}},a={development:{extra:s,senreg:"https://descartesnetwork.github.io/senreg/register.json"},staging:{extra:s,senreg:"https://descartesnetwork.github.io/senreg/register.json"},production:{extra:{},senreg:"https://descartesnetwork.github.io/senreg/register.json"}}},77566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const s={spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},a={devnet:{...s,node:"https://api.devnet.solana.com",chainId:103,senAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",senPoolAddress:"3EUPL7YQLbU6DNU5LZeQeHPXTf1MigJ2yASXA9rH5Ku4",swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF",taxmanAddress:"8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9"},testnet:{...s,node:"https://api.testnet.solana.com",chainId:102,senAddress:"",senPoolAddress:"",swapAddress:"",taxmanAddress:""},mainnet:{...s,node:"https://api.mainnet-beta.solana.com",chainId:101,senAddress:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M",senPoolAddress:"",swapAddress:"SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV",taxmanAddress:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e"}}},11503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(11796),a=n(67845),r=n(63805),i=n(31633),o=n(63845);const{sol:{chainId:l}}=i.Z,c=/[\W_]+/g,d={tokenize:"full",context:!0,minlength:3},u={document:{id:"address",index:[{field:"symbol",...d},{field:"name",...d}]}};const p=class{constructor(){this.tokenMap=void 0,this.engine=void 0,this.chainId=void 0,this.cluster=void 0,this._init=async()=>{if(this.tokenMap.size)return this.tokenMap;let e=await(await(new a.DK).resolve()).filterByChainId(this.chainId).getList();return"devnet"===this.cluster&&(e=e.concat(o.ZP)),e="testnet"===this.cluster?e.concat([(0,o.DO)(102),(0,o.Tz)(102)]):e.concat([(0,o.Tz)(101)]),e.forEach((e=>this.tokenMap.set(e.address,e))),this.tokenMap},this._engine=async()=>{if(this.engine)return this.engine;const e=await this._init();return this.engine=new s.Document(u),e.forEach((e=>{let{address:t,...n}=e;return this.engine.add(t,n)})),this.engine},this.all=async()=>{const e=await this._init();return Array.from(e.values())},this.findByAddress=async e=>(await this._init()).get(e),this.find=async(e,t)=>{const n=await this._init(),s=await this._engine();let a=[];return e.split(c).forEach((e=>s.search(e,t).forEach((e=>{let{result:t}=e;return t.forEach((e=>{if(a.findIndex((t=>{let{address:n}=t;return n===e}))<0){const t=n.get(e);t&&a.push(t)}}))})))),a},this.tokenMap=new Map,this.engine=void 0,this.chainId=l,this.cluster=r.ef,this._init()}}},63845:(e,t,n)=>{"use strict";n.d(t,{Tz:()=>s,DO:()=>a,ZP:()=>r});const s=e=>({symbol:"SOL",name:"Solana",address:"11111111111111111111111111111111",decimals:9,chainId:e,extensions:{coingeckoId:"solana"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"}),a=e=>({symbol:"SEN",name:"Sen",address:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",decimals:9,chainId:e,extensions:{coingeckoId:"sen"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png"}),r=[s(103),a(103),{symbol:"wBTC",name:"Wrapped Bitcoin",address:"8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM",decimals:9,chainId:103,extensions:{coingeckoId:"bitcoin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png"},{symbol:"wETH",name:"Ethereum",address:"27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c",decimals:9,chainId:103,extensions:{coingeckoId:"ethereum"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png"},{symbol:"UNI",name:"Uniswap",address:"FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe",decimals:9,chainId:103,extensions:{coingeckoId:"uniswap"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png"},{symbol:"USDC",name:"USD Coin",address:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",decimals:9,chainId:103,extensions:{coingeckoId:"usd-coin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"}]},33015:(e,t,n)=>{"use strict";n.d(t,{ih:()=>i,ZP:()=>c});var s=n(19289),a=n(95418);const r="mints",i=(0,s.createAsyncThunk)("mints/getMint",(async(e,t)=>{let{address:n,force:s=!1}=e,{getState:r}=t;if(!a.account.isAddress(n))throw new Error("Invalid mint address");if(!s){const{accounts:{[n]:e}}=r();if(e)return{[n]:e}}const{splt:i}=window.sentre;return{[n]:await i.getMintData(n)}})),o=(0,s.createAsyncThunk)("mints/upsetMint",(async e=>{let{address:t,data:n}=e;if(!a.account.isAddress(t))throw new Error("Invalid address");if(!n)throw new Error("Data is empty");return{[t]:n}})),l=(0,s.createAsyncThunk)("mints/deleteMint",(async e=>{let{address:t}=e;if(!a.account.isAddress(t))throw new Error("Invalid address");return{address:t}})),c=(0,s.createSlice)({name:r,initialState:{},reducers:{},extraReducers:e=>{e.addCase(i.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(o.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(l.fulfilled,((e,t)=>{let{payload:n}=t;delete e[n.address]}))}}).reducer},63805:(e,t,n)=>{"use strict";n.d(t,{OB:()=>a,ef:()=>r});var s=n(53933);const a="production",r=(()=>{switch(s.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})()},53933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const s="sentre",a=window.localStorage,r=e=>{if(!e)return null;try{return JSON.parse(e)}catch(t){return null}},i={set:(e,t)=>{let n=r(a.getItem(s));n&&"object"===typeof n||(n={}),n[e]=t,a.setItem(s,JSON.stringify(n))},get:e=>{let t=r(a.getItem(s));return t&&"object"===typeof t?t[e]:null},clear:e=>{i.set(e,null)}},o=i},88677:()=>{},28608:()=>{},12328:()=>{},69159:()=>{},35883:()=>{},80950:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},64009:()=>{},42611:()=>{},88795:()=>{},89408:()=>{},34845:()=>{},57600:()=>{},56619:()=>{},21724:()=>{},39370:()=>{},62678:()=>{},25819:()=>{},77108:()=>{},52361:()=>{},94616:()=>{},33370:()=>{},55024:()=>{},43503:()=>{},55896:()=>{},87500:()=>{}}]);
//# sourceMappingURL=589.97985e66.chunk.js.map