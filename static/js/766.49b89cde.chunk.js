(self.webpackChunksen_assets=self.webpackChunksen_assets||[]).push([[766],{41338:function(e,t,n){"use strict";n.r(t),n.d(t,{Page:function(){return $n},Widget:function(){return tr},widgetConfig:function(){return er}});var r=n(55754),a=n(49142),s=n(92950),i=n(36498),c=n(78589),o=n(15861),u=n(29439),d=n(87757),l=n.n(d),p=n(65191),f=function(e){var t=(0,a.useMint)().tokenProvider,n=(0,a.usePool)().pools,r=(0,s.useState)([void 0]),i=(0,u.Z)(r,2),c=i[0],d=i[1],p=(0,s.useCallback)((0,o.Z)(l().mark((function r(){var a,s,i,c,o,u;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",d([void 0]));case 2:return r.next=4,t.findByAddress(e);case 4:if(!(a=r.sent)){r.next=7;break}return r.abrupt("return",d([a]));case 7:if(s=Object.values(n).find((function(t){return t.mint_lpt===e}))){r.next=10;break}return r.abrupt("return",d([void 0]));case 10:return i=s.mint_a,c=s.mint_b,r.next=13,t.findByAddress(i);case 13:return o=r.sent,r.next=16,t.findByAddress(c);case 16:return u=r.sent,r.abrupt("return",d([o,u]));case 18:case"end":return r.stop()}}),r)}))),[e,n,t]);return(0,s.useEffect)((function(){p()}),[p]),c},h=n(45263),x=function(e){var t=e.mintAddress,n=e.size,r=void 0===n?24:n,a=e.icon,s=void 0===a?(0,h.jsx)(p.Z,{name:"diamond-outline"}):a,i=f(t);return(0,h.jsx)(c.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},children:i.map((function(e,t){return(0,h.jsx)(c.Avatar,{src:null===e||void 0===e?void 0:e.logoURI,size:r,style:{backgroundColor:"#2D3355",border:"none"},children:s},(null===e||void 0===e?void 0:e.address)||t)}))})},y=n(34559),m=function(e){var t=e.mintAddress,n=void 0===t?"":t,r=e.separator,a=void 0===r?" \u2022 ":r,i=f(n),c=(0,s.useMemo)((function(){var e=i.map((function(e){if(!e)return(0,y.Xn)(n,2);var t=e.name,r=e.address,a=e.symbol;return 1===i.length&&t?t:a||(0,y.Xn)(r)})).join(a);return 1===i.length?e:"".concat(e," LP")}),[n,a,i]);return(0,h.jsx)("span",{style:{whiteSpace:"nowrap"},children:c})},v=function(e){var t=e.mintAddress,n=e.separator,r=void 0===n?" \u2022 ":n,a=f(t),i=(0,s.useMemo)((function(){return a.map((function(e){return e?e.symbol:"UNKN"})).join(r)}),[r,a]);return(0,h.jsx)("span",{children:i})},w=n(35105),b={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},g=function(e){var t=(0,s.useState)(b),n=(0,u.Z)(t,2),r=n[0],i=n[1],c=(0,a.useMint)().tokenProvider,d=(0,s.useCallback)((0,o.Z)(l().mark((function t(){var n,r,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.findByAddress(e);case 3:return r=t.sent,a=null===r||void 0===r||null===(n=r.extensions)||void 0===n?void 0:n.coingeckoId,t.next=7,(0,w.l)(a);case 7:return s=t.sent,t.abrupt("return",i(s));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",i(b));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[e,c]);return(0,s.useEffect)((function(){d()}),[d]),r},k=n(1413),j={up:"#14E041",down:"#D72311",default:"#FFC580"},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=Object.assign((0,k.Z)({},j),t);return e<0?n.down:e>0?n.up:n.default},A=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,a=e.configs,s=g(t),i=T(null===s||void 0===s?void 0:s.priceChange,a);return(0,h.jsxs)("span",{style:{color:r?i:"inherit"},children:[(0,y.uR)(Math.abs(null===s||void 0===s?void 0:s.priceChange)).format("0.[0]"),"%"]})},C=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,a=e.configs,s=g(t),i=T(null===s||void 0===s?void 0:s.priceChange,a),c="remove-outline";return(null===s||void 0===s?void 0:s.priceChange)<0&&(c="arrow-down-outline"),(null===s||void 0===s?void 0:s.priceChange)>0&&(c="arrow-up-outline"),(0,h.jsx)("span",{style:{color:r?i:"inherit"},children:(0,h.jsx)(p.Z,{name:c})})},S=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,a=e.configs,s=g(t),i=T(null===s||void 0===s?void 0:s.priceChange,a);return(0,h.jsx)("span",{style:{color:r?i:"inherit"},children:null!==s&&void 0!==s&&s.price?"$".concat((0,y.uR)(null===s||void 0===s?void 0:s.price).format("0,0.[00]")):"--"})},Z=n(95418),I="11111111111111111111111111111111",M="So11111111111111111111111111111111111111112",D=function(e){var t=(0,s.useState)(0),n=(0,u.Z)(t,2),r=n[0],i=n[1],c=(0,a.useMint)(),d=c.tokenProvider,p=c.getMint,f=(0,a.usePool)().pools,h=(0,s.useCallback)((0,o.Z)(l().mark((function t(){var n,r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",i(0));case 2:return t.next=4,d.findByAddress(e);case 4:if(!(n=t.sent)){t.next=7;break}return t.abrupt("return",i(n.decimals));case 7:t.t0=l().keys(f);case 8:if((t.t1=t.t0()).done){t.next=15;break}if(r=t.t1.value,f[r].mint_lpt!==e){t.next=13;break}return t.abrupt("return",i(9));case 13:t.next=8;break;case 15:return t.prev=15,t.next=18,p({address:e});case 18:return a=t.sent,t.abrupt("return",i(a[e].decimals));case 22:return t.prev=22,t.t2=t.catch(15),t.abrupt("return",i(0));case 25:case"end":return t.stop()}}),t,null,[[15,22]])}))),[p,e,f,d]);return(0,s.useEffect)((function(){h()}),[h]),r},W=function(e){var t=(0,a.useAccount)().accounts,n=(0,a.useWallet)().wallet,r=(0,s.useMemo)((function(){return e===n.address?{amount:n.lamports,mint:I}:t[e]||{}}),[e,t,n.address,n.lamports]),i=r.amount,c=r.mint,o=D(c);return(0,s.useMemo)((function(){return{balance:Z.utils.undecimalize(i,o),mint:c,amount:i,decimals:o}}),[i,o,c])},R=function(e){var t=e.accountAddr,n=e.inUSD,r=void 0!==n&&n,a=e.autoHidden,i=void 0!==a&&a,c=e.format,o=void 0===c?"0,0.[00]":c,u=e.maxLength,d=e.sortFormat,l=void 0===d?"0,0.[00]a":d,p=W(t),f=p.amount,x=p.mint,m=p.decimals,v=g(x),w=(0,s.useMemo)((function(){var e=Number(Z.utils.undecimalize(f,m)),t=o;return u&&String(e).length>u&&(t=l),r&&(e=Number(e)*v.price),(r?"$":"")+(0,y.uR)(e).format(t)}),[f,v.price,m,o,r,u,l]);return i&&!v.price?(0,h.jsx)("span",{children:"--"}):(0,h.jsx)("span",{children:w})},B=function(e){var t,n=e.accountAddr,r=e.active,s=void 0!==r&&r,i=e.onClick,o=void 0===i?function(){}:i,u=null===(t=(0,a.useAccount)().accounts[n])||void 0===t?void 0:t.mint;return(0,h.jsx)(c.Card,{className:"account-item ".concat(s?"active":""),bodyStyle:{padding:12},hoverable:!0,onClick:function(){return o(n)},children:(0,h.jsxs)(c.Row,{children:[(0,h.jsx)(c.Col,{span:12,children:(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(x,{mintAddress:u,size:32}),(0,h.jsxs)(c.Space,{direction:"vertical",size:0,children:[(0,h.jsx)(c.Typography.Text,{children:(0,h.jsx)(v,{mintAddress:u})}),(0,h.jsx)(c.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(m,{mintAddress:u})})]})]})}),(0,h.jsx)(c.Col,{flex:"auto",style:{height:"100%"},children:(0,h.jsxs)(c.Space,{direction:"vertical",size:0,align:"start",children:[(0,h.jsx)(c.Typography.Text,{children:(0,h.jsx)(R,{accountAddr:n})}),(0,h.jsx)(c.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(R,{accountAddr:n,inUSD:!0,autoHidden:!0})})]})}),(0,h.jsx)(c.Col,{children:(0,h.jsxs)(c.Space,{direction:"vertical",size:0,align:"end",children:[(0,h.jsx)(c.Typography.Text,{children:(0,h.jsxs)(c.Space,{size:2,children:[(0,h.jsx)(C,{mintAddress:u,colorized:!0}),(0,h.jsx)(A,{mintAddress:u,colorized:!0})]})}),(0,h.jsx)(c.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(S,{mintAddress:u})})]})})]})})},E=function(e){var t=e.onChange,n=(0,r.useSelector)((function(e){return e.settings})),i=n.hiddenZeros,d=n.hiddenUnknownTokens,f=(0,s.useState)(""),x=(0,u.Z)(f,2),y=x[0],m=x[1],v=(0,a.useAccount)().accounts,w=(0,a.useMint)().tokenProvider,b=(0,a.usePool)().pools,g=(0,s.useCallback)(function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mint,t.amount||!i){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,w.findByAddress(n);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:r=0,a=Object.values(b);case 9:if(!(r<a.length)){e.next=16;break}if(a[r].mint_lpt!==n){e.next=13;break}return e.abrupt("return",!0);case 13:r++,e.next=9;break;case 16:return e.abrupt("return",!d);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d,i,b,w]),k=(0,s.useCallback)((0,o.Z)(l().mark((function e(){var n,r,a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=l().keys(v);case 2:if((e.t1=e.t0()).done){e.next=18;break}if(r=e.t1.value,a=v[r],!(y&&y.length>2)){e.next=12;break}return e.next=8,w.find(y);case 8:if(s=e.sent,s.map((function(e){return e.address})).includes(a.mint)){e.next=12;break}return e.abrupt("continue",2);case 12:return e.next=14,g(a);case 14:e.sent&&(n[r]=a),e.next=2;break;case 18:return e.abrupt("return",t(n));case 19:case"end":return e.stop()}}),e)}))),[v,y,t,w,g]);return(0,s.useEffect)((function(){k()}),[k]),(0,h.jsx)(c.Row,{gutter:[16,16],children:(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Input,{placeholder:"Search",value:y,size:"large",style:{background:"transparent"},prefix:(0,h.jsx)(c.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:y?function(){return m("")}:function(){},icon:(0,h.jsx)(p.Z,{name:y?"close-outline":"search-outline"})}),onChange:function(e){return m(e.target.value)}})})})},N=n(19289),P="account",z=(0,N.createAsyncThunk)("".concat(P,"/selectAccount"),function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,e.abrupt("return",{accountSelected:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=(0,N.createSlice)({name:P,initialState:{accountSelected:""},reducers:{},extraReducers:function(e){e.addCase(z.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,L=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.active,s=void 0!==r&&r,i=e.price,o=void 0===i||i,u=(0,a.useWallet)().wallet,d=u.address,l=u.lamports,p=Z.utils.undecimalize(l,9);return(0,h.jsx)(c.Card,{className:"account-item ".concat(s?"active":""),bodyStyle:{padding:"8px 12px",cursor:"pointer"},onClick:function(){return n(d)},hoverable:!0,children:(0,h.jsxs)(c.Row,{gutter:[12,8],align:"middle",wrap:!1,children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsxs)(c.Space,{style:{whiteSpace:"nowrap"},children:[(0,h.jsx)(x,{mintAddress:I,size:22}),(0,h.jsxs)(c.Tooltip,{title:"".concat(p," SOL"),children:[(0,h.jsxs)(c.Typography.Text,{children:[(0,h.jsx)(R,{accountAddr:d})," "]}),(0,h.jsx)(c.Typography.Text,{type:"secondary",children:"SOL"})]}),(0,h.jsx)(c.Divider,{type:"vertical",style:{margin:0}}),(0,h.jsx)(c.Typography.Text,{children:(0,h.jsx)(R,{accountAddr:d,inUSD:!0})})]})}),o&&(0,h.jsxs)(c.Col,{children:[(0,h.jsx)(C,{mintAddress:I,colorized:!0}),(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(A,{mintAddress:I,colorized:!0}),(0,h.jsx)(c.Typography.Text,{type:"secondary",children:(0,h.jsx)(S,{mintAddress:I})})]})]})]})})},U=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.account})).accountSelected,n=(0,a.useMint)().tokenProvider,d=(0,a.useWallet)().wallet,p=(0,s.useState)([]),f=(0,u.Z)(p,2),x=f[0],y=f[1],m=(0,s.useCallback)(function(){var e=(0,o.Z)(l().mark((function e(t){var r,a,s,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],e.t0=l().keys(t);case 3:if((e.t1=e.t0()).done){e.next=15;break}return s=e.t1.value,i=t[s],e.next=8,n.findByAddress(i.mint);case 8:if(!(c=e.sent)){e.next=12;break}return"SEN"===c.symbol?a.push(s):r.unshift(s),e.abrupt("continue",3);case 12:r.push(s),e.next=3;break;case 15:return e.abrupt("return",y([].concat(a,r)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return(0,s.useEffect)((function(){t||e(z({account:d.address}))}),[t,e,d.address]),(0,h.jsxs)(c.Row,{gutter:[12,12],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(E,{onChange:m})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(L,{active:t===d.address,onClick:function(t){return e(z({account:t}))}})}),x.map((function(n){return(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(i.ZP,{height:70,offset:70,overflow:!0,children:(0,h.jsx)(B,{accountAddr:n,active:t===n,onClick:function(t){return e(z({account:t}))}})})},n)}))]})};var H,q,F,V=n.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",Y=function(e){var t=e.spacing,n=void 0===t?4:t,r=e.iconSize,a=void 0===r?20:r;return(0,h.jsxs)(c.Space,{size:n,children:[(0,h.jsx)(c.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:"Powered by"}),(0,h.jsx)(c.Avatar,{src:V,size:a})]})},Q=function(e,t){return window.notify({type:"success",description:"".concat(e," successfully. Click to view details."),onClick:function(){return window.open((0,y.kU)(t),"_blank")}})},X=function(e){return window.notify({type:"error",description:e.message})},_=function(e){var t=e.mint,n=t.logoURI,r=t.symbol,i=t.name,d=t.address,f=(0,s.useState)(!1),x=(0,u.Z)(f,2),y=x[0],m=x[1],v=(0,a.useWallet)().wallet.address,w=(0,a.useAccount)().accounts,b=function(){var e=(0,o.Z)(l().mark((function e(){var t,n,a,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.sentre,n=t.splt,a=t.wallet,!y&&Z.account.isAddress(v)&&Z.account.isAddress(d)&&a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,n.initializeAccount(d,v,a);case 6:return s=e.sent,i=s.txId,e.abrupt("return",Q("Import ".concat(r),i));case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",X(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.splt,e.next=3,t.deriveAssociatedAddress(v,d);case 3:return n=e.sent,e.abrupt("return",m(Object.keys(w).includes(n)));case 5:case"end":return e.stop()}}),e)})))()}),[w,d,v]),(0,h.jsx)(c.Card,{className:"account-item",bodyStyle:{padding:16},bordered:!1,children:(0,h.jsxs)(c.Row,{gutter:[16,16],wrap:!1,children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(c.Avatar,{src:n}),(0,h.jsx)(c.Typography.Text,{type:"secondary",children:r}),(0,h.jsx)(c.Typography.Text,{children:i})]})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(c.Button,{type:"text",style:{color:y?"#3DBA4E":"inherit"},icon:(0,h.jsx)(p.Z,{name:y?"checkmark-outline":"add-outline"}),onClick:b})})]})})},J=function(e){var t=e.onChange,n=(0,s.useState)(""),r=(0,u.Z)(n,2),i=r[0],d=r[1],f=(0,a.useMint)().tokenProvider;return(0,s.useEffect)((function(){(0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&!(i.length<3)){e.next=2;break}return e.abrupt("return",t(null));case 2:return e.next=4,f.find(i);case 4:return n=e.sent,e.abrupt("return",t(n));case 6:case"end":return e.stop()}}),e)})))()}),[i,t,f]),(0,h.jsx)(c.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,h.jsx)(c.Input,{placeholder:"Search",value:i,size:"small",bordered:!1,prefix:(0,h.jsx)(c.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:i?function(){return d("")}:function(){},icon:(0,h.jsx)(p.Z,{name:i?"close-outline":"search-outline"})}),suffix:(0,h.jsx)(Y,{}),onChange:function(e){return d(e.target.value)}})})},G=function(){var e=(0,s.useState)(!1),t=(0,u.Z)(e,2),n=t[0],r=t[1],d=(0,s.useState)(),f=(0,u.Z)(d,2),x=f[0],y=f[1],m=(0,s.useState)(),v=(0,u.Z)(m,2),w=v[0],b=v[1],g=(0,a.useMint)().tokenProvider;return(0,s.useEffect)((function(){(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.all();case 2:return t=e.sent,e.abrupt("return",y(t));case 4:case"end":return e.stop()}}),e)})))()}),[g]),(0,h.jsxs)(c.Row,{gutter:[16,16],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Button,{type:"primary",icon:(0,h.jsx)(p.Z,{name:"add-outline"}),onClick:function(){return r(!0)},block:!0,children:"Import token"})}),(0,h.jsx)(c.Modal,{visible:n,onCancel:function(){return r(!1)},closeIcon:(0,h.jsx)(p.Z,{name:"close-outline"}),footer:null,centered:!0,destroyOnClose:!0,children:(0,h.jsxs)(c.Row,{gutter:[16,16],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Typography.Title,{level:5,children:"Token Selection"})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(J,{onChange:b})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Row,{gutter:[16,16],style:{height:300,overflow:"auto"},children:(w||x||[]).map((function(e,t){return(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(i.ZP,{height:64,overflow:!0,children:(0,h.jsx)(_,{mint:e})})},t)}))})})]})})]})},K="settings",$=(0,N.createAsyncThunk)("".concat(K,"/setHiddenZeros"),function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,a=n.getState,s=a(),i=s.settings,e.abrupt("return",(0,k.Z)((0,k.Z)({},i),{},{hiddenZeros:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ee=(0,N.createAsyncThunk)("".concat(K,"/setHiddenUnknownTokens"),function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,a=n.getState,s=a(),i=s.settings,e.abrupt("return",(0,k.Z)((0,k.Z)({},i),{},{hiddenUnknownTokens:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),te=(0,N.createSlice)({name:K,initialState:{hiddenZeros:!1,hiddenUnknownTokens:!0},reducers:{},extraReducers:function(e){e.addCase($.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(ee.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,ne=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.settings})),n=t.hiddenZeros,a=t.hiddenUnknownTokens;return(0,h.jsx)(c.Popover,{zIndex:1e3,content:(0,h.jsxs)(c.Row,{gutter:[8,8],style:{maxWidth:224},children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Space,{size:"large",children:[(0,h.jsx)(c.Switch,{size:"small",checked:n,onChange:function(t){return e($({checked:t}))}}),(0,h.jsx)(c.Typography.Text,{children:"Hide zero balances"})]})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Space,{size:"large",children:[(0,h.jsx)(c.Switch,{size:"small",checked:a,onChange:function(t){return e(ee({checked:t}))}}),(0,h.jsx)(c.Typography.Text,{children:"Hide unknown tokens"})]})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(G,{})})]}),trigger:"click",placement:"topRight",children:(0,h.jsx)(p.Z,{style:{cursor:"pointer"},name:"cog-outline"})})},re=function(){return(0,h.jsx)(c.Card,{className:"card-page card-sen-assets",children:(0,h.jsxs)(c.Row,{gutter:[24,24],align:"middle",children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsx)(c.Typography.Title,{level:4,children:"Sen Assets"})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(ne,{})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(U,{})})]})})},ae=n(38288),se=n.n(ae),ie=n(51518),ce=n.n(ie),oe=function(e){var t=e.name,n=e.color,r=void 0===n?"#BEC4EC":n,a=e.onClick,s=void 0===a?function(){}:a;return(0,h.jsx)("span",{onClick:s,style:{cursor:"pointer",color:r},children:(0,h.jsx)(p.Z,{name:t})})},ue=function(e){var t=e.address;return(0,h.jsx)(c.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,h.jsx)(se(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,h.jsx)(oe,{name:"qr-code-outline"})})},de=function(){var e=(0,a.useWallet)().wallet.address,t=(0,s.useState)(!1),n=(0,u.Z)(t,2),r=n[0],i=n[1],d=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),setTimeout((function(){i(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(c.Space,{size:10,children:[(0,h.jsx)(c.Typography.Text,{style:{color:"#E9E9EB",cursor:"pointer"},onClick:function(){return window.open((0,y.kU)(e),"_blank")},children:(0,y.Xn)(e,3,"...")}),(0,h.jsx)(c.Tooltip,{title:"Copied",visible:r,children:(0,h.jsx)(ce(),{text:e,onCopy:d,children:(0,h.jsx)(oe,{name:"copy-outline",onClick:d})})}),(0,h.jsx)(ue,{address:e})]})},le=function(e){var t=e.mintAddress;return(0,h.jsxs)(c.Row,{children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(x,{mintAddress:t}),(0,h.jsx)(c.Typography.Title,{className:"title-color",level:5,children:(0,h.jsx)(v,{mintAddress:t})})]})}),(0,h.jsx)(c.Col,{children:(0,h.jsxs)(c.Space,{size:1,align:"end",children:[(0,h.jsx)(C,{mintAddress:t,colorized:!0}),(0,h.jsx)(A,{mintAddress:t,colorized:!0}),(0,h.jsx)(c.Divider,{type:"vertical",style:{padding:0,borderLeft:"1px solid #BEC4EC"}}),(0,h.jsx)(c.Typography.Text,{className:"text-color",children:(0,h.jsx)(S,{mintAddress:t})})]})})]})},pe=function(){var e=(0,r.useSelector)((function(e){return e.account})).accountSelected,t=W(e).mint;return(0,h.jsxs)(c.Row,{className:"header-balance",gutter:[16,16],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Row,{children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsx)(c.Typography.Text,{className:"text-secondary",children:"Your balance"})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(de,{})})]})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Row,{gutter:[8,8],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(le,{mintAddress:t})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Space,{align:"baseline",children:[(0,h.jsx)(c.Typography.Title,{className:"title-color",level:3,children:(0,h.jsx)(R,{accountAddr:e})}),(0,h.jsxs)(c.Typography.Text,{className:"text-secondary",children:["~",(0,h.jsx)(R,{accountAddr:e,inUSD:!0})]})]})})]})})]})},fe=n(45987),he=["max","onValue","onChange","onBlur"],xe=(0,s.forwardRef)((function(e,t){var n,r=e.max,a=e.onValue,i=void 0===a?function(){}:a,o=e.onChange,d=void 0===o?function(){}:o,l=e.onBlur,f=void 0===l?function(){}:l,x=(0,fe.Z)(e,he),y=(0,s.useState)(""),m=(0,u.Z)(y,2),v=m[0],w=m[1],b=(0,s.useState)(null),g=(0,u.Z)(b,2),j=g[0],T=g[1],A=(0,s.useRef)(t),C=(0,s.useCallback)((function(e){var t=function(e){H&&(clearTimeout(H),H=void 0),w(e),H=setTimeout((function(){return w("")}),500)};return/^\d*(\.\d*)?$/.test(e)?r&&parseFloat(e)>parseFloat(r.toString())?t("Not enough balance"):i(e):t("Invalid character")}),[r,i]);return null===A||void 0===A||null===(n=A.current)||void 0===n||n.setSelectionRange(j,j),(0,h.jsx)(c.Tooltip,{title:(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(p.Z,{name:"warning"}),v]}),visible:!!v,children:(0,h.jsx)(c.Input,(0,k.Z)((0,k.Z)({},x),{},{onBlur:function(e){f(e);var t=Number(e.target.value);e.target.value&&C(t?t.toString():"")},onChange:function(e){d(e),T(e.target.selectionStart),C(e.target.value||"")},ref:A}))})})),ye=function(e){var t=e.accountAddr,n=e.onChange,r=e.value,a=W(t);return(0,h.jsxs)(c.Row,{gutter:[8,8],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Typography.Text,{children:"Amount"})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(xe,{placeholder:"0",prefix:(0,h.jsx)(c.Typography.Text,{type:"secondary",children:(0,h.jsx)(v,{mintAddress:a.mint})}),suffix:(0,h.jsx)(c.Button,{type:"text",style:{marginRight:-7},onClick:function(){return n(a.balance)},children:"MAX"}),value:r,onValue:n,max:a.balance})})]})},me=function(e){var t=e.onChange,n=e.value,r=(0,a.useWallet)().wallet.address;return(0,h.jsxs)(c.Row,{gutter:[8,8],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Typography.Text,{children:"Receiver Address"})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Input,{size:"large",placeholder:"".concat(r.substring(0,12),"..."),value:n,onChange:function(e){return t(e.target.value)}})})]})},ve=function(e){var t=e.accountAddr,n=(0,s.useState)(""),r=(0,u.Z)(n,2),a=r[0],i=r[1],d=W(t),p=d.mint,f=d.decimals,x=(0,s.useState)(!1),y=(0,u.Z)(x,2),m=y[0],v=y[1],w=(0,s.useState)("0"),b=(0,u.Z)(w,2),g=b[0],k=b[1],j=function(){var e=(0,o.Z)(l().mark((function e(){var t,n,r,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.sentre,n=t.splt,r=t.wallet){e.next=3;break}throw new Error("Login first");case 3:if(s=a,Z.account.isAssociatedAddress(s)){e.next=8;break}return e.next=7,n.deriveAssociatedAddress(a,p);case 7:s=e.sent;case 8:return e.prev=8,e.next=11,n.getAccountData(s);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),e.next=17,n.initializeAccount(p,a,r);case 17:return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.Z)(l().mark((function e(){var n,r,s,i,c,o,u,d,h;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),e.prev=1,n=window.sentre,r=n.splt,s=n.wallet,i=n.lamports,s){e.next=5;break}return e.abrupt("return");case 5:if(c=Z.utils.decimalize(g,f),p!==I){e.next=11;break}return e.next=9,i.transfer(c,a,s);case 9:return o=e.sent,e.abrupt("return",Q("Transfer",o));case 11:return e.next=13,j();case 13:if(u=e.sent){e.next=16;break}throw new Error("Invalid destination address");case 16:return e.next=18,r.transfer(c,t,u,s);case 18:return d=e.sent,h=d.txId,e.abrupt("return",Q("Transfer",h));case 23:e.prev=23,e.t0=e.catch(1),X(e.t0);case 26:return e.prev=26,v(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,23,26,29]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(c.Row,{gutter:[16,16],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(me,{onChange:i,value:a})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(ye,{accountAddr:t,onChange:k,value:g})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Button,{type:"primary",onClick:T,block:!0,loading:m,disabled:!Number(g),children:"Transfer"})})]})},we=function(e){var t=(0,s.useState)(!1),n=(0,u.Z)(t,2),r=n[0],a=n[1],i=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,(0,y.sA)(1500);case 3:a(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(c.Input,(0,k.Z)((0,k.Z)({},e),{},{suffix:(0,h.jsx)(c.Tooltip,{title:"Copied",visible:r,children:(0,h.jsx)(ce(),{text:String(e.value),onCopy:i,children:(0,h.jsx)(c.Button,{type:"text",size:"small",icon:(0,h.jsx)(p.Z,{name:"copy-outline"})})})})}))},be=function(e){var t=e.accountAddr,n=(0,a.useAccount)().accounts,r=(0,a.useWallet)().wallet,i=(0,s.useState)(!1),d=(0,u.Z)(i,2),p=d[0],f=d[1],x=(0,s.useState)(""),y=(0,u.Z)(x,2),m=y[0],v=y[1],w=(0,s.useCallback)((0,o.Z)(l().mark((function e(){var a,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&t!==r.address){e.next=2;break}return e.abrupt("return",v(r.address));case 2:return a=window.sentre.splt,s=n[t].mint,e.next=6,a.deriveAssociatedAddress(r.address,s);case 6:return i=e.sent,e.abrupt("return",v(i));case 8:case"end":return e.stop()}}),e)}))),[t,n,p,r.address]);return(0,s.useEffect)((function(){w()}),[w]),(0,h.jsxs)(c.Row,{justify:"center",gutter:[16,16],children:[(0,h.jsx)(c.Col,{style:{background:"#f4f4f5",paddingTop:8},children:(0,h.jsx)(se(),{value:m,size:110,bgColor:"#ffffff",fgColor:"#1f1f1f"})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Row,{gutter:[8,8],children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsx)(c.Typography.Text,{children:p?"Associated account address":"Wallet address"})}),(0,h.jsx)(c.Col,{children:t!==r.address&&(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(c.Typography.Text,{children:"Developer mode"}),(0,h.jsx)(c.Switch,{size:"small",checked:p,onChange:f})]})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(we,{size:"large",value:m})})]})})]})},ge=BigInt(2039280),ke=function(){var e=(0,r.useDispatch)(),t=(0,s.useState)(""),n=(0,u.Z)(t,2),i=n[0],d=n[1],p=(0,s.useState)(!1),f=(0,u.Z)(p,2),x=f[0],y=f[1],m=(0,s.useState)(""),w=(0,u.Z)(m,2),b=w[0],g=w[1],k=(0,a.useWallet)().wallet.address,j=W(b),T=W(k),A=void 0===j.amount,C=Z.utils.undecimalize(j.amount,j.decimals),S=(0,s.useMemo)((function(){var e=Number(T.balance),t=Number(Z.utils.undecimalize(BigInt(1e8)+ge,9))+1e-5;return e<=t?0:e-t}),[T.balance]),I=function(){var e=(0,o.Z)(l().mark((function e(){var t,n,r,a,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),e.prev=1,t=window.sentre,n=t.splt,r=t.wallet){e.next=5;break}throw new Error("Wallet is not connected");case 5:return a=Z.utils.decimalize(Number(i),9),e.next=8,n.wrap(a+ge,k,r);case 8:s=e.sent,c=s.txId,Q("Wrap ".concat(i," SOL"),c),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",X(e.t0));case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var t=(0,o.Z)(l().mark((function t(){var n,r,a,s,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y(!0),t.prev=1,n=window.sentre,r=n.splt,a=n.wallet){t.next=5;break}throw new Error("Wallet is not connected");case 5:return t.next=7,r.unwrap(a);case 7:return s=t.sent,i=s.txId,t.next=11,e(z({account:k}));case 11:return t.abrupt("return",Q("Unwrap ".concat(j.balance," SOL"),i));case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",X(t.t0));case 17:return t.prev=17,y(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.splt,e.next=3,t.deriveAssociatedAddress(k,Z.DEFAULT_WSOL);case 3:n=e.sent,g(n);case 5:case"end":return e.stop()}}),e)})))()}),[k]),(0,s.useEffect)((function(){return d(A?"":C)}),[A,C]);var D=function(){return(0,h.jsx)(s.Fragment,{children:(0,h.jsxs)("ul",{style:{paddingLeft:16},children:[(0,h.jsx)("li",{children:(0,h.jsx)(c.Typography.Text,{type:"secondary",children:"To wrap SOL you have to deposit an extra fee equal to 0.00203928 SOL."})}),(0,h.jsx)("li",{children:(0,h.jsx)(c.Typography.Text,{type:"secondary",children:"The fee mentioned above will return when you unwrap."})})]})})},R=function(){return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(c.Typography.Text,{type:"secondary",children:"Due to technical limitations, it only allows:"}),(0,h.jsxs)("ul",{style:{paddingLeft:16},children:[(0,h.jsx)("li",{children:(0,h.jsx)(c.Typography.Text,{type:"secondary",children:"Unwrap all at once."})}),(0,h.jsx)("li",{children:(0,h.jsx)(c.Typography.Text,{type:"secondary",children:"To increase/decrease the WSOL balance, unwrap all first then re-wrap your desired number."})})]})]})};return(0,h.jsxs)(c.Row,{gutter:[24,24],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Row,{gutter:[8,8],children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsx)(c.Typography.Text,{children:A?"Wrap Amount":"Unwrap amount"})}),(0,h.jsx)(c.Col,{children:(0,h.jsxs)(c.Space,{size:4,children:[(0,h.jsx)(c.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Available:"}),(0,h.jsxs)(c.Typography.Text,{style:{fontSize:12},children:[A?T.balance:C," SOL"]})]})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(xe,{placeholder:"0",size:"large",prefix:(0,h.jsx)(v,{mintAddress:A?T.mint:j.mint}),suffix:A&&(0,h.jsx)(c.Button,{type:"text",style:{padding:0,height:"auto"},onClick:function(){return d("".concat(S))},children:"MAX"}),value:i,onValue:d,max:S,disabled:!A})})]})}),(0,h.jsx)(c.Col,{span:24,children:A?(0,h.jsx)(c.Button,{type:"primary",onClick:I,block:!0,loading:x,children:"Wrap"}):(0,h.jsx)(c.Button,{type:"primary",onClick:M,block:!0,loading:x,children:"Unwrap"})}),(0,h.jsx)(c.Col,{span:24,style:{fontSize:12},children:A?(0,h.jsx)(D,{}):(0,h.jsx)(R,{})})]})},je=function(e){var t=e.accountAddr,n=(0,r.useDispatch)(),s=(0,a.useAccount)().accounts[t]||{},i=function(){var e=(0,o.Z)(l().mark((function e(){var r,a,s,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=window.sentre,a=r.splt,s=r.wallet){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a.closeAccount(t,s);case 6:return i=e.sent,c=i.txId,e.next=10,window.notify({type:"success",description:"Close ".concat((0,y.Xn)(t)," successfully. Click to view details."),onClick:function(){return window.open((0,y.kU)(c),"_blank")}});case 10:n(z({account:Z.DEFAULT_EMPTY_ADDRESS})),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",window.notify({type:"error",description:"error"}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(c.Row,{gutter:[16,16],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Card,{bordered:!1,className:"close-account",children:(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(p.Z,{name:"alert-circle-outline"}),(0,h.jsx)(c.Typography.Text,{children:"Please transfer out all tokens in this account before closing!"})]})})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Button,{type:"primary",onClick:i,disabled:Boolean(s.amount),block:!0,children:"Close Account"})})]})},Te=function(){var e=(0,s.useState)(""),t=(0,u.Z)(e,2),n=t[0],a=t[1],i=(0,r.useSelector)((function(e){return e.account})).accountSelected,o=W(i).mint,d=[I,M].includes(o);return(0,s.useEffect)((function(){return a("Send")}),[i]),(0,h.jsx)(c.Card,{bordered:!1,style:{marginTop:-20,boxShadow:"none"},bodyStyle:{padding:0},children:(0,h.jsxs)(c.Tabs,{activeKey:n,onChange:a,style:{padding:16,paddingTop:4},children:[(0,h.jsx)(c.Tabs.TabPane,{tab:"Send",children:(0,h.jsx)(ve,{accountAddr:i})},"Send"),(0,h.jsx)(c.Tabs.TabPane,{tab:"Receive",children:(0,h.jsx)(be,{accountAddr:i})},"Receive"),(0,h.jsx)(c.Tabs.TabPane,{tab:"Wrap/Unwrap",disabled:!d,children:(0,h.jsx)(ke,{})},"Wrap/Unwrap"),(0,h.jsx)(c.Tabs.TabPane,{tab:"Close",disabled:o===I,children:(0,h.jsx)(je,{accountAddr:i})},"Close")]})})},Ae=function(){return(0,h.jsx)(c.Card,{className:"card-page",bodyStyle:{padding:0},children:(0,h.jsxs)(c.Row,{children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(pe,{})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(Te,{})})]})})},Ce=n(54024),Se={mainnet:"https://wormhole-v2-mainnet-api.certus.one",testnet:"",devnet:"https://wormhole-v2-testnet-api.certus.one"},Ze=[{chainID:Ce.rQ,name:"Solana",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{chainID:Ce.ZN,name:"Ethereum",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk/logo.png"}],Ie="WohWallet",Me=function(e){var t=e.chainId,n=e.size,r=void 0===n?24:n,a=Ze.find((function(e){return e.chainID===t}));return(0,h.jsx)(c.Avatar,{src:null===a||void 0===a?void 0:a.logo,size:r,style:{border:"none"}})},De=function(e){var t=e.chainId,n=Ze.find((function(e){return e.chainID===t}));return(0,h.jsx)("span",{children:null===n||void 0===n?void 0:n.name})},We=function(){var e=(0,r.useSelector)((function(e){return e.wormhole})),t=e.sourceChain,n=e.sourceWalletAddress,a=e.targetChain,s=e.targetWalletAddress;return(0,h.jsxs)(c.Row,{gutter:[16,16],align:"middle",style:{padding:16},children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsxs)(c.Space,{direction:"vertical",size:0,children:[(0,h.jsxs)(c.Typography.Title,{level:5,children:[(0,h.jsx)(De,{chainId:t})," Network"]}),(0,h.jsx)(c.Typography.Text,{children:(0,y.Xn)(n)})]})}),(0,h.jsx)(c.Col,{children:(0,h.jsxs)(c.Space,{direction:"vertical",size:0,align:"end",children:[(0,h.jsxs)(c.Typography.Title,{level:5,children:[(0,h.jsx)(De,{chainId:a})," Network"]}),(0,h.jsx)(c.Typography.Text,{children:(0,y.Xn)(s)})]})})]})},Re=function(e){var t=e.percent,n=void 0===t?100:t;return(0,h.jsx)(c.Row,{children:(0,h.jsx)(c.Col,{className:"progress",span:24,children:(0,h.jsx)("span",{className:"progress-bar",style:{width:"".concat(n,"%")}})})})},Be=n(37762);!function(e){e.Transfer="Transfer",e.Provider="Provider",e.SourceWallet="SourceWallet"}(q||(q={})),function(e){e.Transfer="Transfer",e.WaitSigned="WaitSigned",e.Redeem="Redeem",e.Finish="Finish",e.Unknown="Unknown"}(F||(F={}));var Ee={mainnet:"0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",goerli:"0x706abc4E45D419950511e474C7B9Ed348A4a716c",ropsten:"0xC89Ce4735882C9F0f0FE26686c53074E09B0D550"},Ne={mainnet:"0x3ee18B2214AFF97000D974cf647E7C347E8fa585",goerli:"0xf890982f9310df57d00f659cf4fd87e65aded8d7",ropsten:"0x0290FB167208Af455bB137780163b7B7a9a10C16"},Pe="https://deep-index.moralis.io/api/v2",ze="N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd",Oe="5eb1b92f2065414d9dd21858fac54257",Le={mainnet:"https://mainnet.infura.io/v3/".concat(Oe),goerli:"https://goerli.infura.io/v3/".concat(Oe),ropsten:"https://ropsten.infura.io/v3/".concat(Oe)},Ue={mainnet:"wss://mainnet.infura.io/ws/v3/".concat(Oe),goerli:"wss://goerli.infura.io/ws/v3/".concat(Oe),ropsten:"wss://ropsten.infura.io/ws/v3/".concat(Oe)},He={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},qe={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"},Fe=n(43144),Ve=n(15671),Ye=n(60136),Qe=n(27277),Xe=n(71256),_e=n(97429).Buffer,Je=function(){function e(){var t=this;(0,Ve.Z)(this,e),this.context=void 0,this.transferData=void 0,this.attestData=void 0,this.restore=function(){var e=(0,o.Z)(l().mark((function e(n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(JSON.stringify(n)),n){e.next=3;break}throw new Error("Not find state transfer");case 3:t.transferData=r.transferData,t.attestData=r.attestData,t.context=r.context;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.transfer=function(){var e=(0,o.Z)(l().mark((function e(n,r){var a,s,i,c,o,u,d,p,f,h,x,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transferData){e.next=4;break}return e.next=3,t.initTransferData(n);case 3:t.transferData=e.sent;case 4:return a=t.getState(),s=a.transferData,e.next=7,t.isAttested();case 7:if(i=e.sent,i.attested){e.next=12;break}return e.next=12,t.attest(r);case 12:if(s.nextStep!==F.Transfer){e.next=28;break}return e.next=15,t.submitTransfer();case 15:return c=e.sent,o=c.emitterAddress,u=c.sequence,d=c.txHash,s.txHash=d,s.emitterAddress=o,s.sequence=u,s.nextStep=F.WaitSigned,e.next=25,t.backup();case 25:return p=e.sent,e.next=28,r(p);case 28:if(s.nextStep!==F.WaitSigned){e.next=39;break}return e.next=31,t.getSignedVAA(s.emitterAddress,s.sequence);case 31:return f=e.sent,s.vaaHex=f,s.nextStep=F.Redeem,e.next=36,t.backup();case 36:return h=e.sent,e.next=39,r(h);case 39:if(s.nextStep!==F.Redeem){e.next=51;break}return e.next=42,t.redeem(s.vaaHex);case 42:return x=e.sent,s.txId=x,s.nextStep=F.Finish,e.next=47,t.backup();case 47:return y=e.sent,e.next=50,r(y);case 50:return e.abrupt("return",x);case 51:throw new Error("Invalid step transfer");case 52:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.backup=(0,o.Z)(l().mark((function n(){var r,a;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetchAll();case 2:return r=n.sent,a=t.getState(),r[a.context.id]=a,ct(q.Transfer,r),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)}))),this.getState=function(){if(!t.transferData)throw new Error("Invalid data transfer");if(!t.context)throw new Error("Invalid context");return{transferData:t.transferData,context:t.context,attestData:t.attestData}},this.getSignedVAAWithRetry=(0,o.Z)(l().mark((function e(){var t,n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:return e.prev=2,console.log("Retry to get signed vaa:",++t),e.next=6,Ce.RX.apply(void 0,r);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,(0,y.sA)(1e4);case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e,null,[[2,10]])}))),this.initTransferData=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function initTransferData");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isAttested=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function isAttested");case 1:case"end":return e.stop()}}),e)}))),this.submitTransfer=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function submitTransfer");case 1:case"end":return e.stop()}}),e)}))),this.submitAttest=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function submitAttest");case 1:case"end":return e.stop()}}),e)}))),this.wrapToken=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function wrapToken");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.redeem=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function redeem");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.initAttestData=function(){return t.attestData||(t.attestData={step:0,sequence:"",emitterAddress:"",vaaHex:"",txId:""}),t.attestData},this.attest=function(){var e=(0,o.Z)(l().mark((function e(n){var r,a,s,i,c,o,u,d,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=t.initAttestData()).step){e.next=15;break}return e.next=4,t.submitAttest();case 4:return a=e.sent,s=a.emitterAddress,i=a.sequence,r.emitterAddress=s,r.sequence=i,r.step++,e.next=12,t.backup();case 12:return c=e.sent,e.next=15,n(c);case 15:if(1!==r.step){e.next=26;break}return e.next=18,t.getSignedVAA(r.emitterAddress,r.sequence);case 18:return o=e.sent,r.vaaHex=o,r.step++,e.next=23,t.backup();case 23:return u=e.sent,e.next=26,n(u);case 26:if(2!==r.step){e.next=38;break}return e.next=29,t.wrapToken(r.vaaHex);case 29:return d=e.sent,r.txId=d,r.step++,e.next=34,t.backup();case 34:return p=e.sent,e.next=37,n(p);case 37:return e.abrupt("return",d);case 38:throw new Error("Invalid step attest");case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,Fe.Z)(e,[{key:"getConnection",value:function(){var e=window.sentre.splt.nodeUrl;return new Xe.Connection(e,"confirmed")}},{key:"getSignedVAA",value:function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getState(),a=r.context,e.next=3,this.getSignedVAAWithRetry(a.wormholeRpc,a.srcChainId,t,n);case 3:return s=e.sent,i=s.vaaBytes,c=_e.from(i).toString("hex"),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();Je.fetchAll=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(q.Transfer);case 2:return t=e.sent,e.abrupt("return",JSON.parse(JSON.stringify(t))||{});case 4:case"end":return e.stop()}}),e)})));var Ge=n(97429).Buffer,Ke=function(e){(0,Ye.Z)(n,e);var t=(0,Qe.Z)(n);function n(e,r,a){var s;return(0,Ve.Z)(this,n),(s=t.call(this)).srcWallet=void 0,s.targetWallet=void 0,s.isAttested=(0,o.Z)(l().mark((function e(){var t,n,r,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getState(),n=t.context,e.next=3,s.srcWallet.getProvider();case 3:return r=e.sent,e.next=6,(0,Ce.Ak)(n.srcTokenBridgeAddress,r,n.tokenInfo.address,Ce.ZN);case 6:return a=e.sent,e.next=9,(0,Ce.sS)(s.getConnection(),n.targetTokenBridgeAddress,a.chainId,a.assetAddress);case 9:return i=e.sent,e.abrupt("return",{attested:!!i,wrappedMintAddress:i});case 11:case"end":return e.stop()}}),e)}))),s.initTransferData=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.srcWallet.getAddress();case 2:return n=e.sent,e.next=5,s.targetWallet.getAddress();case 5:return r=e.sent,a={nextStep:F.Transfer,amount:t,from:n,to:r,emitterAddress:"",sequence:"",vaaHex:"",txId:"",txHash:""},e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.submitTransfer=(0,o.Z)(l().mark((function e(){var t,n,r,a,i,c,o,u,d,p,f,h;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getState(),n=t.transferData,r=t.context,e.next=3,s.isAttested();case 3:if(a=e.sent,i=a.wrappedMintAddress){e.next=7;break}throw new Error("Attest the token first");case 7:return e.next=9,s.srcWallet.getProvider();case 9:return c=e.sent,o=c.getSigner(),u=Z.utils.decimalize(n.amount,r.tokenInfo.decimals),e.next=14,(0,Ce.YC)(r.srcTokenBridgeAddress,r.tokenInfo.address,o,u);case 14:return e.next=16,st(i,s.targetWallet);case 16:return d=e.sent,e.next=19,(0,Ce.qC)(r.srcTokenBridgeAddress,o,r.tokenInfo.address,u,Ce.rQ,Z.account.fromAddress(d).toBuffer());case 19:return p=e.sent,f=(0,Ce.N_)(p,r.srcBridgeAddress),h=(0,Ce.Nz)(r.srcTokenBridgeAddress),e.abrupt("return",{sequence:f,emitterAddress:h,txHash:p.transactionHash});case 23:case"end":return e.stop()}}),e)}))),s.submitAttest=(0,o.Z)(l().mark((function e(){var t,n,r,a,i,c,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getState(),n=t.context,e.next=3,s.srcWallet.getProvider();case 3:return r=e.sent,a=r.getSigner(),e.next=7,(0,Ce.$6)(n.srcTokenBridgeAddress,a,n.tokenInfo.address);case 7:return i=e.sent,c=(0,Ce.N_)(i,n.srcBridgeAddress),o=(0,Ce.Nz)(n.srcTokenBridgeAddress),e.abrupt("return",{sequence:c,emitterAddress:o});case 11:case"end":return e.stop()}}),e)}))),s.wrapToken=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,i,c,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.getState(),r=n.context,e.next=3,s.targetWallet.getAddress();case 3:return a=e.sent,i=(0,Ce.GZ)(t),e.next=7,(0,Ce.Pp)(s.getConnection(),s.targetWallet.signTransaction,r.targetBridgeAddress,a,Ge.from(i));case 7:return e.next=9,(0,Ce.lx)(s.getConnection(),r.targetBridgeAddress,r.targetTokenBridgeAddress,a,i);case 9:return c=e.sent,e.next=12,s.targetWallet.signTransaction(c);case 12:return o=e.sent,e.next=15,at(o,s.getConnection());case 15:return u=e.sent,e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.redeem=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,i,c,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.getState(),r=n.context,e.next=3,s.targetWallet.getAddress();case 3:return a=e.sent,i=(0,Ce.GZ)(t),e.next=7,(0,Ce.Pp)(s.getConnection(),s.targetWallet.signTransaction,r.targetBridgeAddress,a,Ge.from(i));case 7:return e.next=9,(0,Ce.A7)(s.getConnection(),r.targetBridgeAddress,r.targetTokenBridgeAddress,a,i);case 9:return c=e.sent,e.next=12,s.targetWallet.signTransaction(c);case 12:return o=e.sent,e.next=15,at(o,s.getConnection());case 15:return u=e.sent,e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.srcWallet=e,s.targetWallet=r,s.context=ut(a),s}return(0,Fe.Z)(n)}(Je),$e=Ke,et=n(53933),tt=n(3007),nt=function(){return et.Z.get("network")||"mainnet"},rt=function(){return"mainnet"===nt()?"mainnet":"goerli"},at=function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serialize(),e.next=3,n.sendRawTransaction(r,{skipPreflight:!0,preflightCommitment:"confirmed"});case 3:return a=e.sent,e.next=6,n.confirmTransaction(a,"confirmed");case 6:if(s=e.sent,!(i=s.value.err)){e.next=10;break}throw new Error("".concat(i," at ").concat(a));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),st=function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i,c,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z.account.isAddress(t)){e.next=2;break}throw new Error("Invalid mint address");case 2:return e.next=4,n.getAddress();case 4:return r=e.sent,a=window.sentre.splt,e.next=8,a.deriveAssociatedAddress(r,t);case 8:return s=e.sent,i=!1,e.prev=10,e.next=13,a.getAccountData(s);case 13:c=e.sent,o=c.state,i=o>0,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),i=!1;case 21:if(i){e.next=24;break}return e.next=24,a.initializeAccount(t,r,n);case 24:return e.abrupt("return",s);case 25:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t,n){return e.apply(this,arguments)}}(),it=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=window.sentre.wallet)||void 0===n?void 0:n.getAddress();case 2:if(r=e.sent){e.next=5;break}throw new Error("Login fist");case 5:return a=new tt.Z(r).createInstance("wormhole"),s=a.getItem(t),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=window.sentre.wallet)||void 0===r?void 0:r.getAddress();case 2:if(a=e.sent){e.next=5;break}throw new Error("Login fist");case 5:return s=new tt.Z(a).createInstance("wormhole"),e.abrupt("return",s.setItem(t,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=rt();return{chainId:Ce.ZN,tokenBridgeAddress:Ne[e],bridgeAddress:Ee[e]}},ut=function(e){var t=nt(),n=ot();return{id:(new Date).getTime()+""+Math.random(),time:(new Date).getTime(),srcChainId:n.chainId,srcTokenBridgeAddress:n.tokenBridgeAddress,srcBridgeAddress:n.bridgeAddress,targetChainId:Ce.rQ,targetTokenBridgeAddress:qe[t],targetBridgeAddress:He[t],wormholeRpc:Se[t],tokenInfo:e}},dt=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"recipientChain",type:"uint16"},{name:"recipient",type:"bytes32"},{name:"arbiterFee",type:"uint256"},{name:"nonce",type:"uint32"}],name:"transferTokens",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"DECIMALS",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"INITIAL_SUPPLY",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"value",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"value",type:"uint256"}],name:"burnFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isMinter",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],lt=n(21995),pt=n.n(lt),ft=function(){function e(){(0,Ve.Z)(this,e)}return(0,Fe.Z)(e,null,[{key:"getNetworkName",value:function(){var e=rt();return"mainnet"!==e?e:"eth"}},{key:"fetchTokens",value:function(){var t=(0,o.Z)(l().mark((function t(n){var r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt()({method:"get",url:"".concat(Pe,"/").concat(n,"/erc20?chain=").concat(e.getNetworkName()),headers:{"X-API-Key":ze}});case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var t=(0,o.Z)(l().mark((function t(n){var r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt()({method:"get",url:"".concat(Pe,"/").concat(n,"?chain=").concat(e.getNetworkName()),headers:{"X-API-Key":ze}});case 2:return r=t.sent,a=r.data,t.abrupt("return",a.result);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchInfoAToken",value:function(){var t=(0,o.Z)(l().mark((function t(n){var r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt()({method:"get",url:"".concat(Pe,"/erc20/metadata?chain=").concat(e.getNetworkName(),"&addresses=").concat(n),headers:{"X-API-Key":ze}});case 2:return r=t.sent,a=r.data,t.abrupt("return",a[0]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),ht=n(21411),xt=n(62959),yt=new xt(new xt.providers.HttpProvider(Le.goerli)),mt=(new(new xt(new xt.providers.WebsocketProvider(Ue.mainnet)).eth.Contract)([{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldContract",type:"address"},{indexed:!0,internalType:"address",name:"newContract",type:"address"}],name:"ContractUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"WETH",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"attestToken",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint16",name:"chainId_",type:"uint16"}],name:"bridgeContracts",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"completeTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"completeTransferAndUnwrapETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"createWrapped",outputs:[{internalType:"address",name:"token",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"bytes32",name:"symbol",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],internalType:"struct BridgeStructs.AssetMeta",name:"meta",type:"tuple"}],name:"encodeAssetMeta",outputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint16",name:"toChain",type:"uint16"},{internalType:"uint256",name:"fee",type:"uint256"}],internalType:"struct BridgeStructs.Transfer",name:"transfer",type:"tuple"}],name:"encodeTransfer",outputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"governanceActionIsConsumed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceChainId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceContract",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"impl",type:"address"}],name:"isInitialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"isTransferCompleted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isWrappedAsset",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"outstandingBridged",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseAssetMeta",outputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"bytes32",name:"symbol",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],internalType:"struct BridgeStructs.AssetMeta",name:"meta",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseRegisterChain",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chainId",type:"uint16"},{internalType:"uint16",name:"emitterChainID",type:"uint16"},{internalType:"bytes32",name:"emitterAddress",type:"bytes32"}],internalType:"struct BridgeStructs.RegisterChain",name:"chain",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseTransfer",outputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint16",name:"toChain",type:"uint16"},{internalType:"uint256",name:"fee",type:"uint256"}],internalType:"struct BridgeStructs.Transfer",name:"transfer",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseUpgrade",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chainId",type:"uint16"},{internalType:"bytes32",name:"newContract",type:"bytes32"}],internalType:"struct BridgeStructs.UpgradeContract",name:"chain",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVM",type:"bytes"}],name:"registerChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint16",name:"recipientChain",type:"uint16"},{internalType:"bytes32",name:"recipient",type:"bytes32"},{internalType:"uint256",name:"arbiterFee",type:"uint256"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"transferTokens",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"updateWrapped",outputs:[{internalType:"address",name:"token",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVM",type:"bytes"}],name:"upgrade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"wormhole",outputs:[{internalType:"contract IWormhole",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"recipientChain",type:"uint16"},{internalType:"bytes32",name:"recipient",type:"bytes32"},{internalType:"uint256",name:"arbiterFee",type:"uint256"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"wrapAndTransferETH",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint16",name:"tokenChainId",type:"uint16"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"}],name:"wrappedAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Ne.mainnet),n(97429).Buffer),vt=n(21721),wt=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,ft.fetchTokens(t);case 3:r=e.sent,a=(0,Be.Z)(r);try{for(a.s();!(s=a.n()).done;)(i=s.value).decimals=Number(i.decimals),i.balance=BigInt(i.balance),i.amount=Z.utils.undecimalize(i.balance,i.decimals),i.address=i.token_address,n.push(i)}catch(c){a.e(c)}finally{a.f()}return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ft.fetchTransactions(t),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.fetchInfoAToken(t);case 2:return n=e.sent,e.abrupt("return",{balance:"",decimals:null===n||void 0===n?void 0:n.decimals,logo:null===n||void 0===n?void 0:n.logo,name:null===n||void 0===n?void 0:n.name,symbol:null===n||void 0===n?void 0:n.symbol,address:null===n||void 0===n?void 0:n.address,amount:null===n||void 0===n?void 0:n.amount});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,s,i,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ot(),r=[],e.next=4,bt(t);case 4:return a=e.sent,e.next=7,Promise.all(a.map(function(){var e=(0,o.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.to_address===n.tokenBridgeAddress){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Tt(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:s=e.sent,i=(0,Be.Z)(s);try{for(i.s();!(c=i.n()).done;)(u=c.value)&&r.push(u)}catch(d){i.e(d)}finally{i.f()}return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(e){var t,n,r,a;vt.addABI(dt);var s=null===(t=vt.decodeMethod(e.input))||void 0===t?void 0:t.params;if(s){var i=null===(n=s[0])||void 0===n?void 0:n.value;if(i){var c=null===(r=s[1])||void 0===r?void 0:r.value,o=null===(a=s[2])||void 0===a?void 0:a.value;if(c&&o)return{amount:c,token:i,targetChain:Number(o)}}}},Tt=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=jt(t))&&n.targetChain===Ce.rQ){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ht.R.load("fetchEtherTokenInfo"+n.token,(function(){return gt(n.token)}));case 5:return r=e.sent,(a=ut(r)).time=new Date(t.block_timestamp).getTime(),s={nextStep:F.Unknown,amount:Z.utils.undecimalize(BigInt(n.amount),r.decimals),from:t.from_address,to:"",emitterAddress:"",sequence:"",vaaHex:"",txId:"",txHash:t.hash},e.abrupt("return",{context:a,transferData:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,s,i,c,o,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(JSON.stringify(t)),r=n.transferData,a=n.context,s=r.txHash){e.next=5;break}throw new Error("Invalid txHash");case 5:return e.next=7,yt.eth.getTransactionReceipt(s);case 7:return i=e.sent,c=(0,Ce.N_)(i,t.context.srcBridgeAddress),r.sequence=c,r.emitterAddress=(0,Ce.Nz)(a.srcTokenBridgeAddress),e.prev=11,e.next=14,(0,Ce.RX)(a.wormholeRpc,a.srcChainId,(0,Ce.Nz)(a.srcTokenBridgeAddress),c);case 14:return o=e.sent,u=o.vaaBytes,r.vaaHex=mt.from(u).toString("hex"),e.next=19,(0,Ce.hz)(a.targetTokenBridgeAddress,u,window.sentre.splt.connection);case 19:d=e.sent,r.nextStep=d?F.Finish:F.WaitSigned,e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),r.nextStep=F.WaitSigned;case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}}),e,null,[[11,23]])})));return function(t){return e.apply(this,arguments)}}();window.wormhole={sourceWallet:{},targetWallet:{}};var Ct="wormhole",St={sourceTokens:{},sourceChain:Ce.ZN,sourceWalletAddress:"",targetWalletAddress:"",targetChain:Ce.rQ,tokenAddress:"",amount:"",processId:"",visible:!1},Zt=(0,N.createAsyncThunk)("".concat(Ct,"/connectSourceWallet"),function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,s,i,c,o,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.wallet,window.wormhole.sourceWallet.ether=r,e.next=4,r.getAddress();case 4:return a=e.sent,e.next=7,wt(a);case 7:s=e.sent,i={},c=(0,Be.Z)(s);try{for(c.s();!(o=c.n()).done;)u=o.value,i[u.address]=u}catch(l){c.e(l)}finally{c.f()}return d=(null===(n=s[0])||void 0===n?void 0:n.address)||"",e.abrupt("return",{sourceWalletAddress:a,sourceTokens:i,tokenAddress:d});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),It=(0,N.createAsyncThunk)("".concat(Ct,"/fetchSourceTokens"),(0,o.Z)(l().mark((function e(){var t,n,r,a,s,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.wormhole.sourceWallet.ether){e.next=3;break}throw new Error("Login fist");case 3:return e.next=5,t.getAddress();case 5:return n=e.sent,e.next=8,wt(n);case 8:r=e.sent,a={},s=(0,Be.Z)(r);try{for(s.s();!(i=s.n()).done;)c=i.value,a[c.address]=c}catch(o){s.e(o)}finally{s.f()}return e.abrupt("return",{sourceTokens:a});case 13:case"end":return e.stop()}}),e)})))),Mt=(0,N.createAsyncThunk)("".concat(Ct,"/disconnectSourceWallet"),function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r().wormhole,e.abrupt("return",(0,k.Z)((0,k.Z)({},a),{},{sourceWalletAddress:"",sourceTokens:{},tokenAddress:""}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Dt=(0,N.createAsyncThunk)("".concat(Ct,"/connectTargetWallet"),function(){var e=(0,o.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wallet,window.wormhole.targetWallet.sol=n,e.next=4,n.getAddress();case 4:return r=e.sent,e.abrupt("return",{targetWalletAddress:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Wt=(0,N.createAsyncThunk)("".concat(Ct,"/setSourceToken"),function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i,c,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tokenAddress,a=t.amount,s=n.getState,i=s(),c=i.wormhole,o=r||c.tokenAddress,u=void 0===a?c.amount:a,e.abrupt("return",(0,k.Z)((0,k.Z)({},c),{},{tokenAddress:o,amount:u}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Rt=(0,N.createAsyncThunk)("".concat(Ct,"/setWormholeProcess"),function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=n.getState,s=a(),i=s.wormhole,e.abrupt("return",(0,k.Z)((0,k.Z)({},i),{},{processId:r||""}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Bt=(0,N.createAsyncThunk)("".concat(Ct,"/restoreTransfer"),function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i,c,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transferState,a=n.getState,window.wormhole.sourceWallet.ether){e.next=5;break}throw new Error("Login fist");case 5:return s=a(),i=s.wormhole,c=r.context,o=r.transferData,(u=(0,k.Z)({},i)).tokenAddress=c.tokenInfo.address,u.processId=c.id,u.amount=o.amount,u.sourceWalletAddress=o.from,u.targetWalletAddress=o.to,e.abrupt("return",(0,k.Z)({},u));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Et=(0,N.createAsyncThunk)("".concat(Ct,"/setVisibleProcess"),function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.visible,e.abrupt("return",{visible:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Nt=(0,N.createAsyncThunk)("".concat(Ct,"/clearProcess"),(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!1,amount:"",processId:""});case 1:case"end":return e.stop()}}),e)})))),Pt=(0,N.createSlice)({name:Ct,initialState:St,reducers:{},extraReducers:function(e){e.addCase(Zt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Mt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Dt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Wt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Bt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Rt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Et.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(It.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Nt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,zt=n(4942),Ot="wohHistory",Lt=(0,N.createAsyncThunk)("".concat(Ot,"/fetchWohHistory"),function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,s,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,e.next=3,kt(n);case 3:r=(r=e.sent).sort((function(e,t){return e.context.time<t.context.time?1:-1})),a={},s=(0,Be.Z)(r);try{for(s.s();!(i=s.n()).done;)c=i.value,a[c.context.id]=c}catch(o){s.e(o)}finally{s.f()}return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ut=(0,N.createAsyncThunk)("".concat(Ot,"/restoreWohHistory"),function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=n.getState,s=a().wohHistory,i=s[r],e.next=6,At(i);case 6:return c=e.sent,e.abrupt("return",(0,zt.Z)({},r,c));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ht=(0,N.createAsyncThunk)("".concat(Ot,"/updateWormholeHistory"),function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.stateTransfer,r=n.context.id,a=JSON.parse(JSON.stringify(n)),e.abrupt("return",(0,zt.Z)({},r,a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),qt=(0,N.createSlice)({name:Ot,initialState:{},reducers:{},extraReducers:function(e){e.addCase(Ht.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Lt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Ut.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,Ft=function(e){var t=e.onClose,n=void 0===t?function(){}:t,a=(0,r.useDispatch)(),i=(0,r.useSelector)((function(e){return e.wormhole})),d=i.sourceTokens,f=i.tokenAddress,x=i.amount,m=i.processId,v=(0,s.useState)(!1),w=(0,u.Z)(v,2),b=w[0],g=w[1],k=(0,s.useState)(!1),j=(0,u.Z)(k,2),T=j[0],A=j[1],C=T||!!m,S=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transferData.nextStep!==F.WaitSigned){e.next=5;break}return e.next=3,(0,y.sA)(5e3);case 3:return e.next=5,a(It());case 5:return e.next=7,a(Rt({id:t.context.id}));case 7:return e.next=9,a(Ht({stateTransfer:t}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.Z)(l().mark((function e(){var t,r,s,i,c,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(!0);case 2:if(e.prev=2,t=window.wormhole,r=t.sourceWallet,s=t.targetWallet,i=d[f],r.ether&&s.sol&&i){e.next=7;break}throw new Error("Login fist");case 7:return c=new $e(r.ether,s.sol,i),e.next=10,c.transfer(x,S);case 10:return o=e.sent,Q("Transfer",o),a(Nt()),e.abrupt("return",n(!1));case 16:return e.prev=16,e.t0=e.catch(2),X(e.t0),e.next=21,a(Rt({id:""}));case 21:return e.prev=21,A(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,16,21,24]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(c.Row,{gutter:[8,8],justify:"center",children:[(0,h.jsx)(c.Col,{span:24,style:{textAlign:"justify"},children:(0,h.jsxs)(c.Space,{align:"start",children:[(0,h.jsx)(c.Typography.Text,{style:{color:"#D72311"},children:(0,h.jsx)(p.Z,{name:"alert-circle-outline"})}),(0,h.jsx)(c.Typography.Text,{style:{color:"#D72311",fontSize:12},children:"You should wait until the process is complete or you can minimize this dialog. However, the process will fail if you exit the Sen Assets."})]})}),(0,h.jsx)(c.Col,{span:24,children:C?(0,h.jsx)(Re,{}):(0,h.jsx)(c.Checkbox,{checked:b,onChange:function(){return g(!b)},disabled:C,children:"I have read and understood"})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Button,{onClick:Z,type:"primary",block:!0,disabled:!b,loading:C,children:["Approve ",x," token"]})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(c.Button,{type:"text",onClick:function(){return n(!1)},children:C?"Minimize":"Cancel"})})]})},Vt=function(e){var t=e.visible,n=void 0!==t&&t,a=e.onCancel,s=void 0===a?function(){}:a,i=(0,r.useSelector)((function(e){return e.wormhole})),o=i.sourceChain,u=i.targetChain,d=i.amount,l=i.sourceTokens[i.tokenAddress];return l?(0,h.jsx)(c.Modal,{visible:n,footer:!1,closable:!1,centered:!0,children:(0,h.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,h.jsx)(c.Col,{style:{marginBottom:50},children:(0,h.jsx)(c.Typography.Title,{level:4,children:"Confirm transfer"})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Card,{bordered:!1,className:"confirm-transfer-wrap",bodyStyle:{padding:0},children:[(0,h.jsxs)(c.Row,{className:"confirm-transfer-header",children:[(0,h.jsx)(c.Col,{span:12,children:(0,h.jsx)(Me,{chainId:o,size:32})}),(0,h.jsx)(c.Col,{span:12,children:(0,h.jsx)(Me,{chainId:u,size:32})}),(0,h.jsxs)(c.Col,{className:"amount",children:[(0,h.jsx)(c.Typography.Text,{style:{color:"#ffffff"},children:l.symbol}),(0,h.jsx)(c.Typography.Title,{level:3,style:{color:"#ffffff"},children:d})]})]}),(0,h.jsx)(We,{})]})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(Ft,{onClose:s})})]})}):null},Yt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.amount,a=t.processId,s=t.visible,i=function(t){return e(Et({visible:t}))};return(0,h.jsxs)(c.Row,{children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Tooltip,{title:a?"Have transaction in progress":"",children:(0,h.jsx)(c.Button,{disabled:!Number(n)||!!a,type:"primary",onClick:function(){return i(!0)},block:!0,children:"Next"})})}),(0,h.jsx)(Vt,{visible:s,onCancel:i})]})},Qt=function(){return(0,h.jsxs)(c.Row,{gutter:[24,24],children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsxs)(c.Typography.Title,{level:4,children:["Wormhole ",(0,h.jsx)("span",{style:{color:"#F9575E"},children:"Bridge"})]})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(Y,{})})]})},Xt=function(e){var t=e.title,n=e.label,r=(0,s.useState)(!1),a=(0,u.Z)(r,2),i=a[0],o=a[1];return(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(c.Typography.Text,{children:n}),(0,h.jsx)(c.Tooltip,{title:t,visible:i,onVisibleChange:function(){return o(!1)},children:(0,h.jsx)(p.Z,{name:"information-circle-outline",onClick:function(){return o(!0)},style:{cursor:"pointer"}})})]})},_t=n(70775),Jt=n.n(_t),Gt=function(e){var t=e.connected,n=e.installed,r=e.onConnect,a=void 0===r?function(){}:r,s=e.onDisconnect,i=void 0===s?function(){}:s;return t?(0,h.jsx)(c.Button,{size:"small",onClick:i,children:"Disconnect"}):(0,h.jsx)(c.Tooltip,{title:n?"":"Install Metamask please",children:(0,h.jsx)(c.Button,{size:"small",onClick:a,type:"primary",disabled:!n,children:"Connect"})})},Kt=function(e){var t=e.chainId,n=e.address,r=e.onChange,a=void 0===r?function(){}:r;return(0,h.jsx)(c.Row,{children:(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Select,{onChange:function(e){return a(Number(e))},value:String(t),bordered:!1,suffixIcon:(0,h.jsx)(p.Z,{name:"chevron-down-outline"}),size:"large",style:{marginLeft:-4},className:"custom-selector",dropdownStyle:{lineHeight:"normal"},disabled:!0,children:Ze.map((function(e){return(0,h.jsx)(c.Select.Option,{value:String(e.chainID),children:(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(c.Avatar,{src:e.logo,size:32,style:{backgroundColor:"#2D3355",border:"none"}}),(0,h.jsxs)(c.Space,{direction:"vertical",size:0,children:[(0,h.jsx)(c.Typography.Text,{style:{fontWeight:600},children:e.name}),n&&(0,h.jsx)(c.Typography.Text,{style:{fontSize:12},children:(0,y.Xn)(n)})]})]})},e.chainID)}))})})})},$t=n(13106),en=n(88490),tn=(0,Fe.Z)((function e(){var t=this;(0,Ve.Z)(this,e),this.getProvider=(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt()();case 2:if(t=e.sent){e.next=5;break}throw new Error("No provider");case 5:return n=new $t.Q(t,"any"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),this.getAddress=(0,o.Z)(l().mark((function e(){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProvider();case 2:return n=e.sent,e.next=5,n.send("eth_requestAccounts",[]);case 5:if((r=e.sent)[0]){e.next=8;break}throw new Error("There is no Ethereum account");case 8:return e.abrupt("return",r[0]);case 9:case"end":return e.stop()}}),e)}))),this.connect=(0,o.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:en.Z.set(Ie,e.walletType);case 1:case"end":return t.stop()}}),t)}))),this.disconnect=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:en.Z.clear(Ie);case 1:case"end":return e.stop()}}),e)})))}));tn.walletType="MetaMask";var nn,rn=tn,an=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceWalletAddress,a=t.sourceChain,i=(0,s.useState)(!1),d=(0,u.Z)(i,2),p=d[0],f=d[1],x=(0,s.useCallback)((function(){if(en.Z.get(Ie)===rn.walletType)return new rn;throw new Error("Login wallet fist")}),[]),y=(0,s.useCallback)((0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==Ce.ZN){e.next=5;break}return e.next=3,Jt()();case 3:t=e.sent,f(!!t);case 5:case"end":return e.stop()}}),e)}))),[a]);(0,s.useEffect)((function(){y()}),[y]);var m=(0,s.useCallback)((0,o.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new rn;try{e(Zt({wallet:n})),n.connect()}catch(r){n.disconnect()}case 2:case"end":return t.stop()}}),t)}))),[e]);return(0,s.useEffect)((function(){var t=en.Z.get(Ie);if(p&&t){var n=x();try{n&&e(Zt({wallet:n}))}catch(r){return window.notify({type:"error",description:r.message})}}}),[e,x,p]),(0,h.jsxs)(c.Row,{gutter:[16,16],children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsx)(Kt,{address:n,chainId:a})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(Gt,{connected:!!n,installed:p,onConnect:m,onDisconnect:function(){var t=x();e(Mt()),t.disconnect()}})})]})},sn=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.targetWalletAddress,i=t.targetChain,o=(0,a.useWallet)().wallet.address;return(0,s.useEffect)((function(){var t=window.sentre.wallet;t&&o&&e(Dt({wallet:t}))}),[o,e]),(0,h.jsxs)(c.Row,{gutter:[16,16],align:"middle",children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsx)(Kt,{address:n,chainId:i})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(c.Tag,{style:{margin:0,borderRadius:4,background:"rgba(249, 87, 94, 0.1)",color:"#F9575E",textTransform:"capitalize",border:"none"},children:"Connected"})})]})},cn=function(){return(0,h.jsx)(c.Card,{bordered:!1,className:"account-item",bodyStyle:{padding:16},children:(0,h.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,h.jsxs)(c.Col,{span:24,children:[(0,h.jsx)(Xt,{title:"Source Network",label:"Source"}),(0,h.jsx)(an,{})]}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(c.Tooltip,{title:"Coming soon",style:{background:"red"},children:(0,h.jsx)(p.Z,{name:"git-compare-outline",style:{cursor:"not-allowed"}})})}),(0,h.jsxs)(c.Col,{span:24,children:[(0,h.jsx)(Xt,{title:"Target network",label:"Target"}),(0,h.jsx)(sn,{})]})]})})},on=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceTokens,a=t.sourceWalletAddress,s=t.tokenAddress;return(0,h.jsx)(c.Select,{onChange:function(t){return e(Wt({tokenAddress:t}))},value:s||"Select",bordered:!1,suffixIcon:(0,h.jsx)(c.Divider,{type:"vertical",style:{margin:0}}),size:"middle",style:{marginLeft:-12},disabled:!a,children:Object.values(n).map((function(e){return(0,h.jsx)(c.Select.Option,{value:e.address,children:(0,h.jsxs)(c.Space,{align:"center",children:[(0,h.jsx)(c.Avatar,{src:e.logo,size:24,style:{border:"none",background:(0,w.p)(e.address,.8)},children:e.symbol.substring(0,2)}),(0,h.jsx)(c.Space,{direction:"vertical",size:0,children:(0,h.jsx)(c.Typography.Text,{style:{color:"#7A7B85"},children:e.symbol})})]})},e.address)}))})},un=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceTokens,a=t.tokenAddress,s=t.amount,i=t.processId,o=n[a]||{},u=o.amount,d=o.symbol;return(0,h.jsxs)(c.Row,{gutter:[8,8],children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsx)(c.Typography.Text,{children:"Amount"})}),(0,h.jsx)(c.Col,{children:(0,h.jsxs)(c.Typography.Text,{children:["Available: ",u||0," ",d]})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(xe,{disabled:!a||!!i,placeholder:"0",prefix:(0,h.jsx)(on,{}),suffix:(0,h.jsx)(c.Button,{type:"text",style:{marginRight:-7},disabled:!a||!!i,onClick:function(){return e(Wt({amount:"".concat(u)}))},children:"MAX"}),value:s,onValue:function(t){return e(Wt({amount:t}))},max:u})})]})},dn=function(){return(0,h.jsx)(c.Card,{className:"card-page",children:(0,h.jsxs)(c.Row,{gutter:[14,14],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(Qt,{})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(cn,{})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(un,{})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(Yt,{})})]})})},ln=n(4550),pn=n.n(ln),fn=function(e){var t=e.transferState,n=(0,r.useDispatch)(),a=(0,r.useSelector)((function(e){return e.wormhole})),i=a.processId,u=a.sourceTokens,d=a.tokenAddress,f=t.context,x=t.transferData,m=(0,s.useMemo)((function(){return x.nextStep===F.Finish?"success":i===f.id?"pending":x.nextStep===F.Unknown?"unknown":"failed"}),[f.id,i,x.nextStep]),v=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transferData.nextStep!==F.WaitSigned){e.next=5;break}return e.next=3,(0,y.sA)(5e3);case 3:return e.next=5,n(It());case 5:return e.abrupt("return",n(Ht({stateTransfer:t})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.Z)(l().mark((function e(){var r,a,s,i,c,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Bt({transferState:t})).unwrap();case 3:return e.next=5,n(Rt({id:f.id})).unwrap();case 5:if(r=window.wormhole,a=r.sourceWallet,s=r.targetWallet,i=u[d],a.ether&&s.sol&&i){e.next=9;break}throw new Error("Login fist");case 9:return c=new $e(a.ether,s.sol,i),e.next=12,c.restore(t);case 12:return e.next=14,v(t);case 14:return e.next=16,c.transfer(x.amount,v);case 16:o=e.sent,Q("Transfer",o),n(Nt()),e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(0),X(e.t0),e.next=26,n(Rt({id:""}));case 26:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}();return"success"===m?(0,h.jsx)(c.Button,{size:"small",type:"text",onClick:function(){return window.open((0,y.kU)(t.transferData.txId),"_blank")},icon:(0,h.jsx)(p.Z,{name:"open-outline"})}):"failed"===m?(0,h.jsx)(c.Button,{type:"primary",size:"small",onClick:w,disabled:!!i,children:"Retry"}):"unknown"===m?null:(0,h.jsx)(c.Button,{type:"text",size:"small",onClick:function(){return n(Et({visible:!0}))},children:"Reopen"})},hn={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},xn=function(e){var t=e.tag,n=function(e){var n=hn[t];return"rgba(".concat(n[0],",  ").concat(n[1],", ").concat(n[2],",").concat(e||1,")")};return(0,h.jsx)(c.Tag,{style:{margin:0,borderRadius:4,color:n(),textTransform:"capitalize"},color:n(.1),children:t})},yn=function(e){var t=e.data,n=(0,r.useDispatch)(),a=(0,r.useSelector)((function(e){return e.wormhole})).processId,i=t.transferData.nextStep,o=(0,s.useMemo)((function(){return i===F.Finish?"success":i===F.Unknown?"unknown":a===t.context.id?"pending":"failed"}),[t.context.id,i,a]);return(0,s.useEffect)((function(){n(Ut({id:t.context.id})).unwrap()}),[t.context.id,n]),i===F.Unknown?(0,h.jsx)(c.Tag,{style:{margin:0,borderRadius:4},color:"processing",children:"checking"}):(0,h.jsx)(xn,{tag:o})},mn=[{title:"TIME",dataIndex:"context",render:function(e){return(0,h.jsx)(c.Typography.Text,{children:pn()(e.time).format("DD MMM, YYYY hh:mm")})}},{title:"TRANSACTION ID",render:function(e){var t=e.transferData.txHash;return(0,h.jsx)(c.Typography.Text,{style:{fontWeight:700},children:t?(0,y.Xn)(t,8,"..."):"--"})}},{title:"SOURCE - TARGET",dataIndex:"context",render:function(e){return(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(Me,{chainId:e.srcChainId}),(0,h.jsx)(c.Typography.Text,{children:(0,h.jsx)(De,{chainId:e.srcChainId})}),(0,h.jsx)("span",{children:"-"}),(0,h.jsx)(Me,{chainId:e.targetChainId}),(0,h.jsx)(c.Typography.Text,{children:(0,h.jsx)(De,{chainId:e.targetChainId})})]})}},{title:"AMOUNT",render:function(e){var t,n,r;return(0,h.jsxs)(c.Typography.Text,{children:[null===e||void 0===e||null===(t=e.transferData)||void 0===t?void 0:t.amount," ",null===e||void 0===e||null===(n=e.context)||void 0===n||null===(r=n.tokenInfo)||void 0===r?void 0:r.symbol]})}},{title:"STATUS",width:100,render:function(e){return(0,h.jsx)(yn,{data:e})}},{title:"ACTION",width:100,render:function(e){return(0,h.jsx)(fn,{transferState:e})}}],vn=function(){var e=(0,s.useState)(!0),t=(0,u.Z)(e,2),n=t[0],a=t[1],i=(0,r.useDispatch)(),d=(0,r.useSelector)((function(e){return e})),f=d.wohHistory,x=d.wormhole.sourceWalletAddress,y=(0,s.useState)(4),m=(0,u.Z)(y,2),v=m[0],w=m[1],b=(0,s.useCallback)((0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i(Lt({address:x})).unwrap();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),X(e.t0),console.log("er",e.t0);case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,7,11,14]])}))),[i,x]);(0,s.useEffect)((function(){return b(),function(){a(!0)}}),[b]);return(0,h.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Table,{columns:mn,dataSource:Object.values(f).slice(0,v),rowClassName:function(e,t){return t%2?"odd-row":"even-row"},pagination:!1,scroll:{x:1e3},rowKey:function(e){return e.context.id},loading:n})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(c.Button,{disabled:v>=Object.keys(f).length,onClick:function(){return w(v+4)},type:"text",icon:(0,h.jsx)(p.Z,{name:"chevron-down-outline"}),children:"View more"})})]})},wn=n(93433),bn=(0,Fe.Z)((function e(){(0,Ve.Z)(this,e),this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]})),gn=(0,Fe.Z)((function e(){(0,Ve.Z)(this,e),this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"})),kn=(0,Fe.Z)((function e(){(0,Ve.Z)(this,e),this.source=void 0,this.destination=void 0,this.amount="0"})),jn=700,Tn=function(){function e(){(0,Ve.Z)(this,e),this.conn=window.sentre.splt.connection}return(0,Fe.Z)(e,[{key:"fetchSignatures",value:function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=s.length>2&&void 0!==s[2]?s[2]:jn)>jn&&(r=jn),a={limit:r,before:n},e.abrupt("return",this.conn.getConfirmedSignaturesForAddress2(t,a));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchConfirmTransaction",value:function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,a,s,i,c,o,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],150,r=[],a=0;a<=t.length/150;a++)s=150*a,i=t.slice(s,s+150),r.push(this.conn.getParsedConfirmedTransactions(i));return e.next=6,Promise.all(r);case 6:c=e.sent,o=(0,Be.Z)(c);try{for(o.s();!(u=o.n()).done;)d=u.value,n=n.concat(d)}catch(l){o.e(l)}finally{o.f()}return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i,c,o,u,d,p,f,h,x,y,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(new Date).getTime()/1e3,a=n.secondFrom,s=n.secondTo,i=n.lastSignature,c=n.limit,a=Math.floor(a||0),s=Math.floor(s||r),o=new Xe.PublicKey(t),u=[],d=!1;case 7:if(d){e.next=42;break}return e.next=10,this.fetchSignatures(o,i,c);case 10:if(null!==(p=e.sent)&&void 0!==p&&p.length&&!d){e.next=13;break}return e.abrupt("break",42);case 13:f=(0,Be.Z)(p),e.prev=14,f.s();case 16:if((h=f.n()).done){e.next=28;break}if(x=h.value,(y=x.blockTime)&&!(y>s)){e.next=21;break}return e.abrupt("continue",26);case 21:if(!(y<a)){e.next=24;break}return d=!0,e.abrupt("break",28);case 24:i=x.signature,u.push(x.signature);case 26:e.next=16;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(14),f.e(e.t0);case 33:return e.prev=33,f.f(),e.finish(33);case 36:if(!(c&&u.length>=c)){e.next=38;break}return e.abrupt("break",42);case 38:if(!((null===p||void 0===p?void 0:p.length)<jn)){e.next=40;break}return e.abrupt("break",42);case 40:e.next=7;break;case 42:return e.next=44,this.fetchConfirmTransaction(u);case 44:return m=e.sent,e.abrupt("return",m);case 46:case"end":return e.stop()}}),e,this,[[14,30,33,36]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();!function(e){e.Transfer="transfer"}(nn||(nn={}));var An,Cn=1e3;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(An||(An={}));var Sn,Zn=function(){function e(){(0,Ve.Z)(this,e),this.milliSeconds=(new Date).valueOf()}return(0,Fe.Z)(e,[{key:"setMilliSeconds",value:function(e){this.milliSeconds=e}},{key:"format",value:function(e){var t=new Date(this.milliSeconds);return pn()(t).format(e)}},{key:"subtractDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=pn()(this.milliSeconds).subtract(t,"days").valueOf(),r=e.fromSeconds(n/Cn);return r}},{key:"addDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=pn()(this.milliSeconds).add(t,"days").valueOf(),r=e.fromSeconds(n/Cn);return r}},{key:"seconds",value:function(){return(this.milliSeconds-this.milliSeconds%Cn)/Cn}},{key:"ymd",value:function(){return Number(this.format(An.YMD))}}],[{key:"fromSeconds",value:function(t){var n=new e,r=t*Cn;return n.setMilliSeconds(r),n}},{key:"fromYmd",value:function(t){var n=new e,r=pn()(t,An.YMD).valueOf();return n.setMilliSeconds(r),n}},{key:"getListDate",value:function(t,n){for(var r=[],a=e.fromYmd(t),s=e.fromYmd(n);a.ymd()<=s.ymd();)r.push(a.ymd()),a=a.addDay();return r}},{key:"today",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An.YMD;return pn()().format(e)}}]),e}(),In=function(){function e(){(0,Ve.Z)(this,e),this.solana=void 0,this.solana=new Tn}return(0,Fe.Z)(e,[{key:"collect",value:function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i,c,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.solana.fetchTransactions(t,n);case 2:r=e.sent,a=[],s=(0,Be.Z)(r);try{for(s.s();!(i=s.n()).done;)c=i.value,(o=this.parseTransLog(c))&&a.push(o)}catch(u){s.e(u)}finally{s.f()}return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parseTransLog",value:function(e){var t,n,r=e.blockTime,a=e.meta,s=e.transaction;if(r&&a){var i=a.postTokenBalances,c=a.preTokenBalances,o=a.err,u=a.postBalances,d=a.preBalances,l=s.signatures,p=s.message;if(null===o){var f=(null===(t=a.innerInstructions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.instructions)||[],h=p.instructions[0]||[],x=new bn;x.signature=l[0],x.blockTime=r,x.time=Zn.fromSeconds(r).ymd(),x.programId=h.programId.toString();var y=this.parseAccountInfo(p.accountKeys,i||[],c||[],u,d);return this.isParsedInstruction(h)?(x.programTransfer=this.parseAction([h],y),x):(x.actionTransfers=this.parseAction(f,y),x.programInfo={programId:h.programId.toString(),data:h.data},x)}}}},{key:"isParsedInstruction",value:function(e){return void 0!==e.parsed}},{key:"parseAction",value:function(e,t){var n,r=[],a=(0,Be.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(this.isParsedInstruction(s)){var i=s.parsed||{};if(i.type===nn.Transfer){var c=i.info,o=this.parseActionTransfer(c,t);o&&r.push(o)}}}}catch(u){a.e(u)}finally{a.f()}return r}},{key:"parseActionTransfer",value:function(e,t){var n=e.source,r=e.destination,a=e.amount,s=e.lamports,i=a||s.toString();if(i&&t.has(n)&&t.has(r)){var c=new kn;return c.source=t.get(n),c.destination=t.get(r),c.amount=i,c}}},{key:"parseAccountInfo",value:function(e,t,n,r,a){var s,i=new Map,c=(0,Be.Z)(t);try{for(c.s();!(s=c.n()).done;){var o=s.value,u=o.accountIndex,d=o.mint,l=o.uiTokenAmount,p=new gn;p.address=e[u].pubkey.toString(),p.postBalance=l.amount,p.mint=d,p.decimals=l.decimals,i.set(p.address,p)}}catch(b){c.e(b)}finally{c.f()}var f,h=(0,Be.Z)(n);try{for(h.s();!(f=h.n()).done;){var x=f.value,y=x.accountIndex,m=x.uiTokenAmount,v=e[y].pubkey.toString(),w=i.get(v)||new gn;w.preBalance=m.amount,i.set(w.address,w)}}catch(b){h.e(b)}finally{h.f()}return e.forEach((function(e,t){var n=e.pubkey.toString();if(!Z.account.isAssociatedAddress(n)){var s=i.get(n)||new gn;s.address=n,s.mint="11111111111111111111111111111111",s.postBalance=String(r[t]||0),s.preBalance=String(a[t]||0),s.decimals=9,i.set(s.address,s)}})),i}}]),e}(),Mn="history",Dn=(0,N.createAsyncThunk)("".concat(Mn,"/fetchTransactionHistory"),function(){var e=(0,o.Z)(l().mark((function e(t,n){var r,a,s,i,c,o,u,d,p,f,h,x,y,m,v,w,b,g,k,j,T;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.accountAddress,s=t.lastSignature,i=t.isLoadMore,c=n.getState,o=window.sentre.splt,15,u=c(),d=u.history.transaction,p={lastSignature:s,limit:15},e.next=8,null===(r=window.sentre.wallet)||void 0===r?void 0:r.getAddress();case 8:if(f=e.sent){e.next=11;break}throw new Error("Login fist");case 11:return h=new In,e.next=14,h.collect(a,p);case 14:x=e.sent,y=[],i&&(y=(0,wn.Z)(d)),m=(0,Be.Z)(x),e.prev=18,m.s();case 20:if((v=m.n()).done){e.next=48;break}if(w=v.value,b={},g=w.programTransfer[0]){e.next=26;break}return e.abrupt("continue",46);case 26:if(g.destination&&g.source){e.next=28;break}return e.abrupt("continue",46);case 28:if(k=g.destination,j=f,k.mint===I){e.next=34;break}return e.next=33,o.deriveAssociatedAddress(f,k.mint);case 33:j=e.sent;case 34:if(T=new Date(1e3*w.blockTime),b.time=pn()(T).format("DD MMM, YYYY hh:mm"),b.key=w.signature,b.transactionId=w.signature,b.amount=Number(Z.utils.undecimalize(BigInt(g.amount),k.decimals)),b.from=g.source.address,b.to=k.address,b.mint=k.mint,b.isReceive=j===k.address,a!==f||k.mint===I){e.next=45;break}return e.abrupt("continue",46);case 45:y.push(b);case 46:e.next=20;break;case 48:e.next=53;break;case 50:e.prev=50,e.t0=e.catch(18),m.e(e.t0);case 53:return e.prev=53,m.f(),e.finish(53);case 56:return e.abrupt("return",{transaction:y});case 57:case"end":return e.stop()}}),e,null,[[18,50,53,56]])})));return function(t,n){return e.apply(this,arguments)}}()),Wn=(0,N.createSlice)({name:Mn,initialState:{transaction:[]},reducers:{},extraReducers:function(e){e.addCase(Dn.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,Rn=[{title:"TIME",dataIndex:"time",key:"time"},{title:"TRANSACTION ID",dataIndex:"transactionId",key:"transactionId",render:function(e){return(0,h.jsxs)(c.Space,{align:"baseline",children:[(0,h.jsx)(c.Typography.Text,{onClick:function(){return window.open((0,y.kU)(e),"_blank")},style:{fontWeight:700,cursor:"pointer"},children:(0,y.Xn)(e,8,"...")}),(0,h.jsx)(c.Button,{type:"text",size:"small",onClick:function(){return window.open((0,y.kU)(e),"_blank")},icon:(0,h.jsx)(p.Z,{name:"open-outline"})})]})}},{title:"FROM",dataIndex:"from",key:"from",render:function(e){return(0,h.jsx)(c.Typography.Text,{children:(0,y.Xn)(e,8,"...")})}},{title:"TO",dataIndex:"to",key:"to",render:function(e){return(0,h.jsx)(c.Typography.Text,{children:(0,y.Xn)(e,8,"...")})}},{title:"AMOUNT",key:"amount",dataIndex:"amount",render:function(e,t){return(0,h.jsx)(c.Typography.Text,{style:{color:t.isReceive?"#14E041":"#D72311"},children:(0,h.jsxs)(c.Space,{size:4,children:[t.isReceive?"+".concat(e):"-".concat(e)," ",(0,h.jsx)(v,{mintAddress:t.mint})]})})}},{title:"STATUS",key:"status",dataIndex:"status",render:function(e){return(0,h.jsx)(xn,{tag:"success"})}}],Bn=function(){var e=(0,s.useState)(4),t=(0,u.Z)(e,2),n=t[0],a=t[1],i=(0,s.useState)(!0),d=(0,u.Z)(i,2),f=d[0],x=d[1],y=(0,r.useDispatch)(),m=(0,r.useSelector)((function(e){return e.history})).transaction,v=(0,r.useSelector)((function(e){return e.account})).accountSelected,w=(0,s.useCallback)((0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y(Dn({accountAddress:v,isLoadMore:!1})).unwrap();case 4:x(!1);case 5:case"end":return e.stop()}}),e)}))),[y,v]);(0,s.useEffect)((function(){return w(),function(){x(!0),a(4)}}),[w]);return(0,h.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(c.Table,{columns:Rn,dataSource:m.slice(0,n),rowClassName:function(e,t){return t%2?"odd-row":"even-row"},pagination:!1,scroll:{x:1e3},loading:f})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(c.Button,{onClick:function(){var e=m.slice(0,n).length;if(m.length-e<=9){var t=m[m.length-1].transactionId;y(Dn({accountAddress:v,lastSignature:t,isLoadMore:!0}))}a(n+4)},type:"text",icon:(0,h.jsx)(p.Z,{name:"chevron-down-outline"}),disabled:n>=m.length,children:"View more"})})]})},En=function(){return(0,h.jsx)(c.Card,{bodyStyle:{paddingTop:12},bordered:!1,children:(0,h.jsx)(c.Row,{gutter:[24,24],children:(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Tabs,{children:[(0,h.jsx)(c.Tabs.TabPane,{tab:"Wormhole Bridge History",children:(0,h.jsx)(vn,{})},"Wormhole"),(0,h.jsx)(c.Tabs.TabPane,{tab:"Transaction History",children:(0,h.jsx)(Bn,{})},"Transaction")]})})})})},Nn=function(){return(0,s.useEffect)((function(){window.onscroll=function(){Sn&&clearTimeout(Sn),Sn=setTimeout(i.be,500)}}),[]),(0,h.jsxs)(c.Row,{gutter:[24,24],children:[(0,h.jsx)(c.Col,{xl:8,md:12,sm:24,children:(0,h.jsx)(re,{})}),(0,h.jsx)(c.Col,{xl:8,md:12,sm:24,children:(0,h.jsx)(Ae,{})}),(0,h.jsx)(c.Col,{xl:8,md:12,sm:24,children:(0,h.jsx)(dn,{})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(En,{})})]})},Pn=n(45055),zn=function(e){var t=e.accountAddr,n=e.onClick,r=void 0===n?function(){}:n,s=(0,a.useAccount)().accounts[t].mint;return(0,h.jsx)(c.Card,{className:"account-item",style:{borderRadius:8},bodyStyle:{padding:12},bordered:!1,hoverable:!0,onClick:function(){return r(t)},children:(0,h.jsxs)(c.Row,{children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(x,{mintAddress:s,size:32}),(0,h.jsxs)(c.Space,{direction:"vertical",size:0,children:[(0,h.jsx)(c.Typography.Text,{children:(0,h.jsx)(v,{mintAddress:s})}),(0,h.jsx)(c.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(m,{mintAddress:s})})]})]})}),(0,h.jsx)(c.Col,{style:{height:"100%"},children:(0,h.jsxs)(c.Space,{children:[(0,h.jsxs)(c.Space,{direction:"vertical",size:0,align:"end",children:[(0,h.jsx)(c.Typography.Text,{children:(0,h.jsx)(R,{accountAddr:t,maxLength:6})}),(0,h.jsx)(c.Typography.Text,{type:"secondary",className:"caption",children:(0,h.jsx)(R,{accountAddr:t,inUSD:!0,autoHidden:!0,maxLength:6})})]}),(0,h.jsx)(p.Z,{style:{color:"#7A7B85"},name:"arrow-forward-outline"})]})})]})})},On=n(63805);var Ln={appId:"sen_assets",url:"https://descartesnetwork.github.io/sen-assets/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},Un={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},Hn={manifest:{development:(0,k.Z)({},Ln),staging:(0,k.Z)({},Ln),production:(0,k.Z)({},Ln)}[On.OB],sol:Un[On.ef]},qn=Hn.manifest.appId,Fn=function(){var e=(0,r.useDispatch)(),t=(0,Pn.useHistory)(),n=(0,a.useMint)().tokenProvider,d=(0,s.useState)([]),p=(0,u.Z)(d,2),f=p[0],x=p[1],y=(0,s.useCallback)(function(){var e=(0,o.Z)(l().mark((function e(t){var r,a,s,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],e.t0=l().keys(t);case 3:if((e.t1=e.t0()).done){e.next=15;break}return s=e.t1.value,i=t[s],e.next=8,n.findByAddress(i.mint);case 8:if(!(c=e.sent)){e.next=12;break}return"SEN"===c.symbol?a.push(s):r.unshift(s),e.abrupt("continue",3);case 12:r.push(s),e.next=3;break;case 15:return e.abrupt("return",x([].concat(a,r)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),m=function(n){return e(z({account:n})),t.push("/app/".concat(qn))};return(0,h.jsxs)(c.Row,{gutter:[12,12],align:"middle",children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(E,{onChange:y})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(L,{onClick:function(e){return m(e)},price:!1})}),f.map((function(e){return(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(i.ZP,{height:70,offset:70,overflow:!0,children:(0,h.jsx)(zn,{accountAddr:e,onClick:function(e){return m(e)}})})},e)}))]})},Vn=function(e){var t=e.address;return(0,h.jsx)(c.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,h.jsx)(se(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,h.jsx)(oe,{color:"#212433",name:"qr-code-outline"})})},Yn=function(){var e=(0,a.useWallet)().wallet.address,t=(0,s.useState)(!1),n=(0,u.Z)(t,2),r=n[0],i=n[1],d=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),setTimeout((function(){i(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(c.Space,{size:10,children:[(0,h.jsx)(c.Tooltip,{title:"Copied",visible:r,children:(0,h.jsx)(ce(),{text:e,onCopy:d,children:(0,h.jsx)(oe,{color:"#212433",name:"copy-outline",onClick:d})})}),(0,h.jsx)(Vn,{address:e}),(0,h.jsx)(ne,{})]})},Qn=function(e){var t=e.hidden,n=void 0!==t&&t,r=(0,s.useState)(),i=(0,u.Z)(r,2),d=i[0],p=i[1],f=(0,a.useWallet)().wallet.lamports,x=(0,y.uR)(Z.utils.undecimalize(f,9)).format("0.[000]"),m=(0,s.useMemo)((function(){return(0,y.uR)(Number(x)*((null===d||void 0===d?void 0:d.price)||0)).format("0,0.[000]")}),[x,d]),v=(0,s.useCallback)((0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.l)("solana");case 2:return t=e.sent,e.abrupt("return",p(t));case 4:case"end":return e.stop()}}),e)}))),[]);return(0,s.useEffect)((function(){v()}),[v]),n?(0,h.jsx)(c.Skeleton.Input,{style:{width:128,borderRadius:4},size:"small",active:!0}):(0,h.jsx)(c.Typography.Text,{style:{fontWeight:700},children:"$".concat(m)})},Xn=function(){var e=(0,a.useWallet)().wallet.address,t=(0,s.useState)(!1),n=(0,u.Z)(t,2),r=n[0],i=n[1];return(0,h.jsxs)(c.Row,{gutter:[16,16],wrap:!1,align:"middle",children:[(0,h.jsx)(c.Col,{children:(0,h.jsx)(c.Avatar,{size:48,children:(0,h.jsx)("span",{style:{fontSize:24},children:Z.utils.randEmoji(e)})})}),(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsxs)(c.Row,{children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Row,{gutter:[2,2],align:"middle",children:[(0,h.jsx)(c.Col,{flex:"auto",children:(0,h.jsx)(c.Typography.Text,{children:(0,y.Xn)(e,3,"...")})}),(0,h.jsx)(c.Col,{children:(0,h.jsx)(Yn,{})})]})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsxs)(c.Space,{children:[(0,h.jsx)(Qn,{hidden:r}),(0,h.jsx)(c.Button,{type:"text",size:"small",icon:(0,h.jsx)(p.Z,{name:r?"eye-off-outline":"eye-outline"}),onClick:function(){return i(!r)}})]})})]})})]})},_n=function(){return(0,h.jsx)(c.Card,{style:{height:"100%",overflow:"auto"},className:"card-sen-assets scrollbar",bordered:!1,children:(0,h.jsxs)(c.Row,{gutter:[24,24],children:[(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(Xn,{})}),(0,h.jsx)(c.Col,{span:24,children:(0,h.jsx)(Fn,{})})]})})},Jn=n(85912),Gn=(0,N.configureStore)({middleware:function(e){return e(Jn.h)},devTools:(0,Jn.$)("myapp"),reducer:{history:Wn,settings:te,account:O,wormhole:Pt,wohHistory:qt}}),Kn=Hn.manifest.appId,$n=function(){return(0,h.jsx)(a.UIProvider,{appId:Kn,antd:!0,children:(0,h.jsx)(a.WalletProvider,{children:(0,h.jsx)(a.PoolProvider,{children:(0,h.jsx)(a.MintProvider,{children:(0,h.jsx)(a.AccountProvider,{children:(0,h.jsx)(r.Provider,{store:Gn,children:(0,h.jsx)(Nn,{})})})})})})})},er={size:"small",type:"default"},tr=function(){return(0,h.jsx)(a.UIProvider,{appId:Kn,antd:!0,children:(0,h.jsx)(a.WalletProvider,{children:(0,h.jsx)(a.PoolProvider,{children:(0,h.jsx)(a.MintProvider,{children:(0,h.jsx)(a.AccountProvider,{children:(0,h.jsx)(r.Provider,{store:Gn,children:(0,h.jsx)(_n,{})})})})})})})}},31633:function(e,t,n){"use strict";var r=n(63805),a=n(77566),s=n(77330),i={sol:a.Z[r.ef],register:s.Z[r.OB]};t.Z=i},65090:function(e,t,n){"use strict";var r=n(4942),a=n(15861),s=n(87757),i=n.n(s),c=n(19289),o=n(95418),u="accounts",d=(0,c.createAsyncThunk)("".concat(u,"/getAccounts"),function(){var e=(0,a.Z)(i().mark((function e(t){var n,r,a,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.owner,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid owner/wallet address");case 3:return r=window.sentre.splt,a=o.account.fromAddress(n),e.next=7,r.connection.getTokenAccountsByOwner(a,{programId:r.spltProgramId});case 7:return s=e.sent,c=s.value,u={},c.forEach((function(e){var t=e.pubkey,n=e.account.data,a=t.toBase58(),s=r.parseAccountData(n);return u[a]=s})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,c.createAsyncThunk)("".concat(u,"/getAccount"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var a,s,c,u,d,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.address,s=n.getState,o.account.isAddress(a)){e.next=4;break}throw new Error("Invalid account address");case 4:if(c=s(),!(u=c.accounts[a])){e.next=7;break}return e.abrupt("return",(0,r.Z)({},a,u));case 7:return d=window.sentre.splt,e.next=10,d.getAccountData(a);case 10:return l=e.sent,e.abrupt("return",(0,r.Z)({},a,l));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=(0,c.createAsyncThunk)("".concat(u,"/upsetAccount"),function(){var e=(0,a.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,a=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(a){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,c.createAsyncThunk)("".concat(u,"/deleteAccount"),function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,c.createSlice)({name:u,initialState:{},reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){return t.payload})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){delete e[t.payload.address]}))}});t.ZP=h.reducer},87358:function(e,t,n){"use strict";var r=n(19289),a=n(85912),s=n(87482),i=n(5105),c=n(58851),o=n(21028),u=n(65090),d=n(33015),l=n(92871),p=n(33361),f=(0,r.configureStore)({middleware:function(e){return e(a.h)},devTools:(0,a.$)("sentre"),reducer:{ui:s.ZP,flags:i.Z,page:c.ZP,wallet:o.ZP,accounts:u.ZP,mints:d.ZP,pools:l.ZP,search:p.ZP}});t.Z=f},33015:function(e,t,n){"use strict";n.d(t,{ih:function(){return d}});var r=n(4942),a=n(15861),s=n(87757),i=n.n(s),c=n(19289),o=n(95418),u="mints",d=(0,c.createAsyncThunk)("".concat(u,"/getMint"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var a,s,c,u,d,l,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.address,s=t.force,c=void 0!==s&&s,u=n.getState,o.account.isAddress(a)){e.next=4;break}throw new Error("Invalid mint address");case 4:if(c){e.next=8;break}if(d=u(),!(l=d.accounts[a])){e.next=8;break}return e.abrupt("return",(0,r.Z)({},a,l));case 8:return p=window.sentre.splt,e.next=11,p.getMintData(a);case 11:return f=e.sent,e.abrupt("return",(0,r.Z)({},a,f));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l=(0,c.createAsyncThunk)("".concat(u,"/upsetMint"),function(){var e=(0,a.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,a=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(a){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,c.createAsyncThunk)("".concat(u,"/deleteMint"),function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,c.createSlice)({name:u,initialState:{},reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){delete e[t.payload.address]}))}});t.ZP=f.reducer},58851:function(e,t,n){"use strict";var r=n(93433),a=n(1413),s=n(15861),i=n(87757),c=n.n(i),o=n(19289),u=n(95418),d=n(3007),l=n(31633).Z.register,p=l.senreg,f=l.extra,h=function(e,t){return t&&Array.isArray(t)?t.filter((function(t){return e[t]})):[]},x=function(){var e=(0,s.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(p);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),y="page",m={register:{},appIds:[],widgetIds:[]},v=(0,o.createAsyncThunk)("".concat(y,"/loadRegister"),(0,s.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,e.abrupt("return",{register:(0,a.Z)((0,a.Z)({},t),f)});case 4:case"end":return e.stop()}}),e)})))),w=(0,o.createAsyncThunk)("".concat(y,"/installManifest"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var s,i,o,d,l,p,f,h,x,y;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.getState,i=s(),o=i.wallet.address,d=i.page,l=d.appIds,p=d.widgetIds,f=d.register,u.account.isAddress(o)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(!l.includes(t.appId)){e.next=6;break}throw new Error("Cannot run sandbox for an installed application.");case 6:return(h=(0,r.Z)(l)).push(t.appId),x=(0,r.Z)(p),t.supportedViews.includes("widget")&&x.push(t.appId),(y=(0,a.Z)({},f))[t.appId]=t,e.abrupt("return",{appIds:h,widgetIds:x,register:y});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),b=(0,o.createAsyncThunk)("".concat(y,"/loadPage"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var r,a,s,i,o,l,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,i=a.page.register,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return o=new d.Z(s).createInstance("sentre"),e.t0=h,e.t1=i,e.next=9,o.getItem("appIds");case 9:if(e.t2=e.sent,e.t2){e.next=12;break}e.t2=m.appIds;case 12:return e.t3=e.t2,l=(0,e.t0)(e.t1,e.t3),e.t4=h,e.t5=i,e.next=18,o.getItem("widgetIds");case 18:if(e.t6=e.sent,e.t6){e.next=21;break}e.t6=m.widgetIds;case 21:return e.t7=e.t6,p=(0,e.t4)(e.t5,e.t7),e.abrupt("return",{appIds:l,widgetIds:p});case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g=(0,o.createAsyncThunk)("".concat(y,"/updatePage"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var r,a,s,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,i=a.page.register,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return t=h(i,t),o=new d.Z(s),e.next=8,o.createInstance("sentre").setItem("appIds",t);case 8:return e.abrupt("return",{appIds:t});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=(0,o.createAsyncThunk)("".concat(y,"/installApp"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var a,s,i,o,l,p,f,h,x,y,m,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.getState,o=i(),l=o.wallet.address,p=o.page,f=p.register,h=p.appIds,x=p.widgetIds,u.account.isAddress(l)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(!h.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return(y=(0,r.Z)(h)).push(t),m=null!==(a=f[t])&&void 0!==a&&null!==(s=a.supportedViews)&&void 0!==s&&s.includes("widget")?[].concat((0,r.Z)(x),[t]):(0,r.Z)(x),v=new d.Z(l),e.next=12,v.createInstance("sentre").setItem("appIds",y);case 12:return e.next=14,v.createInstance("sentre").setItem("widgetIds",m);case 14:return e.abrupt("return",{appIds:y,widgetIds:m});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),j=(0,o.createAsyncThunk)("".concat(y,"/uninstallApp"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var r,a,s,i,o,l,p,f,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,i=a.page,o=i.appIds,l=i.widgetIds,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(o.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return p=o.filter((function(e){return e!==t})),f=l.filter((function(e){return e!==t})),h=new d.Z(s),e.next=11,h.createInstance("sentre").setItem("appIds",p);case 11:return e.next=13,h.createInstance("sentre").setItem("widgetIds",f);case 13:return e.next=15,h.dropInstance(t);case 15:return e.abrupt("return",{appIds:p,widgetIds:f});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T=(0,o.createAsyncThunk)("".concat(y,"/updateDashboard"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var r,a,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return i=new d.Z(s),e.next=7,i.createInstance("sentre").setItem("widgetIds",t);case 7:return e.abrupt("return",{widgetIds:t});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),A=(0,o.createAsyncThunk)("".concat(y,"/addWidgets"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var a,s,i,o,l,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,s=a(),i=s.wallet.address,o=s.page.widgetIds,u.account.isAddress(i)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:return l=[].concat((0,r.Z)(o),(0,r.Z)(t)),p=new d.Z(i),e.next=8,p.createInstance("sentre").setItem("widgetIds",l);case 8:return e.abrupt("return",{widgetIds:l});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C=(0,o.createAsyncThunk)("".concat(y,"/removeWidget"),function(){var e=(0,s.Z)(c().mark((function e(t,n){var r,a,s,i,o,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,i=a.page.widgetIds,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(i.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return o=i.filter((function(e){return e!==t})),l=new d.Z(s),e.next=10,l.createInstance("sentre").setItem("widgetIds",o);case 10:return e.abrupt("return",{widgetIds:o});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=(0,o.createSlice)({name:y,initialState:m,reducers:{},extraReducers:function(e){e.addCase(v.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(w.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(b.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(g.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(k.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(j.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(T.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(A.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(C.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=S.reducer},92871:function(e,t,n){"use strict";var r=n(4942),a=n(15861),s=n(87757),i=n.n(s),c=n(19289),o=n(95418),u=n(31633).Z.sol.taxmanAddress,d="pools",l=(0,c.createAsyncThunk)("".concat(d,"/getPools"),(0,a.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.swap,e.next=3,t.connection.getProgramAccounts(t.swapProgramId,{filters:[{dataSize:257},{memcmp:{bytes:u,offset:65}}]});case 3:return n=e.sent,r={},n.forEach((function(e){var n=e.pubkey,a=e.account.data,s=n.toBase58(),i=t.parsePoolData(a);r[s]=i})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),p=(0,c.createAsyncThunk)("".concat(d,"/getPool"),function(){var e=(0,a.Z)(i().mark((function e(t,n){var a,s,c,u,d,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.address,s=n.getState,o.account.isAddress(a)){e.next=4;break}throw new Error("Invalid pool address");case 4:if(c=s(),!(u=c.pools[a])){e.next=7;break}return e.abrupt("return",(0,r.Z)({},a,u));case 7:return d=window.sentre.swap,e.next=10,d.getPoolData(a);case 10:return l=e.sent,e.abrupt("return",(0,r.Z)({},a,l));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,c.createAsyncThunk)("".concat(d,"/upsetPool"),function(){var e=(0,a.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,a=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid pool address");case 3:if(a){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,c.createSlice)({name:d,initialState:{},reducers:{},extraReducers:function(e){e.addCase(l.fulfilled,(function(e,t){return t.payload})).addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=h.reducer},33361:function(e,t,n){"use strict";var r=n(15861),a=n(87757),s=n.n(a),i=n(19289),c="search",o=(0,i.createAsyncThunk)("".concat(c,"/setValue"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{value:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=(0,i.createAsyncThunk)("".concat(c,"/setLoading"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{loading:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,i.createAsyncThunk)("".concat(c,"/setDisabled"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{disabled:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,i.createSlice)({name:c,initialState:{value:"",loading:!1,disabled:!1},reducers:{},extraReducers:function(e){e.addCase(o.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(u.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=l.reducer},87482:function(e,t,n){"use strict";var r=n(15861),a=n(87757),s=n.n(a),i=n(19289),c=function(){var e=window.innerWidth;return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":e<1400?"xl":"xxl"},o="ui",u={theme:function(){var e=(new Date).getHours();return e>=6&&e<18?"light":"dark"}(),width:window.innerWidth,infix:c(),touchable:"ontouchstart"in window||navigator.maxTouchPoints>0,visibleActionCenter:!1},d=(0,i.createAsyncThunk)("".concat(o,"/setTheme"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{theme:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,i.createAsyncThunk)("".concat(o,"/resize"),(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.innerWidth,n=c(),e.abrupt("return",{width:t,infix:n});case 3:case"end":return e.stop()}}),e)})))),p=(0,i.createAsyncThunk)("".concat(o,"/setVisibleActionCenter"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visibleActionCenter:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,i.createSlice)({name:o,initialState:u,reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=f.reducer},21028:function(e,t,n){"use strict";var r=n(15861),a=n(87757),s=n.n(a),i=n(19289),c=n(95418),o=n(31633),u=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,i,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.Z.sol,r=n.node,a=n.spltAddress,i=n.splataAddress,u=n.swapAddress,window.sentre={wallet:t,lamports:new c.Lamports(r),splt:new c.SPLT(a,i,r),swap:new c.Swap(u,a,i,r)};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(t=window.sentre)&&void 0!==t&&t.wallet&&window.sentre.wallet.disconnect(),e.next=3,u(void 0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l="wallet",p={visible:!1,address:"",lamports:BigInt(0)},f=(0,i.createAsyncThunk)("".concat(l,"/openWallet"),(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!0});case 1:case"end":return e.stop()}}),e)})))),h=(0,i.createAsyncThunk)("".concat(l,"/closeWallet"),(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!1});case 1:case"end":return e.stop()}}),e)})))),x=(0,i.createAsyncThunk)("".concat(l,"/connectWallet"),function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Invalid wallet instance");case 2:return e.next=4,u(t);case 4:return e.next=6,t.getAddress();case 6:return n=e.sent,e.next=9,window.sentre.lamports.getLamports(n);case 9:return r=e.sent,e.abrupt("return",{address:n,lamports:BigInt(r),visible:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=(0,i.createAsyncThunk)("".concat(l,"/updateWallet"),function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lamports,e.abrupt("return",{lamports:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,i.createAsyncThunk)("".concat(l,"/disconnectWallet"),(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))),v=(0,i.createSlice)({name:l,initialState:p,reducers:{},extraReducers:function(e){e.addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(h.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(x.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(y.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(m.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=v.reducer},21411:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(15861),a=n(15671),s=n(43144),i=n(87757),c=n.n(i),o=n(15822),u=n(85964),d=n(67751),l=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,null,[{key:"getSingleFlight",value:function(e){var t=JSON.stringify(e);if(this.mapInstance.has(t)){var n=this.mapInstance.get(t);if(n)return n}var r=new p(e);return this.mapInstance.set(t,r),r}},{key:"load",value:function(){var t=(0,r.Z)(c().mark((function t(n,r){var a,s,i,o=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:{},"object"===typeof n&&(n=JSON.stringify(n)),s=e.getSingleFlight(a),e.mapInstance.set(n,s),i=new u.g(n),t.abrupt("return",s.load(i,r));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();l.mapInstance=new Map;var p=function(){function e(t){(0,a.Z)(this,e),this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(o.Dt,t)}return(0,s.Z)(e,[{key:"load",value:function(){var e=(0,r.Z)(c().mark((function e(t,n){var r,a,s,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.U.get(t.key))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return a=!1,(s=this.mapRequestCalling.get(t.key))||(s=t,a=!0,this.mapRequestCalling.set(s.key,s)),e.abrupt("return",new Promise((function(e,t){if(!s)return t("Not found request!");s.add(e,t),a&&i.fetch(s,n)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e,t){var n=this;if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((function(t){d.U.set(e.key,t,n.config.cache),e.resolves(t)})).catch((function(t){e.rejects(t)})).finally((function(){n.mapRequestCalling.delete(e.key),n.fetchRequestQueue(t)}))}},{key:"fetchRequestQueue",value:function(e){if(this.validateLimit()){var t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}}},{key:"addRequestQueue",value:function(e,t){var n,r=this;this.requestQueue.push(e),this.intervalRequest=setInterval((function(){r.fetchRequestQueue(t)}),null===(n=this.config.limit)||void 0===n?void 0:n.time)}},{key:"validateLimit",value:function(){if(!this.config.limit)return!1;var e=this.timeLogs[0]||0,t=(new Date).getTime();return this.timeLogs.length<this.config.limit.calls||t-e>this.config.limit.time}},{key:"createTimeLogs",value:function(){var e;if(this.config.limit){var t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}}]),e}()},3007:function(e,t,n){"use strict";var r=n(37762),a=n(15861),s=n(43144),i=n(15671),c=n(87757),o=n.n(c),u=n(15454),d=n.n(u),l=n(95418),p=n(83868),f=(0,s.Z)((function e(t){var n=this;if((0,i.Z)(this,e),this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=function(e){return d().createInstance({driver:n.driver,name:n.dbName,storeName:e})},this.dropInstance=function(){var e=(0,a.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.createInstance(t),e.next=3,r.clear();case 3:return e.next=5,d().dropInstance({name:n.dbName,storeName:t});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.all=(0,a.Z)(o().mark((function e(){var t,a,s,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,n.createInstance("sentre").getItem("appIds");case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:a=e.t0.flat().concat(["sentre"]),s=(0,r.Z)(a),e.prev=8,c=o().mark((function e(){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.value,t[r]={},a=n.createInstance(r),e.next=5,a.iterate((function(e,n){t[r][n]=e}));case 5:case"end":return e.stop()}}),e)})),s.s();case 11:if((i=s.n()).done){e.next=15;break}return e.delegateYield(c(),"t1",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(8),s.e(e.t2);case 20:return e.prev=20,s.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,23]])}))),this.fetch=function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ipfs.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.backup=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.all();case 2:return t=e.sent,e.next=5,n.ipfs.set(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),this.restore=function(){var e=(0,a.Z)(o().mark((function e(t){var r,a,s,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetch(t);case 2:r=e.sent,e.t0=o().keys(r);case 4:if((e.t1=e.t0()).done){e.next=19;break}return a=e.t1.value,e.next=8,n.createInstance(a);case 8:s=e.sent,e.t2=o().keys(r[a]);case 10:if((e.t3=e.t2()).done){e.next=17;break}return i=e.t3.value,c=r[a][i],e.next=15,s.setItem(i,c);case 15:e.next=10;break;case 17:e.next=4;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!l.account.isAddress(t))throw new Error("Invalid address");this.dbName=t,this.driver=[d().WEBSQL,d().LOCALSTORAGE],this.ipfs=new p.Z}));t.Z=f},63805:function(e,t,n){"use strict";n.d(t,{OB:function(){return a},ef:function(){return s}});var r=n(53933),a="production",s=function(){switch(r.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}}()},88677:function(){},28608:function(){},80950:function(){},8623:function(){},7748:function(){},34845:function(){},56619:function(){},77108:function(){},33370:function(){},43503:function(){},55896:function(){},87500:function(){}}]);
//# sourceMappingURL=766.49b89cde.chunk.js.map