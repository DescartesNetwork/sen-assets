(globalThis.webpackChunksen_assets=globalThis.webpackChunksen_assets||[]).push([[352],{5905:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FrameWormhole:()=>Wn,Page:()=>Rn});var s=n(55754),a=n(15780),r=n(92950),i=n(44891),o=n(99019),l=n(95418);const c={"logo-telegram":n.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"};var d=n(45263);const u=(0,r.forwardRef)(((e,t)=>{let{name:n,className:s,...a}=e;const r=s?"anticon "+s:"anticon";return(0,d.jsx)("span",{className:r,...a,children:c[n]?(0,d.jsx)("ion-icon",{ref:t,src:c[n]}):(0,d.jsx)("ion-icon",{ref:t,name:n})})})),p=[void 0],y=e=>{let{mintAddress:t,size:n=24,icon:s=(0,d.jsx)(u,{name:"diamond-outline"}),reversed:i=!1,...c}=e;const[y,h]=(0,r.useState)(p),{tokenProvider:m}=(0,a.useMint)(),{pools:g}=(0,a.usePool)(),w=(0,r.useCallback)((async e=>{const t=await m.findByAddress(e);if(null!==t&&void 0!==t&&t.logoURI)return t.logoURI}),[m]),f=(0,r.useCallback)((async()=>{if(!l.account.isAddress(t))return h(p);const e=Object.values(g).find((e=>{let{mint_lpt:n}=e;return n===t}));if(e){const{mint_a:t,mint_b:n}=e,s=await Promise.all([t,n].map(w));return i&&s.reverse(),h(s)}const n=await w(t);return h([n])}),[t,i,w,g]);return(0,r.useEffect)((()=>{f()}),[f]),1===y.length?(0,d.jsx)(o.Avatar,{src:y[0],size:n,style:{backgroundColor:"#2D3355",border:"none"},...c,children:s}):(0,d.jsx)(o.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},...c,children:y.map(((e,t)=>(0,d.jsx)(o.Avatar,{src:e,size:n,style:{backgroundColor:"#2D3355",border:"none"},children:s},t)))})},h="Unknown Token",m=e=>{let{mintAddress:t,separator:n=" \u2022 ",reversed:s=!1}=e;const[i,o]=(0,r.useState)(h),{tokenProvider:c}=(0,a.useMint)(),{pools:u}=(0,a.usePool)(),p=(0,r.useCallback)((async e=>{const t=await c.findByAddress(e);return null!==t&&void 0!==t&&t.name?t.name:h}),[c]),y=(0,r.useCallback)((async()=>{if(!l.account.isAddress(t))return o(h);const e=Object.values(u).find((e=>{let{mint_lpt:n}=e;return n===t}));if(e){const{mint_a:t,mint_b:a}=e,r=await Promise.all([t,a].map(p));return s&&r.reverse(),o(`${r.join(n)} LP`)}const a=await p(t);return o(a)}),[t,s,p,u,n]);return(0,r.useEffect)((()=>{y()}),[y]),(0,d.jsx)("span",{children:i})},g="TOKN",w=e=>{let{mintAddress:t,separator:n=" \u2022 ",reversed:s=!1}=e;const[i,o]=(0,r.useState)(g),{tokenProvider:c}=(0,a.useMint)(),{pools:u}=(0,a.usePool)(),p=(0,r.useCallback)((async e=>{const t=await c.findByAddress(e);return null!==t&&void 0!==t&&t.symbol?t.symbol:e.substring(0,4)}),[c]),y=(0,r.useCallback)((async()=>{if(!l.account.isAddress(t))return o(g);const e=Object.values(u).find((e=>{let{mint_lpt:n}=e;return n===t}));if(e){const{mint_a:t,mint_b:a}=e,r=await Promise.all([t,a].map(p));return s&&r.reverse(),o(r.join(n))}const a=await p(t);return o(a)}),[t,s,p,u,n]);return(0,r.useEffect)((()=>{y()}),[y]),(0,d.jsx)("span",{children:i})};var f=n(34559);const x={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},T=e=>{const[t,n]=(0,r.useState)(x),{tokenProvider:s}=(0,a.useMint)(),i=(0,r.useCallback)((async()=>{try{var t;const a=await s.findByAddress(e),r=null===a||void 0===a||null===(t=a.extensions)||void 0===t?void 0:t.coingeckoId,i=await(0,f.l$)(r);return n(i)}catch(a){return n(x)}}),[e,s]);return(0,r.useEffect)((()=>{i()}),[i]),t},b={up:"#14E041",down:"#D72311",default:"#FFC580"},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const n=Object.assign({...b},t);return e<0?n.down:e>0?n.up:n.default},v=e=>{let{mintAddress:t,colorized:n=!1,configs:s}=e;const a=T(t),r=j(null===a||void 0===a?void 0:a.priceChange,s);return(0,d.jsxs)("span",{style:{color:n?r:"inherit"},children:[(0,f.uR)(Math.abs(null===a||void 0===a?void 0:a.priceChange)).format("0.[0]"),"%"]})},C=e=>{let{mintAddress:t,colorized:n=!1,configs:s}=e;const a=T(t),r=j(null===a||void 0===a?void 0:a.priceChange,s);let i="remove-outline";return(null===a||void 0===a?void 0:a.priceChange)<0&&(i="arrow-down-outline"),(null===a||void 0===a?void 0:a.priceChange)>0&&(i="arrow-up-outline"),(0,d.jsx)("span",{style:{color:n?r:"inherit"},children:(0,d.jsx)(u,{name:i})})},k=e=>{let{mintAddress:t,colorized:n=!1,configs:s}=e;const a=T(t),r=j(null===a||void 0===a?void 0:a.priceChange,s);return(0,d.jsx)("span",{style:{color:n?r:"inherit"},children:null!==a&&void 0!==a&&a.price?`$${(0,f.uR)(null===a||void 0===a?void 0:a.price).format("0,0.[00]")}`:"--"})},S="11111111111111111111111111111111",A="So11111111111111111111111111111111111111112",I=e=>{const[t,n]=(0,r.useState)(void 0),{getDecimals:s}=(0,a.useMint)(),i=(0,r.useCallback)((async()=>{try{const t=await s(e);return n(t)}catch(t){return n(void 0)}}),[e,s]);return(0,r.useEffect)((()=>{i()}),[i]),t},N=e=>{const{accounts:t}=(0,a.useAccount)(),{wallet:n}=(0,a.useWallet)(),{amount:s,mint:i}=(0,r.useMemo)((()=>e===n.address?{amount:n.lamports,mint:S}:t[e]||{}),[e,t,n.address,n.lamports]),o=I(i)||0;return(0,r.useMemo)((()=>({balance:l.utils.undecimalize(s,o),mint:i,amount:s,decimals:o})),[s,o,i])},M=e=>{let{accountAddr:t,inUSD:n=!1,autoHidden:s=!1,format:a="0,0.[00]",maxLength:i=6,sortFormat:o="0,0.[00]a"}=e;const{amount:c,mint:u,decimals:p}=N(t),y=T(u),h=(0,r.useMemo)((()=>{let e=Number(l.utils.undecimalize(c,p));n&&(e=Number(e)*y.price);const t=n?"$":"";let s=(0,f.uR)(e).format(a);return s.replace(/\D/g,"").length>i&&(s=(0,f.uR)(e).format(o)),t+s}),[c,y.price,p,a,n,i,o]);return s&&!y.price?(0,d.jsx)("span",{children:"--"}):(0,d.jsx)("span",{children:h})},R=e=>{var t;let{accountAddr:n,active:s=!1,onClick:r=(()=>{})}=e;const{accounts:i}=(0,a.useAccount)(),l=null===(t=i[n])||void 0===t?void 0:t.mint;return(0,d.jsx)(o.Card,{className:"account-item "+(s?"active":""),bodyStyle:{padding:12},hoverable:!0,onClick:()=>r(n),children:(0,d.jsxs)(o.Row,{children:[(0,d.jsx)(o.Col,{span:13,children:(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(y,{mintAddress:l,size:32}),(0,d.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,d.jsx)(o.Typography.Text,{children:(0,d.jsx)(w,{mintAddress:l})}),(0,d.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:(0,d.jsx)(m,{mintAddress:l})})]})]})}),(0,d.jsx)(o.Col,{span:5,style:{height:"100%"},children:(0,d.jsxs)(o.Space,{direction:"vertical",size:0,align:"end",style:{width:"100%"},children:[(0,d.jsx)(o.Typography.Text,{children:(0,d.jsx)(M,{accountAddr:n})}),(0,d.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:(0,d.jsx)(M,{accountAddr:n,inUSD:!0,autoHidden:!0})})]})}),(0,d.jsx)(o.Col,{span:6,children:(0,d.jsxs)(o.Space,{direction:"vertical",size:0,align:"end",style:{width:"100%"},children:[(0,d.jsx)(o.Typography.Text,{children:(0,d.jsxs)(o.Space,{size:2,children:[(0,d.jsx)(C,{mintAddress:l,colorized:!0}),(0,d.jsx)(v,{mintAddress:l,colorized:!0})]})}),(0,d.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:(0,d.jsx)(k,{mintAddress:l})})]})})]})})},W=e=>{let{onChange:t}=e;const{hiddenZeros:n,hiddenUnknownTokens:i}=(0,s.useSelector)((e=>e.settings)),[l,c]=(0,r.useState)(""),{accounts:p}=(0,a.useAccount)(),{tokenProvider:y}=(0,a.useMint)(),{pools:h}=(0,a.usePool)(),m=(0,r.useCallback)((async e=>{const{mint:t,amount:s}=e;if(!s&&n)return!1;if(await y.findByAddress(t))return!0;for(const n of Object.values(h))if(n.mint_lpt===t)return!0;return!i}),[i,n,h,y]),g=(0,r.useCallback)((async()=>{const e={};for(const t in p){const n=p[t];if(l&&l.length>2){if(!(await y.find(l)).map((e=>e.address)).includes(n.mint))continue}await m(n)&&(e[t]=n)}return t(e)}),[p,l,t,y,m]);return(0,r.useEffect)((()=>{g()}),[g]),(0,d.jsx)(o.Row,{gutter:[16,16],children:(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Input,{placeholder:"Search",value:l,size:"large",style:{background:"transparent"},prefix:(0,d.jsx)(o.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:l?()=>c(""):()=>{},icon:(0,d.jsx)(u,{name:l?"close-outline":"search-outline"})}),onChange:e=>c(e.target.value)})})})},E=e=>{let{onClick:t=(()=>{}),active:n=!1}=e;const{wallet:{address:s,lamports:r}}=(0,a.useWallet)(),i=l.utils.undecimalize(r,9);return(0,d.jsx)(o.Card,{className:"account-item "+(n?"active":""),bodyStyle:{padding:"8px 12px",cursor:"pointer"},onClick:()=>t(s),hoverable:!0,children:(0,d.jsx)(o.Row,{gutter:[12,8],align:"middle",wrap:!1,children:(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsxs)(o.Space,{style:{whiteSpace:"nowrap"},children:[(0,d.jsx)(y,{mintAddress:S,size:22}),(0,d.jsxs)(o.Tooltip,{title:`${i} SOL`,children:[(0,d.jsxs)(o.Typography.Text,{children:[(0,d.jsx)(M,{accountAddr:s})," "]}),(0,d.jsx)(o.Typography.Text,{type:"secondary",children:"SOL"})]}),(0,d.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),(0,d.jsx)(o.Typography.Text,{children:(0,d.jsx)(M,{accountAddr:s,inUSD:!0})})]})})})})};var B=n(19289);const D="account",z=(0,B.createAsyncThunk)("account/selectAccount",(async e=>{let{account:t}=e;return{accountSelected:t}})),P=(0,B.createSlice)({name:D,initialState:{accountSelected:""},reducers:{},extraReducers:e=>{e.addCase(z.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer;var O=n(15190);const U={appId:"sen_assets",url:"https://descartesnetwork.github.io/sen-assets/index.js"},H={devnet:{node:"https://api.devnet.solana.com",sntrAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ"},testnet:{node:"https://api.testnet.solana.com",sntrAddress:""},mainnet:{node:"https://api.mainnet-beta.solana.com",sntrAddress:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M"}},Z={manifest:{development:{...U},staging:{...U},production:{...U}}[O.OB],sol:H[O.ef]},{sol:{sntrAddress:F}}=Z,G=()=>{const e=(0,s.useDispatch)(),{accountSelected:t}=(0,s.useSelector)((e=>e.account)),{tokenProvider:n}=(0,a.useMint)(),{wallet:l}=(0,a.useWallet)(),[c,u]=(0,r.useState)([]),p=(0,r.useCallback)((async e=>{const t=[],s=[];for(const a in e){const r=e[a],i=await n.findByAddress(r.mint),o=await n.findByAddress(F);i?i.symbol===(null===o||void 0===o?void 0:o.symbol)?s.push(a):t.unshift(a):t.push(a)}return u([...s,...t])}),[n]);return(0,r.useEffect)((()=>{t||e(z({account:l.address}))}),[t,e,l.address]),(0,d.jsxs)(o.Row,{gutter:[12,12],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(W,{onChange:p})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(E,{active:t===l.address,onClick:t=>e(z({account:t}))})}),c.map((n=>(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(i.ZP,{height:68,offset:150,overflow:!0,children:(0,d.jsx)(R,{accountAddr:n,active:t===n,onClick:t=>e(z({account:t}))})})},n)))]})},L=(e,t)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open((0,f.kU)(t),"_blank")}),Q=e=>window.notify({type:"error",description:e.message}),J=e=>{let{mint:t}=e;const{logoURI:n,symbol:s,name:i,address:c}=t,[p,y]=(0,r.useState)(!1),{wallet:{address:h}}=(0,a.useWallet)(),{accounts:m}=(0,a.useAccount)();return(0,r.useEffect)((()=>{(async()=>{const{splt:e}=window.sentre,t=await e.deriveAssociatedAddress(h,c);y(Object.keys(m).includes(t))})()}),[m,c,h]),(0,d.jsx)(o.Card,{className:"account-item",bodyStyle:{padding:16},bordered:!1,children:(0,d.jsxs)(o.Row,{gutter:[16,16],wrap:!1,children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(o.Avatar,{src:n}),(0,d.jsx)(o.Typography.Text,{type:"secondary",children:s}),(0,d.jsx)(o.Typography.Text,{children:i})]})}),(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Button,{type:"text",style:{color:p?"#3DBA4E":"inherit"},icon:(0,d.jsx)(u,{name:p?"checkmark-outline":"add-outline"}),onClick:async()=>{try{const{splt:e,wallet:t}=window.sentre;if(!l.account.isAddress(h)||!t)throw new Error("Wallet is not connected");if(p)throw new Error("The token had been imported");if(!l.account.isAddress(c))throw new Error("Please select the token first");const{txId:n}=await e.initializeAccount(c,h,t);return L(`Import ${s}`,n)}catch(e){return Q(e)}}})})]})})};let $;const q=e=>{let{onChange:t}=e;const[n,s]=(0,r.useState)(!1),[i,l]=(0,r.useState)(""),{tokenProvider:c}=(0,a.useMint)(),p=(0,r.useCallback)((async()=>{if(!i||i.length<3)return t(null);$&&clearTimeout($),$=setTimeout((async()=>{await s(!0);const e=await c.find(i);return await s(!1),t(e)}),500)}),[i,t,c]);return(0,r.useEffect)((()=>{p()}),[p]),(0,d.jsx)(o.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,d.jsx)(o.Input,{placeholder:"Search",value:i,size:"small",bordered:!1,prefix:(0,d.jsx)(o.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:i?()=>l(""):()=>{},icon:(0,d.jsx)(u,{name:i?"close-outline":"search-outline"}),loading:n}),onChange:e=>l(e.target.value)})})},_=()=>{const[e,t]=(0,r.useState)(!1),[n,s]=(0,r.useState)(),[l,c]=(0,r.useState)(),{tokenProvider:p}=(0,a.useMint)();return(0,r.useEffect)((()=>{(async()=>{const e=await p.all();s(e)})()}),[p]),(0,d.jsxs)(o.Row,{gutter:[16,16],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Button,{type:"primary",icon:(0,d.jsx)(u,{name:"add-outline"}),onClick:()=>t(!0),block:!0,children:"Import token"})}),(0,d.jsx)(o.Modal,{visible:e,onCancel:()=>t(!1),closeIcon:(0,d.jsx)(u,{name:"close-outline"}),footer:null,centered:!0,destroyOnClose:!0,children:(0,d.jsxs)(o.Row,{gutter:[16,16],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Typography.Title,{level:5,children:"Import Tokens"})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(q,{onChange:c})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Row,{gutter:[16,16],style:{maxHeight:300},className:"scrollbar",children:(l||n||[]).map(((e,t)=>(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(i.ZP,{height:64,overflow:!0,children:(0,d.jsx)(J,{mint:e})})},t)))})})]})})]})},K="settings",Y=(0,B.createAsyncThunk)("settings/setHiddenZeros",(async(e,t)=>{let{checked:n}=e,{getState:s}=t;const{settings:a}=s();return{...a,hiddenZeros:n}})),V=(0,B.createAsyncThunk)("settings/setHiddenUnknownTokens",(async(e,t)=>{let{checked:n}=e,{getState:s}=t;const{settings:a}=s();return{...a,hiddenUnknownTokens:n}})),X=(0,B.createSlice)({name:K,initialState:{hiddenZeros:!1,hiddenUnknownTokens:!0},reducers:{},extraReducers:e=>{e.addCase(Y.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(V.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,ee=()=>{const e=(0,s.useDispatch)(),{settings:{hiddenZeros:t,hiddenUnknownTokens:n}}=(0,s.useSelector)((e=>e));return(0,d.jsx)(o.Popover,{zIndex:1e3,content:(0,d.jsxs)(o.Row,{gutter:[8,8],style:{maxWidth:224},children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Space,{size:"large",children:[(0,d.jsx)(o.Switch,{size:"small",checked:t,onChange:t=>e(Y({checked:t}))}),(0,d.jsx)(o.Typography.Text,{children:"Hide zero balances"})]})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Space,{size:"large",children:[(0,d.jsx)(o.Switch,{size:"small",checked:n,onChange:t=>e(V({checked:t}))}),(0,d.jsx)(o.Typography.Text,{children:"Hide unknown tokens"})]})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(_,{})})]}),trigger:"click",placement:"topRight",children:(0,d.jsx)(u,{style:{cursor:"pointer"},name:"cog-outline"})})},te=()=>(0,d.jsx)(o.Card,{className:"card-page card-sen-assets scrollbar",children:(0,d.jsxs)(o.Row,{gutter:[24,24],align:"middle",children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsx)(o.Typography.Title,{level:4,children:"Sen Assets"})}),(0,d.jsx)(o.Col,{children:(0,d.jsx)(ee,{})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(G,{})})]})});var ne=n(17134),se=n(51518),ae=n.n(se);const re=(0,r.forwardRef)(((e,t)=>{let{name:n,color:s="#BEC4EC",onClick:a=(()=>{}),...r}=e;return(0,d.jsx)("span",{onClick:a,style:{cursor:"pointer",color:s},...r,ref:t,children:(0,d.jsx)(u,{name:n})})})),ie=e=>{let{address:t}=e;return(0,d.jsx)(o.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,d.jsx)(ne.Qd,{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,d.jsx)(re,{name:"qr-code-outline"})})},oe=()=>{const{wallet:{address:e}}=(0,a.useWallet)(),[t,n]=(0,r.useState)(!1),s=async()=>{n(!0),setTimeout((()=>{n(!1)}),1500)};return(0,d.jsxs)(o.Space,{size:10,children:[(0,d.jsx)(o.Typography.Text,{style:{color:"#E9E9EB",cursor:"pointer"},onClick:()=>window.open((0,f.kU)(e),"_blank"),children:(0,f.Xn)(e,3,"...")}),(0,d.jsx)(o.Tooltip,{title:"Copied",visible:t,children:(0,d.jsx)(ae(),{text:e,onCopy:s,children:(0,d.jsx)(re,{name:"copy-outline",onClick:s})})}),(0,d.jsx)(ie,{address:e})]})},le=e=>{let{mintAddress:t}=e;return(0,d.jsxs)(o.Row,{children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(y,{mintAddress:t}),(0,d.jsx)(o.Typography.Title,{className:"title-color",level:5,children:(0,d.jsx)(w,{mintAddress:t})}),(0,d.jsx)(o.Tooltip,{title:`Mint Address: ${t}`,children:(0,d.jsx)(re,{name:"information-circle-outline"})})]})}),(0,d.jsx)(o.Col,{children:(0,d.jsxs)(o.Space,{size:1,align:"end",children:[(0,d.jsx)(C,{mintAddress:t,colorized:!0}),(0,d.jsx)(v,{mintAddress:t,colorized:!0}),(0,d.jsx)(o.Divider,{type:"vertical",style:{padding:0,borderLeft:"1px solid #BEC4EC"}}),(0,d.jsx)(o.Typography.Text,{className:"text-color",children:(0,d.jsx)(k,{mintAddress:t})})]})})]})},ce=()=>{const{accountSelected:e}=(0,s.useSelector)((e=>e.account)),{mint:t}=N(e);return(0,d.jsxs)(o.Row,{className:"header-balance",gutter:[16,16],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Row,{children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsx)(o.Typography.Text,{className:"text-secondary",children:"Your balance"})}),(0,d.jsx)(o.Col,{children:(0,d.jsx)(oe,{})})]})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Row,{gutter:[8,8],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(le,{mintAddress:t})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Space,{align:"baseline",children:[(0,d.jsx)(o.Typography.Title,{className:"title-color",level:3,children:(0,d.jsx)(M,{accountAddr:e})}),(0,d.jsxs)(o.Typography.Text,{className:"text-secondary",children:["~",(0,d.jsx)(M,{accountAddr:e,inUSD:!0})]})]})})]})})]})};let de;const ue=(0,r.forwardRef)(((e,t)=>{var n;let{max:s,onValue:a=(()=>{}),onChange:i=(()=>{}),...l}=e;const[c,p]=(0,r.useState)(""),[y,h]=(0,r.useState)(null),m=(0,r.useRef)(t),g=(0,r.useCallback)((e=>{const t=e=>{de&&(clearTimeout(de),de=void 0),p(e),de=setTimeout((()=>p("")),500)};return/^\d*(\.\d*)?$/.test(e)?s&&parseFloat(e)>parseFloat(s.toString())?t("Not enough balance"):a(e):t("Invalid character")}),[s,a]);return null!==y&&(null===m||void 0===m||null===(n=m.current)||void 0===n||n.setSelectionRange(y,y)),(0,d.jsx)(o.Tooltip,{title:(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(u,{name:"warning"}),c]}),visible:!!c,children:(0,d.jsx)(o.Input,{...l,onChange:e=>{i(e),h(e.target.selectionStart),g(e.target.value||"")},ref:m})})})),pe=e=>{let{accountAddr:t,onChange:n,value:s}=e;const a=N(t);return(0,d.jsxs)(o.Row,{gutter:[8,8],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Typography.Text,{children:"Amount"})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(ue,{placeholder:"0",prefix:(0,d.jsx)(o.Typography.Text,{type:"secondary",children:(0,d.jsx)(w,{mintAddress:a.mint})}),suffix:(0,d.jsx)(o.Button,{type:"text",style:{marginRight:-7},onClick:()=>n(a.balance),children:"MAX"}),value:s,onValue:n,max:a.balance})})]})},ye=e=>{let{onChange:t,value:n}=e;const{wallet:{address:s}}=(0,a.useWallet)();return(0,d.jsxs)(o.Row,{gutter:[8,8],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Typography.Text,{children:"Receiver Address"})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Input,{size:"large",placeholder:`${s.substring(0,12)}...`,value:n,onChange:e=>t(e.target.value)})})]})},he=e=>{let{accountAddr:t}=e;const[n,s]=(0,r.useState)(""),{mint:a,decimals:i}=N(t),[c,u]=(0,r.useState)(!1),[p,y]=(0,r.useState)("");return(0,d.jsxs)(o.Row,{gutter:[16,16],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(ye,{onChange:s,value:n})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(pe,{accountAddr:t,onChange:y,value:p})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Button,{type:"primary",onClick:async()=>{u(!0);try{const{splt:e,wallet:r,lamports:o}=window.sentre;if(!r)return;const c=l.utils.decimalize(p,i);if(a===S){const e=await o.transfer(c,n,r);return L("Transfer",e)}const d=await(async()=>{const{splt:e,wallet:t}=window.sentre;if(!t)throw new Error("Wallet is not connected");let s="";try{await e.getAccountData(s),s=n}catch(r){const{accountAddress:i}=await e.initializeAccount(a,n,t);s=i}finally{return s}})();if(!d)throw new Error("Invalid destination address");const{txId:h}=await e.transfer(c,t,d,r);return y(""),s(""),L("Transfer",h)}catch(e){Q(e)}finally{u(!1)}},block:!0,loading:c,disabled:!Number(p)||!l.account.isAddress(n),children:"Transfer"})})]})},me=e=>{const[t,n]=(0,r.useState)(!1);return(0,d.jsx)(o.Input,{...e,suffix:(0,d.jsx)(o.Tooltip,{title:"Copied",visible:t,children:(0,d.jsx)(ae(),{text:String(e.value),onCopy:async()=>{n(!0),await(0,f.sA)(1500),n(!1)},children:(0,d.jsx)(o.Button,{type:"text",size:"small",icon:(0,d.jsx)(u,{name:"copy-outline"})})})})})},ge=e=>{let{accountAddr:t}=e;const{accounts:n}=(0,a.useAccount)(),{wallet:s}=(0,a.useWallet)(),[i,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),p=(0,r.useCallback)((async()=>{if(!i||t===s.address)return u(s.address);const e=window.sentre.splt,a=n[t].mint,r=await e.deriveAssociatedAddress(s.address,a);return u(r)}),[t,n,i,s.address]);return(0,r.useEffect)((()=>{p()}),[p]),(0,d.jsxs)(o.Row,{justify:"center",gutter:[16,16],children:[(0,d.jsx)(o.Col,{style:{background:"#f4f4f5",paddingTop:8},children:(0,d.jsx)(ne.ZP,{value:c,size:110,bgColor:"#ffffff",fgColor:"#1f1f1f"})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Row,{gutter:[8,8],children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsx)(o.Typography.Text,{children:i?"Associated account address":"Wallet address"})}),(0,d.jsx)(o.Col,{children:t!==s.address&&(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(o.Typography.Text,{children:"Developer mode"}),(0,d.jsx)(o.Switch,{size:"small",checked:i,onChange:l})]})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(me,{size:"large",value:c})})]})})]})},we=BigInt(2039280),fe=()=>{const e=(0,s.useDispatch)(),[t,n]=(0,r.useState)(""),[i,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(""),{wallet:{address:y}}=(0,a.useWallet)(),h=N(u),m=N(y),g=void 0===h.amount,f=l.utils.undecimalize(h.amount,h.decimals),x=(0,r.useMemo)((()=>{const e=Number(m.balance),t=Number(l.utils.undecimalize(BigInt(1e8)+we,9))+1e-5;return e<=t?0:e-t}),[m.balance]);(0,r.useEffect)((()=>{(async()=>{const{splt:e}=window.sentre,t=await e.deriveAssociatedAddress(y,l.DEFAULT_WSOL);p(t)})()}),[y]),(0,r.useEffect)((()=>n(g?"":f)),[g,f]);const T=()=>(0,d.jsx)(r.Fragment,{children:(0,d.jsxs)("ul",{style:{paddingLeft:16},children:[(0,d.jsx)("li",{children:(0,d.jsx)(o.Typography.Text,{type:"secondary",children:"To wrap SOL you have to deposit an extra fee equal to 0.00203928 SOL."})}),(0,d.jsx)("li",{children:(0,d.jsx)(o.Typography.Text,{type:"secondary",children:"The fee mentioned above will return when you unwrap."})})]})}),b=()=>(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(o.Typography.Text,{type:"secondary",children:"Due to technical limitations, it only allows:"}),(0,d.jsxs)("ul",{style:{paddingLeft:16},children:[(0,d.jsx)("li",{children:(0,d.jsx)(o.Typography.Text,{type:"secondary",children:"Unwrap all at once."})}),(0,d.jsx)("li",{children:(0,d.jsx)(o.Typography.Text,{type:"secondary",children:"To increase/decrease the WSOL balance, unwrap all first then re-wrap your desired number."})})]})]});return(0,d.jsxs)(o.Row,{gutter:[18,18],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Row,{gutter:[8,8],children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsx)(o.Typography.Text,{children:g?"Wrap Amount":"Unwrap amount"})}),(0,d.jsx)(o.Col,{children:(0,d.jsxs)(o.Space,{size:4,children:[(0,d.jsx)(o.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Available:"}),(0,d.jsxs)(o.Typography.Text,{style:{fontSize:12},children:[g?m.balance:f," SOL"]})]})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(ue,{placeholder:"0",size:"large",prefix:(0,d.jsx)(w,{mintAddress:g?m.mint:h.mint}),suffix:g&&(0,d.jsx)(o.Button,{type:"text",style:{padding:0,height:"auto"},onClick:()=>n(`${x}`),children:"MAX"}),value:t,onValue:n,max:x,disabled:!g})})]})}),(0,d.jsx)(o.Col,{span:24,children:g?(0,d.jsx)(o.Button,{type:"primary",onClick:async()=>{c(!0);try{const{splt:e,wallet:n}=window.sentre;if(!n)throw new Error("Wallet is not connected");const s=l.utils.decimalize(Number(t),9),{txId:a}=await e.wrap(s+we,y,n);L(`Wrap ${t} SOL`,a)}catch(e){return Q(e)}finally{c(!1)}},block:!0,loading:i,children:"Wrap"}):(0,d.jsx)(o.Button,{type:"primary",onClick:async()=>{c(!0);try{const{splt:t,wallet:n}=window.sentre;if(!n)throw new Error("Wallet is not connected");const{txId:s}=await t.unwrap(n);return await e(z({account:y})),L(`Unwrap ${h.balance} SOL`,s)}catch(t){return Q(t)}finally{c(!1)}},block:!0,loading:i,children:"Unwrap"})}),(0,d.jsx)(o.Col,{span:24,style:{fontSize:12},children:g?(0,d.jsx)(T,{}):(0,d.jsx)(b,{})})]})},xe=e=>{let{accountAddr:t}=e;const n=(0,s.useDispatch)(),{accounts:r}=(0,a.useAccount)(),i=r[t]||{};return(0,d.jsxs)(o.Row,{gutter:[16,16],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Card,{bordered:!1,className:"close-account",children:(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(u,{name:"alert-circle-outline"}),(0,d.jsx)(o.Typography.Text,{children:"Please transfer out all tokens in this account before closing!"})]})})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Button,{type:"primary",onClick:async()=>{try{const{splt:e,wallet:s}=window.sentre;if(!s)return;const{txId:a}=await e.closeAccount(t,s);await window.notify({type:"success",description:`Close ${(0,f.Xn)(t)} successfully. Click to view details.`,onClick:()=>window.open((0,f.kU)(a),"_blank")}),n(z({account:l.DEFAULT_EMPTY_ADDRESS}))}catch(e){return window.notify({type:"error",description:"error"})}},disabled:Boolean(i.amount),block:!0,children:"Close Account"})})]})},Te=()=>{const[e,t]=(0,r.useState)(""),{accountSelected:n}=(0,s.useSelector)((e=>e.account)),{mint:a}=N(n),i=[S,A].includes(a);return(0,r.useEffect)((()=>t("Send")),[n]),(0,d.jsx)(o.Card,{bordered:!1,style:{marginTop:-20,boxShadow:"none"},bodyStyle:{padding:0},children:(0,d.jsxs)(o.Tabs,{activeKey:e,onChange:t,style:{padding:16,paddingTop:4},children:[(0,d.jsx)(o.Tabs.TabPane,{tab:"Send",children:(0,d.jsx)(he,{accountAddr:n})},"Send"),(0,d.jsx)(o.Tabs.TabPane,{tab:"Receive",children:(0,d.jsx)(ge,{accountAddr:n})},"Receive"),(0,d.jsx)(o.Tabs.TabPane,{tab:"Wrap/Unwrap",disabled:!i,children:(0,d.jsx)(fe,{})},"Wrap/Unwrap"),(0,d.jsx)(o.Tabs.TabPane,{tab:"Close",disabled:a===S,children:(0,d.jsx)(xe,{accountAddr:n})},"Close")]})})},be=()=>(0,d.jsx)(o.Card,{className:"card-page",bodyStyle:{padding:0},style:{overflow:"hidden"},children:(0,d.jsxs)(o.Row,{children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(ce,{})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(Te,{})})]})});var je=n(14393);const ve=e=>{let{chainId:t,size:n=24}=e;const s=je.vz.find((e=>e.chainID===t));return(0,d.jsx)(o.Avatar,{src:null===s||void 0===s?void 0:s.logo,size:n,style:{border:"none"}})},Ce=e=>{let{chainId:t}=e;const n=je.vz.find((e=>e.chainID===t));return(0,d.jsx)("span",{children:null===n||void 0===n?void 0:n.name})},ke=()=>{const{sourceChain:e,sourceWalletAddress:t,targetChain:n,targetWalletAddress:a}=(0,s.useSelector)((e=>e.wormhole));return(0,d.jsxs)(o.Row,{gutter:[16,16],align:"middle",style:{padding:16},children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,d.jsxs)(o.Typography.Title,{level:5,children:[(0,d.jsx)(Ce,{chainId:e})," Network"]}),(0,d.jsx)(o.Typography.Text,{children:(0,f.Xn)(t)})]})}),(0,d.jsx)(o.Col,{children:(0,d.jsxs)(o.Space,{direction:"vertical",size:0,align:"end",children:[(0,d.jsxs)(o.Typography.Title,{level:5,children:[(0,d.jsx)(Ce,{chainId:n})," Network"]}),(0,d.jsx)(o.Typography.Text,{children:(0,f.Xn)(a)})]})})]})};var Se=n(28151);const Ae=e=>{let{percent:t=100}=e;return(0,d.jsx)(o.Row,{children:(0,d.jsx)(o.Col,{className:"progress",span:24,children:(0,d.jsx)("span",{className:"progress-bar",style:{width:`${t}%`}})})})};var Ie=n(6947),Ne=n(34545);const Me=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldContract",type:"address"},{indexed:!0,internalType:"address",name:"newContract",type:"address"}],name:"ContractUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"WETH",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"attestToken",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint16",name:"chainId_",type:"uint16"}],name:"bridgeContracts",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"completeTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"completeTransferAndUnwrapETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"createWrapped",outputs:[{internalType:"address",name:"token",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"bytes32",name:"symbol",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],internalType:"struct BridgeStructs.AssetMeta",name:"meta",type:"tuple"}],name:"encodeAssetMeta",outputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint16",name:"toChain",type:"uint16"},{internalType:"uint256",name:"fee",type:"uint256"}],internalType:"struct BridgeStructs.Transfer",name:"transfer",type:"tuple"}],name:"encodeTransfer",outputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"governanceActionIsConsumed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceChainId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceContract",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"impl",type:"address"}],name:"isInitialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"isTransferCompleted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isWrappedAsset",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"outstandingBridged",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseAssetMeta",outputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"uint8",name:"decimals",type:"uint8"},{internalType:"bytes32",name:"symbol",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],internalType:"struct BridgeStructs.AssetMeta",name:"meta",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseRegisterChain",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chainId",type:"uint16"},{internalType:"uint16",name:"emitterChainID",type:"uint16"},{internalType:"bytes32",name:"emitterAddress",type:"bytes32"}],internalType:"struct BridgeStructs.RegisterChain",name:"chain",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseTransfer",outputs:[{components:[{internalType:"uint8",name:"payloadID",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"},{internalType:"uint16",name:"tokenChain",type:"uint16"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint16",name:"toChain",type:"uint16"},{internalType:"uint256",name:"fee",type:"uint256"}],internalType:"struct BridgeStructs.Transfer",name:"transfer",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encoded",type:"bytes"}],name:"parseUpgrade",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chainId",type:"uint16"},{internalType:"bytes32",name:"newContract",type:"bytes32"}],internalType:"struct BridgeStructs.UpgradeContract",name:"chain",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVM",type:"bytes"}],name:"registerChain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint16",name:"recipientChain",type:"uint16"},{internalType:"bytes32",name:"recipient",type:"bytes32"},{internalType:"uint256",name:"arbiterFee",type:"uint256"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"transferTokens",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVm",type:"bytes"}],name:"updateWrapped",outputs:[{internalType:"address",name:"token",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVM",type:"bytes"}],name:"upgrade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"wormhole",outputs:[{internalType:"contract IWormhole",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"recipientChain",type:"uint16"},{internalType:"bytes32",name:"recipient",type:"bytes32"},{internalType:"uint256",name:"arbiterFee",type:"uint256"},{internalType:"uint32",name:"nonce",type:"uint32"}],name:"wrapAndTransferETH",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint16",name:"tokenChainId",type:"uint16"},{internalType:"bytes32",name:"tokenAddress",type:"bytes32"}],name:"wrappedAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];var Re=n(21995),We=n.n(Re),Ee=n(69833),Be=n(92050);class De{static getNetworkName(){const e=(0,Be.iR)();return"mainnet"!==e?e:"eth"}static async fetchTokens(e){const{data:t}=await We()({method:"get",url:`${Ee.eb.url}/${e}/erc20?chain=${De.getNetworkName()}`,headers:{"X-API-Key":Ee.eb.apiKey}});return t}static async fetchTransactions(e){const{data:t}=await We()({method:"get",url:`${Ee.eb.url}/${e}?chain=${De.getNetworkName()}`,headers:{"X-API-Key":Ee.eb.apiKey}});return t.result}static async fetchInfoAToken(e){const{data:t}=await We()({method:"get",url:`${Ee.eb.url}/erc20/metadata?chain=${De.getNetworkName()}&addresses=${e}`,headers:{"X-API-Key":Ee.eb.apiKey}});return t[0]}}var ze=n(21411),Pe=n(62959),Oe=n.n(Pe);const Ue=new(Oe())(new(Oe().providers.HttpProvider)(Ee.gT[(0,Be.iR)()]));new(new(Oe())(new(Oe().providers.WebsocketProvider)(Ee.EB[(0,Be.iR)()])).eth.Contract)([{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldContract",type:"address"},{indexed:!0,internalType:"address",name:"newContract",type:"address"}],name:"ContractUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint32",name:"index",type:"uint32"}],name:"GuardianSetAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint64",name:"sequence",type:"uint64"},{indexed:!1,internalType:"uint32",name:"nonce",type:"uint32"},{indexed:!1,internalType:"bytes",name:"payload",type:"bytes"},{indexed:!1,internalType:"uint8",name:"consistencyLevel",type:"uint8"}],name:"LogMessagePublished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"chainId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentGuardianSetIndex",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"index",type:"uint32"}],name:"getGuardianSet",outputs:[{components:[{internalType:"address[]",name:"keys",type:"address[]"},{internalType:"uint32",name:"expirationTime",type:"uint32"}],internalType:"struct Structs.GuardianSet",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGuardianSetExpiry",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"}],name:"governanceActionIsConsumed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceChainId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceContract",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"initialGuardians",type:"address[]"},{internalType:"uint16",name:"chainId",type:"uint16"},{internalType:"uint16",name:"governanceChainId",type:"uint16"},{internalType:"bytes32",name:"governanceContract",type:"bytes32"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"impl",type:"address"}],name:"isInitialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"messageFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"emitter",type:"address"}],name:"nextSequence",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVM",type:"bytes"}],name:"parseAndVerifyVM",outputs:[{components:[{internalType:"uint8",name:"version",type:"uint8"},{internalType:"uint32",name:"timestamp",type:"uint32"},{internalType:"uint32",name:"nonce",type:"uint32"},{internalType:"uint16",name:"emitterChainId",type:"uint16"},{internalType:"bytes32",name:"emitterAddress",type:"bytes32"},{internalType:"uint64",name:"sequence",type:"uint64"},{internalType:"uint8",name:"consistencyLevel",type:"uint8"},{internalType:"bytes",name:"payload",type:"bytes"},{internalType:"uint32",name:"guardianSetIndex",type:"uint32"},{components:[{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"uint8",name:"guardianIndex",type:"uint8"}],internalType:"struct Structs.Signature[]",name:"signatures",type:"tuple[]"},{internalType:"bytes32",name:"hash",type:"bytes32"}],internalType:"struct Structs.VM",name:"vm",type:"tuple"},{internalType:"bool",name:"valid",type:"bool"},{internalType:"string",name:"reason",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"encodedUpgrade",type:"bytes"}],name:"parseContractUpgrade",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chain",type:"uint16"},{internalType:"address",name:"newContract",type:"address"}],internalType:"struct GovernanceStructs.ContractUpgrade",name:"cu",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encodedUpgrade",type:"bytes"}],name:"parseGuardianSetUpgrade",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chain",type:"uint16"},{components:[{internalType:"address[]",name:"keys",type:"address[]"},{internalType:"uint32",name:"expirationTime",type:"uint32"}],internalType:"struct Structs.GuardianSet",name:"newGuardianSet",type:"tuple"},{internalType:"uint32",name:"newGuardianSetIndex",type:"uint32"}],internalType:"struct GovernanceStructs.GuardianSetUpgrade",name:"gsu",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encodedSetMessageFee",type:"bytes"}],name:"parseSetMessageFee",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chain",type:"uint16"},{internalType:"uint256",name:"messageFee",type:"uint256"}],internalType:"struct GovernanceStructs.SetMessageFee",name:"smf",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encodedTransferFees",type:"bytes"}],name:"parseTransferFees",outputs:[{components:[{internalType:"bytes32",name:"module",type:"bytes32"},{internalType:"uint8",name:"action",type:"uint8"},{internalType:"uint16",name:"chain",type:"uint16"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"recipient",type:"bytes32"}],internalType:"struct GovernanceStructs.TransferFees",name:"tf",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"encodedVM",type:"bytes"}],name:"parseVM",outputs:[{components:[{internalType:"uint8",name:"version",type:"uint8"},{internalType:"uint32",name:"timestamp",type:"uint32"},{internalType:"uint32",name:"nonce",type:"uint32"},{internalType:"uint16",name:"emitterChainId",type:"uint16"},{internalType:"bytes32",name:"emitterAddress",type:"bytes32"},{internalType:"uint64",name:"sequence",type:"uint64"},{internalType:"uint8",name:"consistencyLevel",type:"uint8"},{internalType:"bytes",name:"payload",type:"bytes"},{internalType:"uint32",name:"guardianSetIndex",type:"uint32"},{components:[{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"uint8",name:"guardianIndex",type:"uint8"}],internalType:"struct Structs.Signature[]",name:"signatures",type:"tuple[]"},{internalType:"bytes32",name:"hash",type:"bytes32"}],internalType:"struct Structs.VM",name:"vm",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint32",name:"nonce",type:"uint32"},{internalType:"bytes",name:"payload",type:"bytes"},{internalType:"uint8",name:"consistencyLevel",type:"uint8"}],name:"publishMessage",outputs:[{internalType:"uint64",name:"sequence",type:"uint64"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"_vm",type:"bytes"}],name:"submitContractUpgrade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"_vm",type:"bytes"}],name:"submitNewGuardianSet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"_vm",type:"bytes"}],name:"submitSetMessageFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"_vm",type:"bytes"}],name:"submitTransferFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"},{components:[{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"uint8",name:"guardianIndex",type:"uint8"}],internalType:"struct Structs.Signature[]",name:"signatures",type:"tuple[]"},{components:[{internalType:"address[]",name:"keys",type:"address[]"},{internalType:"uint32",name:"expirationTime",type:"uint32"}],internalType:"struct Structs.GuardianSet",name:"guardianSet",type:"tuple"}],name:"verifySignatures",outputs:[{internalType:"bool",name:"valid",type:"bool"},{internalType:"string",name:"reason",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint8",name:"version",type:"uint8"},{internalType:"uint32",name:"timestamp",type:"uint32"},{internalType:"uint32",name:"nonce",type:"uint32"},{internalType:"uint16",name:"emitterChainId",type:"uint16"},{internalType:"bytes32",name:"emitterAddress",type:"bytes32"},{internalType:"uint64",name:"sequence",type:"uint64"},{internalType:"uint8",name:"consistencyLevel",type:"uint8"},{internalType:"bytes",name:"payload",type:"bytes"},{internalType:"uint32",name:"guardianSetIndex",type:"uint32"},{components:[{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"uint8",name:"guardianIndex",type:"uint8"}],internalType:"struct Structs.Signature[]",name:"signatures",type:"tuple[]"},{internalType:"bytes32",name:"hash",type:"bytes32"}],internalType:"struct Structs.VM",name:"vm",type:"tuple"}],name:"verifyVM",outputs:[{internalType:"bool",name:"valid",type:"bool"},{internalType:"string",name:"reason",type:"string"}],stateMutability:"view",type:"function"}],Ee.eT[(0,Be.iR)()]);var He=n(6935),Ze=n(74724);const Fe=["FDKNJ5QFEKTIRVRPUT9KSGE98FGGNIX87F","FQR1MPC9EQNQUVIKANQECSSJS3DR8PEX9K"],Ge={mainnet:"https://api.etherscan.io",goerli:"https://api-goerli.etherscan.io",ropsten:"https://api-ropsten.etherscan.io"},Le=He.yl((0,Be.iR)(),{etherscan:Fe[1],infura:{projectId:Ee.rW,projectSecret:Ee.MT},alchemy:"MRYIqv5IE0yh6-HULbmyzDY0IqxSaFqu",pocket:{applicationId:"620cce4a99eef60039c33049",applicationSecretKey:"f444f35ca44324a477a2ef8b44f52367"}}),Qe=new(Oe().providers.HttpProvider)(Ee.gT[(0,Be.iR)()]),Je=new Ze.Q(Qe);var $e=n(71256),qe=n(97429).Buffer;var _e=n(97429).Buffer;const Ke=n(21721),Ye=async e=>{var t;const n=[],s=await De.fetchTokens(e);for(const i of s)i.decimals=Number(i.decimals),i.balance=BigInt(i.balance),i.amount=l.utils.undecimalize(i.balance,i.decimals),i.address=i.token_address,n.push(i);const a=await(null===(t=window.wormhole.sourceWallet.ether)||void 0===t?void 0:t.getAddress());let r=BigInt(0);a&&(r=BigInt(await ze.R.load("getEtherBalance"+a,(async()=>Ue.eth.getBalance(a)))));return[{balance:r,decimals:18,logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs/logo.png",name:"Ethereum",symbol:"ETH",token_address:Ee.tG[(0,Be.iR)()],address:Ee.tG[(0,Be.iR)()],amount:l.utils.undecimalize(r,18)},...n]},Ve=async e=>{const t=await(async e=>{var t,n,s;Ke.addABI(Me);const{name:a,params:r}=Ke.decodeMethod(e.input);if(!a||!r)return;const i=null===(t=r.find((e=>"token"===e.name)))||void 0===t?void 0:t.value,o=null===(n=r.find((e=>"amount"===e.name)))||void 0===n?void 0:n.value,l=null===(s=r.find((e=>"recipientChain"===e.name)))||void 0===s?void 0:s.value;return l?"wrapAndTransferETH"!==a&&o?{amount:o,token:i,targetChain:Number(l)}:{amount:Number(e.value),targetChain:Number(l)}:void 0})(e);if(!t||t.targetChain!==Se.rQA)return;let n={decimals:18,logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs/logo.png",name:"Ethereum",symbol:"ETH",address:Ee.tG[(0,Be.iR)()],amount:t.amount};const s=t.token;s&&(n=await ze.R.load("fetchEtherTokenInfo"+t.token,(()=>(async e=>{const t=await De.fetchInfoAToken(e);return{decimals:null===t||void 0===t?void 0:t.decimals,logo:null===t||void 0===t?void 0:t.logo,name:null===t||void 0===t?void 0:t.name,symbol:null===t||void 0===t?void 0:t.symbol,address:null===t||void 0===t?void 0:t.address,amount:null===t||void 0===t?void 0:t.amount}})(s))));const a=await ze.R.load("getWalletAddress",(async()=>{var e;return null===(e=window.sentre.wallet)||void 0===e?void 0:e.getAddress()}));if(!a)throw new Error("Wallet is not connected");const r=(0,Ne.rx)(n);r.id=e.hash,r.time=new Date(1e3*Number(e.timeStamp)).getTime();return{context:r,transferData:{nextStep:Ie.G.Unknown,amount:l.utils.undecimalize(BigInt(t.amount),n.decimals),from:e.from,to:a,emitterAddress:"",sequence:"",vaaHex:"",txId:"",txHash:e.hash}}};window.wormhole={sourceWallet:{},targetWallet:{}};const Xe="wormhole",et={sourceTokens:{},sourceChain:Se.ZNg,sourceWalletAddress:"",targetWalletAddress:"",targetChain:Se.rQA,tokenAddress:"",amount:"",processId:"",visible:!1,waiting:!1},tt=(0,B.createAsyncThunk)("wormhole/connectSourceWallet",(async e=>{let{wallet:t,chainID:n,sourceToken:s}=e;switch(n){case Se.rQA:window.wormhole.sourceWallet.sol=t;break;case Se.ZNg:window.wormhole.sourceWallet.ether=t;break;default:throw new Error("Wallet is not connected")}const a=await t.getAddress();let r="";const i={};for(const o of s)o&&(r||(r=o.address),i[null===o||void 0===o?void 0:o.address]=o);return{sourceWalletAddress:a,sourceTokens:i,tokenAddress:r,sourceChain:n}})),nt=(0,B.createAsyncThunk)("wormhole/fetchSourceTokens",(async()=>{const e=window.wormhole.sourceWallet.ether;if(!e)throw new Error("Wallet is not connected");const t=await e.getAddress(),n=await Ye(t),s={};for(const r of n)s[r.address]=r;let a="";if(t){a=await Ue.eth.getBalance(Ue.utils.toChecksumAddress(t));const e=Ee.xb[(0,Be.iR)()];if(!a)return{sourceTokens:s};s[e]={address:e,amount:Number(l.utils.undecimalize(BigInt(a),18)),decimals:18,logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png",name:"Eth nav",symbol:"ETH"}}return{sourceTokens:s}})),st=(0,B.createAsyncThunk)("wormhole/updateSolTokens",(e=>{let{sourceTokens:t}=e;return{sourceTokens:t}})),at=(0,B.createAsyncThunk)("wormhole/disconnectSourceWallet",(async(e,t)=>{let{getState:n}=t;return{...n().wormhole,sourceWalletAddress:"",sourceTokens:{},tokenAddress:""}})),rt=(0,B.createAsyncThunk)("wormhole/disconnectTargetWallet",(()=>({targetWalletAddress:""}))),it=(0,B.createAsyncThunk)("wormhole/connectTargetWallet",(async e=>{let{wallet:t,targetChain:n}=e;switch(n){case Se.rQA:window.wormhole.targetWallet.sol=t;break;case Se.ZNg:window.wormhole.targetWallet.ether=t;break;default:throw new Error("Wallet is not connected")}return{targetWalletAddress:await t.getAddress(),targetChain:n}})),ot=(0,B.createAsyncThunk)("wormhole/setSourceToken",(async(e,t)=>{let{tokenAddress:n,amount:s}=e,{getState:a}=t;const{wormhole:r}=a(),i=n||r.tokenAddress,o=void 0===s?r.amount:s;return{...r,tokenAddress:i,amount:o}})),lt=(0,B.createAsyncThunk)("wormhole/setWormholeProcess",(async e=>{let{id:t}=e;return{processId:t}})),ct=(0,B.createAsyncThunk)("wormhole/restoreTransfer",(async(e,t)=>{let{transferState:n}=e,{getState:s}=t;const{sourceWallet:a}=window.wormhole;if(null===a||void 0===a||!a.ether)throw new Error("Wallet is not connected");const{wormhole:r}=s(),{context:{id:i,tokenInfo:o},transferData:l}=n,c=JSON.parse(JSON.stringify(r)),d=o.address;return c.tokenAddress=d,c.processId=i,c.amount=l.amount,c.sourceWalletAddress=l.from,c.targetWalletAddress=l.to,{...c}})),dt=(0,B.createAsyncThunk)("wormhole/setVisibleProcess",(async e=>{let{visible:t}=e;return{visible:t}})),ut=(0,B.createAsyncThunk)("wormhole/setWaiting",(async e=>{let{waiting:t}=e;return{waiting:t}})),pt=(0,B.createAsyncThunk)("wormhole/clearProcess",(async(e,t)=>{var n;let{getState:s}=t;const{wormhole:a}=s(),r={};for(const i of Object.values(a.sourceTokens))i.amount&&(r[i.address]={...i});return{visible:!1,amount:"",processId:"",tokenAddress:(null===(n=Object.values(r)[0])||void 0===n?void 0:n.address)||"",sourceTokens:r}})),yt=(0,B.createAsyncThunk)("wormhole/changeSourceAndTargetChain",(e=>{let{sourceChain:t,targetChain:n}=e;return{sourceChain:t,targetChain:n}})),ht=(0,B.createSlice)({name:Xe,initialState:et,reducers:{},extraReducers:e=>{e.addCase(tt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(at.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(it.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(ot.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(ct.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(lt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(dt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(nt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(pt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(ut.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(st.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(yt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(rt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer;var mt=n(31049),gt=n(97108),wt=n(67289);const ft=700;class xt{constructor(){this.conn=window.sentre.splt.connection}async fetchSignatures(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft;n>ft&&(n=ft);const s={limit:n,before:t};return this.conn.getSignaturesForAddress(e,s)}async fetchConfirmTransaction(e){let t=[];const n=[];for(let a=0;a<=e.length/200;a++){const t=200*a,s=e.slice(t,t+200);n.push(this.conn.getParsedConfirmedTransactions(s))}const s=await Promise.all(n);for(const a of s)t=t.concat(a);return t}async fetchTransactions(e,t){const n=(new Date).getTime()/1e3;let{secondFrom:s,secondTo:a,lastSignature:r,limit:i}=t;s=Math.floor(s||0),a=Math.floor(a||n);const o=new $e.PublicKey(e);let l=[],c=!1;for(;!c;){const e=await this.fetchSignatures(o,r,i);if(null===e||void 0===e||!e.length||c)break;for(const t of e){const e=t.blockTime;if(e&&!(e>a)){if(e<s){c=!0;break}r=t.signature,l.push(t.signature)}}if(i&&l.length>=i)break;if((null===e||void 0===e?void 0:e.length)<ft)break}return await this.fetchConfirmTransaction(l)}async getTransactionInfo(e){return await this.conn.getTransaction(e)}}class Tt{constructor(){this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]}}class bt{constructor(){this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"}}class jt{constructor(){this.source=void 0,this.destination=void 0,this.amount="0"}}let vt;!function(e){e.Transfer="transfer"}(vt||(vt={}));var Ct=n(4550),kt=n.n(Ct);const St=1e3;let At;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(At||(At={}));class It{constructor(){this.milliSeconds=(new Date).valueOf()}setMilliSeconds(e){this.milliSeconds=e}static fromSeconds(e){const t=new It,n=e*St;return t.setMilliSeconds(n),t}static fromYmd(e){const t=new It,n=kt()(e,At.YMD).valueOf();return t.setMilliSeconds(n),t}static getListDate(e,t){const n=[];let s=It.fromYmd(e);const a=It.fromYmd(t);for(;s.ymd()<=a.ymd();)n.push(s.ymd()),s=s.addDay();return n}format(e){const t=new Date(this.milliSeconds);return kt()(t).format(e)}subtractDay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=kt()(this.milliSeconds).subtract(e,"days").valueOf();return It.fromSeconds(t/St)}addDay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=kt()(this.milliSeconds).add(e,"days").valueOf();return It.fromSeconds(t/St)}seconds(){return(this.milliSeconds-this.milliSeconds%St)/St}ymd(){return Number(this.format(At.YMD))}static today(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At.YMD;return kt()().format(e)}}const Nt="11111111111111111111111111111111";class Mt{constructor(){this.parseAction=e=>""}async collect(e,t){const n=new xt;let s=[];const a=await n.fetchTransactions(e,t);for(const r of a){const e=this.parseTransLog(r);e&&s.push(e)}return s}parseTransLog(e){var t,n;const{blockTime:s,meta:a,transaction:r}=e;if(!s||!a)return;const{postTokenBalances:i,preTokenBalances:o,postBalances:l,preBalances:c}=a,{signatures:d,message:u}=r,p=(null===(t=a.innerInstructions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.instructions)||[],y=u.instructions[0]||[],h=new Tt;h.signature=d[0],h.blockTime=s,h.time=It.fromSeconds(s).ymd(),h.programId=y.programId.toString();const m=this.parseAccountInfo(u.accountKeys,i||[],o||[],l,c);return this.isParsedInstruction(y)&&(h.programTransfer=this.parseListActionTransfer([y],m)),h.actionTransfers=this.parseListActionTransfer(p,m),h.programInfo={programId:y.programId.toString(),data:y.data},h.actionType=this.parseAction(h),h}isParsedInstruction(e){return void 0!==e.parsed}parseListActionTransfer(e,t){const n=[];for(const s of e){if(!this.isParsedInstruction(s))continue;const e=s.parsed||{};if(e.type===vt.Transfer){const s=e.info,a=this.parseActionTransfer(s,t);a&&n.push(a)}}return n}parseActionTransfer(e,t){const{source:n,destination:s,amount:a,lamports:r}=e,i=a||r.toString();if(!i||!t.has(n)||!t.has(s))return;const o=new jt;return o.source=t.get(n),o.destination=t.get(s),o.amount=i,o}parseAccountInfo(e,t,n,s,a){const r=new Map;for(const i of t){const{accountIndex:t,mint:n,uiTokenAmount:s}=i,a=new bt;a.address=e[t].pubkey.toString(),a.postBalance=s.amount,a.mint=n,a.decimals=s.decimals,r.set(a.address,a)}for(const i of n){const{accountIndex:t,uiTokenAmount:n}=i,s=e[t].pubkey.toString(),a=r.get(s)||new bt;a.preBalance=n.amount,r.set(a.address,a)}return e.forEach(((e,t)=>{const n=e.pubkey.toString();if(!l.account.isAssociatedAddress(n)){const e=r.get(n)||new bt;e.address=n,e.mint=Nt,e.postBalance=String(s[t]||0),e.preBalance=String(a[t]||0),e.decimals=9,r.set(e.address,e)}})),r}}const Rt=class{constructor(){this.solana=new xt,this.tokenProvider=new wt.Z,this.transLogService=new Mt}async getTransferHistory(e){const t=[],n=(new Date).getTime()/1e3,s=(await this.solana.fetchTransactions(e,{secondFrom:n-2592e3,secondTo:n})).filter((e=>{var t;return null===(null===(t=e.meta)||void 0===t?void 0:t.err)}));return await Promise.all(s.map((async n=>{const s=await this.createTransferState(n,e);s&&t.push(s)}))),t}async createTransferState(e,t){var n,s;const a=this.parseTransParam(e);if(!a||a.targetChain!==Se.ZNg||!a.token)return;let r={decimals:0,logo:"",name:"No Name",symbol:"No",address:a.token,amount:a.amount};const i=await this.tokenProvider.findByAddress(a.token);i&&(r={decimals:null===i||void 0===i?void 0:i.decimals,logo:(null===i||void 0===i?void 0:i.logoURI)||"",name:null===i||void 0===i?void 0:i.name,symbol:null===i||void 0===i?void 0:i.symbol,address:a.token,amount:a.amount});const o=await(null===(n=window.wormhole.sourceWallet.ether)||void 0===n?void 0:n.getAddress());if(!o)throw new Error("Wallet is not connected");const l=(0,Ne.qQ)(r);l.id=e.transaction.signatures[0],l.time=new Date(1e3*Number(null===e||void 0===e?void 0:e.blockTime)).getTime();return{context:l,transferData:{nextStep:Ie.G.Unknown,amount:a.amount.toString(),from:t,to:o,emitterAddress:"",sequence:"",vaaHex:"",txId:"",txHash:(null===e||void 0===e||null===(s=e.transaction)||void 0===s?void 0:s.signatures[0])||""}}}parseTransParam(e){if(!e.meta)return;const t=O.ef,n=gt.h[t],{instructions:s}=e.transaction.message;if(!s.map((e=>e.programId.toBase58())).includes(n))return;const{message:a}=e.transaction,{postTokenBalances:r,preTokenBalances:i,postBalances:o,preBalances:c}=e.meta,d=s.find((e=>{var t;const n=e;return"approve"===(null===n||void 0===n||null===(t=n.parsed)||void 0===t?void 0:t.type)&&"spl-token"===n.program}));if(!d)return;const u=d.parsed.info,p=this.transLogService.parseAccountInfo(a.accountKeys,r||[],i||[],o,c).get(u.source);if(!p||!Number(u.amount))return;const{mint:y,decimals:h}=p;return{amount:Number(l.utils.undecimalize(BigInt(u.amount),h)),token:y,targetChain:Se.ZNg}}};class Wt{constructor(){this.apiKey=void 0,this.getApiKey=()=>{const e=Math.floor(Math.random()*(Fe.length-1));return Fe[e]||Fe[0]},this.getEndpoint=()=>Ge[(0,Be.iR)()],this.fetchListTx=async e=>{try{const t=`${this.getEndpoint()}/api?module=account&action=txlist&address=${e}&page=1&offset=1000&startblock=0&endblock=99999999&sort=asc&apikey=${this.apiKey}`;return(await We().get(t)).data.result}catch(t){return[]}},this.getTransferHistory=async e=>{let t=await this.fetchListTx(e);const n=[];return await Promise.all(t.map((async e=>{try{const t=await Ve(e);t&&n.push(t)}catch(t){}}))),n},this.apiKey=this.getApiKey()}}const Et="wohHistory",Bt=(0,B.createAsyncThunk)("wohHistory/fetchWohHistory",(async(e,t)=>{let{address:n,isFirstFetch:s}=e,{getState:a}=t;const{wohHistory:r,wormhole:{sourceChain:i}}=a();let o={},l=[];switch(i){case Se.rQA:const e=new Rt;l=await e.getTransferHistory(n);break;case Se.ZNg:const t=new Wt;l=await t.getTransferHistory(n);break;default:throw new Error("No source wallet address")}const c=l.sort((function(e,t){return t.context.time-e.context.time}));for(const d of c)o[d.context.id]=d;return s||Object.assign(o,r),{historyState:o}})),Dt=(0,B.createAsyncThunk)("wohHistory/restoreWohHistory",(async(e,t)=>{let{id:n}=e,{getState:s}=t;const a=s().wohHistory[n];if(a.context.srcChainId===Se.rQA){return{[n]:await(async e=>{const t=JSON.parse(JSON.stringify(e)),{transferData:n,context:s}=t,{txHash:a}=n;if(!a)throw new Error("Invalid txHash");const{connection:r}=window.sentre.splt,i=await r.getTransaction(a);if(!i)return t;const o=(0,Se.JEU)(i),l=await(0,Se.t8K)(s.srcTokenBridgeAddress);n.sequence=o,n.emitterAddress=l;try{const{vaaBytes:e}=await(0,Se.RX)(s.wormholeRpc,s.srcChainId,l,o);n.vaaHex=qe.from(e).toString("hex");const t=await(0,Se.YDP)(s.targetTokenBridgeAddress,Je,e);n.nextStep=t?Ie.G.Finish:Ie.G.WaitSigned}catch(c){n.nextStep=Ie.G.WaitSigned}return t})(a)}}return{[n]:await(async e=>{const t=JSON.parse(JSON.stringify(e)),{transferData:n,context:s}=t,a=n.txHash;if(!a)throw new Error("Invalid txHash");const r=await Le.getTransactionReceipt(a),i=(0,Se.N_w)(r,e.context.srcBridgeAddress);n.sequence=i,n.emitterAddress=(0,Se.Nzl)(s.srcTokenBridgeAddress);try{const{vaaBytes:e}=await(0,Se.RX)(s.wormholeRpc,s.srcChainId,(0,Se.Nzl)(s.srcTokenBridgeAddress),i);n.vaaHex=_e.from(e).toString("hex");const t=await(0,Se.hzs)(s.targetTokenBridgeAddress,e,window.sentre.splt.connection);n.nextStep=t?Ie.G.Finish:Ie.G.WaitSigned}catch(o){n.nextStep=Ie.G.WaitSigned}return t})(a)}})),zt=(0,B.createAsyncThunk)("wohHistory/updateWormholeHistory",(async e=>{let{stateTransfer:t}=e;return{[t.context.id]:JSON.parse(JSON.stringify(t))}})),Pt=(0,B.createSlice)({name:Et,initialState:{},reducers:{},extraReducers:e=>{e.addCase(zt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Bt.fulfilled,((e,t)=>{let{payload:{historyState:n}}=t;return n})).addCase(Dt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer;var Ot=n(22858);class Ut extends Ot.O{constructor(e,t,n){super(),this.srcWallet=void 0,this.targetWallet=void 0,this.isNative=()=>{var e;return(null===(e=this.context)||void 0===e?void 0:e.tokenInfo.address)===Nt},this.isAttested=async()=>{const{context:e}=this.getState(),t=await(0,Se.oVR)(this.getConnection(),e.srcTokenBridgeAddress,e.tokenInfo.address),n=(0,Se.dg5)(t.assetAddress);return{attested:!!n,wrappedMintAddress:n,chainId:t.chainId}},this.initTransferData=async e=>{const t=await this.srcWallet.getAddress(),n=await this.targetWallet.getAddress();return{nextStep:Ie.G.Transfer,amount:e,from:t,to:n,emitterAddress:"",sequence:"",vaaHex:"",txId:"",txHash:""}},this.submitTransfer=async()=>{const{transferData:e,context:t}=this.getState(),{splt:n}=window.sentre,s=this.getConnection(),a=await this.srcWallet.getAddress(),r=await this.targetWallet.getAddress(),i=l.utils.decimalize(e.amount,t.tokenInfo.decimals);let{wrappedMintAddress:o,chainId:c}=await this.isAttested();if(!o)throw new Error("Attest the token first");const d=await n.deriveAssociatedAddress(a,t.tokenInfo.address),u=(0,Se.wce)(r,Se.ZNg);if(!u)throw new Error("Invalid recipient");const p=(0,Se.GZw)(u),y=this.isNative()?await(0,Se.yPe)(s,t.srcBridgeAddress,t.srcTokenBridgeAddress,a,i,p,Se.ZNg):await(0,Se.eS5)(s,t.srcBridgeAddress,t.srcTokenBridgeAddress,a,d,t.tokenInfo.address,i,p,Se.ZNg,(0,Se.GZw)(o),c),h=await this.srcWallet.signTransaction(y),m=await(0,Be.T7)(h,s),g=await s.getTransaction(m);if(!g)throw new Error("An error occurred while fetching the transaction info");return{sequence:(0,Se.JEU)(g),emitterAddress:await(0,Se.t8K)(t.srcTokenBridgeAddress),txHash:m}},this.submitAttest=async()=>{const{context:e}=this.getState(),t=await this.srcWallet.getAddress(),n=await this.getConnection(),s=await(0,Se.gNA)(this.getConnection(),e.srcBridgeAddress,e.srcTokenBridgeAddress,t,e.tokenInfo.address),a=await this.srcWallet.signTransaction(s),r=await(0,Be.T7)(a,n),i=await n.getTransaction(r);if(!i)throw new Error("An error occurred while fetching the transaction info");return{sequence:(0,Se.JEU)(i),emitterAddress:await(0,Se.t8K)(e.srcTokenBridgeAddress)}},this.wrapToken=async e=>{const{context:t}=this.getState(),n=(0,Se.GZw)(e),s=await this.targetWallet.getProvider();return(await(0,Se.V3Y)(t.targetTokenBridgeAddress,s.getSigner(),n)).transactionHash},this.redeem=async e=>{const{context:t}=this.getState(),n=(0,Se.GZw)(e),s=await this.targetWallet.getProvider();return(await(0,Se.qc5)(t.targetTokenBridgeAddress,s.getSigner(),n)).transactionHash},this.srcWallet=e,this.targetWallet=t;const s=JSON.parse(JSON.stringify(n));this.context=(0,Ne.qQ)(s)}}const Ht=Ut,Zt=e=>{let{onClose:t=(()=>{})}=e;const n=(0,s.useDispatch)(),{wormhole:{sourceTokens:a,tokenAddress:i,amount:c,processId:p,waiting:y,sourceChain:h,sourceWalletAddress:m}}=(0,s.useSelector)((e=>e)),[g,w]=(0,r.useState)(!1),x=y||!!p,T=(0,r.useCallback)((async()=>{if(h===Se.ZNg)return await n(nt());if(h===Se.rQA){const{splt:e}=window.sentre;let t=BigInt(0);if(i===Nt){const n=await e.connection.getBalance(l.account.fromAddress(m));t=BigInt(n)}else{const n=await e.deriveAssociatedAddress(m,i),{amount:s}=await e.getAccountData(n);t=s}const s=a[i],r=JSON.parse(JSON.stringify(a));r[i].amount=Number(l.utils.undecimalize(t,s.decimals)),await n(st({sourceTokens:r}))}}),[n,h,a,m,i]),b=(0,r.useCallback)((async e=>{e.transferData.nextStep===Ie.G.WaitSigned&&(await(0,f.sA)(5e3),await T()),await n(lt({id:e.context.id})),await n(zt({stateTransfer:e}))}),[n,T]);return(0,d.jsxs)(o.Row,{gutter:[8,8],justify:"center",children:[(0,d.jsx)(o.Col,{span:24,style:{textAlign:"justify"},children:(0,d.jsxs)(o.Space,{align:"start",children:[(0,d.jsx)(o.Typography.Text,{className:"red-color",children:(0,d.jsx)(u,{name:"alert-circle-outline"})}),(0,d.jsx)(o.Typography.Text,{className:"red-color",style:{fontSize:12},children:"You should wait until the process is complete or you can minimize this dialog. However, the process will be failed if you exit the Sen Assets, or change the network."})]})}),(0,d.jsx)(o.Col,{span:24,children:x?(0,d.jsx)(Ae,{}):(0,d.jsx)(o.Checkbox,{checked:g,onChange:()=>w(!g),disabled:x,children:"I have read and aggreed!"})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Button,{onClick:async()=>{await n(ut({waiting:!0}));try{const{sourceWallet:e,targetWallet:s}=window.wormhole,r=a[i],{ether:o,sol:l}=e,{ether:d,sol:u}=s;let p;switch(h){case Se.rQA:if(!l||!d)throw new Error("Wallet is not connected");p=new Ht(l,d,r);break;case Se.ZNg:if(!o||!u)throw new Error("Wallet is not connected");p=new mt.Z(o,u,r);break;default:throw new Error("Wallet is not connected!")}const y=await p.transfer(c,b);return L("Transfer",y),n(pt()),t(!1)}catch(e){Q(e),n(pt())}finally{await n(ut({waiting:!1}))}},type:"primary",block:!0,disabled:!g,loading:x,children:["Approve ",c," token"]})}),(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Button,{type:"text",onClick:()=>t(!1),children:x?"Minimize":"Cancel"})})]})},Ft=e=>{let{visible:t=!1,onCancel:n=(()=>{})}=e;const{sourceChain:a,targetChain:r,amount:i,sourceTokens:l,tokenAddress:c}=(0,s.useSelector)((e=>e.wormhole)),u=l[c];return u?(0,d.jsx)(o.Modal,{visible:t,footer:!1,closable:!1,centered:!0,children:(0,d.jsxs)(o.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsx)(o.Col,{style:{marginBottom:50},children:(0,d.jsx)(o.Typography.Title,{level:4,children:"Confirm transfer"})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Card,{bordered:!1,className:"confirm-transfer-wrap",bodyStyle:{padding:0},children:[(0,d.jsxs)(o.Row,{className:"confirm-transfer-header",children:[(0,d.jsx)(o.Col,{span:12,children:(0,d.jsx)(ve,{chainId:a,size:32})}),(0,d.jsx)(o.Col,{span:12,children:(0,d.jsx)(ve,{chainId:r,size:32})}),(0,d.jsxs)(o.Col,{className:"amount",children:[(0,d.jsx)(o.Typography.Text,{style:{color:"#ffffff"},children:u.symbol}),(0,d.jsx)(o.Typography.Title,{level:3,style:{color:"#ffffff"},children:i})]})]}),(0,d.jsx)(ke,{})]})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(Zt,{onClose:n})})]})}):null},Gt=()=>{const e=(0,s.useDispatch)(),{wormhole:{amount:t,processId:n,visible:a,waiting:r,targetWalletAddress:i}}=(0,s.useSelector)((e=>e)),l=r||!!n,c=t=>e(dt({visible:t}));return(0,d.jsxs)(o.Row,{children:[(0,d.jsx)(o.Col,{span:24,children:l?(0,d.jsx)(o.Button,{disabled:a,type:"primary",onClick:()=>c(!0),block:!0,children:"Reopen"}):(0,d.jsx)(o.Button,{disabled:!Number(t)||!i,type:"primary",onClick:()=>c(!0),block:!0,children:"Next"})}),(0,d.jsx)(Ft,{visible:a,onCancel:c})]})},Lt=()=>(0,d.jsx)(o.Row,{gutter:[24,24],children:(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Space,{align:"baseline",children:[(0,d.jsx)(o.Typography.Title,{level:4,style:{color:"#f09a2c"},children:"Portal Bridge"}),(0,d.jsx)(o.Typography.Text,{type:"secondary",children:"by Wormhole"})]})})}),Qt=e=>{let{title:t,label:n}=e;const[s,a]=(0,r.useState)(!1);return(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(o.Typography.Text,{type:"secondary",children:n}),(0,d.jsx)(o.Tooltip,{title:t,visible:s,onVisibleChange:()=>a(!1),children:(0,d.jsx)(u,{name:"information-circle-outline",onClick:()=>a(!0),style:{cursor:"pointer"}})})]})};var Jt=n(70775),$t=n.n(Jt);const qt=n.p+"static/media/metamask.054793639984e746ada7.png",_t=n.p+"static/media/coin98.d4a8d3199bc374898921.png";var Kt=n(88490);class Yt{constructor(){this.getProvider=async()=>{const e=await $t()();if(!e||!e.isMetaMask)throw new Error("Cannot find MetaMask extension");const t=new Ze.Q(e,"any"),n="goerli"===(0,Be.iR)()?Ee.NA:Ee.d9;return await e.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),t},this.getAddress=async()=>{const e=await this.getProvider(),t=await e.send("eth_requestAccounts",[]);if(!t[0])throw new Error("There is no Ethereum account");return t[0]},this.connect=async()=>{Kt.Z.set(je.Ii,Yt.walletType)},this.disconnect=async()=>{Kt.Z.clear(je.Ii)}}}Yt.walletType="MetaMask";const Vt=Yt;class Xt{constructor(){this.getProvider=async()=>{const e=await $t()();if(!e||!e.isCoin98)throw new Error("Cannot find Coin98 extension");const t=new Ze.Q(e,"any"),n=Ee.ZN[(0,Be.iR)()]||Ee.ZN.mainnet,s=await e.request({method:"net_version"});if(Number(s)!==n)throw new Error(`Incorrect Solana network of Coin98. Please change the network to ${(0,Be.iR)()}.`);return t},this.getAddress=async()=>{const e=await this.getProvider(),t=await e.send("eth_requestAccounts",[]);if(!t[0])throw new Error("There is no Ethereum account");return t[0]},this.connect=async()=>{Kt.Z.set(je.Ii,Xt.walletType)},this.disconnect=async()=>{Kt.Z.clear(je.Ii)}}}Xt.walletType="Coin98";const en=Xt,tn=e=>{let{onClick:t=(()=>{}),src:n,title:s}=e;return(0,d.jsx)(o.Card,{bodyStyle:{padding:16,cursor:"pointer"},onClick:t,children:(0,d.jsxs)(o.Row,{gutter:[16,16],wrap:!1,align:"middle",children:[(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Avatar,{src:n})}),(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsx)(o.Typography.Text,{children:s})}),(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Button,{type:"text",icon:(0,d.jsx)(u,{name:"arrow-forward-outline"})})})]})})},nn=e=>{let{connected:t,onConnect:n=(()=>{}),onDisconnect:s=(()=>{})}=e;return t?(0,d.jsx)(o.Button,{size:"small",onClick:s,children:"Disconnect"}):(0,d.jsx)(o.Row,{children:(0,d.jsx)(o.Popover,{content:(0,d.jsxs)(o.Row,{gutter:[16,16],style:{maxWidth:256},children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Typography.Title,{level:5,children:"Ethereum Connection"})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(tn,{onClick:()=>n(Vt.walletType),src:qt,title:"Metamask"})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(tn,{onClick:()=>n(en.walletType),src:_t,title:"Coin98"})})]}),trigger:"click",children:(0,d.jsx)(o.Button,{size:"small",type:"primary",children:"Connect"})})})},sn=e=>{let{chainId:t,address:n,onChange:s=(()=>{})}=e;return(0,d.jsx)(o.Row,{children:(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Select,{onChange:e=>s(Number(e)),value:String(t),bordered:!1,suffixIcon:(0,d.jsx)(u,{name:"chevron-down-outline"}),size:"large",style:{marginLeft:-4},className:"custom-selector",dropdownStyle:{lineHeight:"normal"},children:je.vz.map((e=>(0,d.jsx)(o.Select.Option,{value:String(e.chainID),children:(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(o.Avatar,{src:e.logo,size:32,style:{backgroundColor:"#2D3355",border:"none"}}),(0,d.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,d.jsx)(o.Typography.Text,{style:{fontWeight:600},children:e.name}),n&&e.chainID===t&&(0,d.jsx)(o.Typography.Text,{style:{fontSize:12},children:(0,f.Xn)(n)})]})]})},e.chainID)))})})})},an=()=>{const e=(0,s.useDispatch)(),{wormhole:{sourceWalletAddress:t,sourceChain:n}}=(0,s.useSelector)((e=>e)),{accounts:i}=(0,a.useAccount)(),{tokenProvider:c}=(0,a.useMint)(),[u,p]=(0,r.useState)(!1),y=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=Kt.Z.get(je.Ii)||e;if(t===Vt.walletType)return new Vt;if(t===en.walletType)return new en;throw new Error("The application now supports Metamask, and Coin98 Wallet only.")}),[]),h=(0,r.useCallback)((async()=>{if(n===Se.ZNg){const e=await $t()();p(!!e)}}),[n]);(0,r.useEffect)((()=>{h()}),[h]);const m=(0,r.useCallback)((async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const s=y(t),a=await s.getAddress(),r=await Ye(a);try{return await e(tt({wallet:s,chainID:n,sourceToken:r})).unwrap(),s.connect()}catch(i){return Q(i),s.disconnect()}}),[n,e,y]),g=(0,r.useCallback)((async()=>{try{const t=y();return await e(at()),t.disconnect()}catch(t){return Q(t)}}),[e,y]),w=(0,r.useCallback)((async()=>{const t=[],n=Object.values(i).filter((e=>{let{amount:t}=e;return!!t}));for(let e=0;e<n.length;e++){const s=await c.findByAddress(n[e].mint);if(!s)continue;const a={decimals:null===s||void 0===s?void 0:s.decimals,logo:(null===s||void 0===s?void 0:s.logoURI)||"",name:null===s||void 0===s?void 0:s.name,symbol:null===s||void 0===s?void 0:s.symbol,address:null===s||void 0===s?void 0:s.address,amount:Number(l.utils.undecimalize(n[e].amount,null===s||void 0===s?void 0:s.decimals))};t.push(a)}try{await e(tt({wallet:window.sentre.wallet,chainID:Se.rQA,sourceToken:t})).unwrap()}catch(s){return Q(s)}}),[i,e,c]),f=(0,r.useCallback)((async()=>{const t=Kt.Z.get(je.Ii);if(!u||!t)return await e(at());const n=y(),s=await n.getAddress(),a=await Ye(s);try{n&&e(tt({wallet:n,chainID:Se.ZNg,sourceToken:a}))}catch(r){return window.notify({type:"error",description:r.message})}}),[e,y,u]);return(0,r.useEffect)((()=>{n===Se.rQA&&w(),n===Se.ZNg&&f()}),[f,w,e,n]),(0,d.jsxs)(o.Row,{gutter:[16,16],children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsx)(sn,{address:t,chainId:n,onChange:async t=>{let n=Se.rQA;if(t===Se.rQA){n=Se.ZNg;const a=[],r=Object.values(i).filter((e=>{let{amount:t}=e;return!!t}));for(let e=0;e<r.length;e++){const t=await c.findByAddress(r[e].mint);if(!t)continue;const n={decimals:null===t||void 0===t?void 0:t.decimals,logo:(null===t||void 0===t?void 0:t.logoURI)||"",name:null===t||void 0===t?void 0:t.name,symbol:null===t||void 0===t?void 0:t.symbol,address:null===t||void 0===t?void 0:t.address,amount:Number(l.utils.undecimalize(r[e].amount,null===t||void 0===t?void 0:t.decimals))};a.push(n)}try{await e(tt({wallet:window.sentre.wallet,chainID:t,sourceToken:a})).unwrap()}catch(s){Q(s)}}await e(yt({sourceChain:t,targetChain:n}))}})}),n!==Se.rQA?(0,d.jsx)(o.Col,{children:(0,d.jsx)(nn,{connected:!!t,onConnect:m,onDisconnect:g})}):(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Tag,{style:{margin:0,borderRadius:4,background:"rgba(249, 87, 94, 0.1)",color:"#F9575E",textTransform:"capitalize",border:"none"},children:t?"Connected":"Not Connected"})})]})},rn=()=>{const e=(0,s.useDispatch)(),{wormhole:{targetWalletAddress:t,targetChain:n}}=(0,s.useSelector)((e=>e)),[a,i]=(0,r.useState)(!1),l=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=Kt.Z.get(je.Ii)||e;if(t===Vt.walletType)return new Vt;if(t===en.walletType)return new en;throw new Error("The application now supports Metamask, and Coin98 Wallet only.")}),[]),c=(0,r.useCallback)((async()=>{if(n===Se.ZNg){const e=await $t()();i(!!e)}}),[n]);(0,r.useEffect)((()=>{c()}),[c]);const u=(0,r.useCallback)((async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=l(t);try{return await e(it({wallet:n,targetChain:Se.ZNg})),n.connect()}catch(s){Q(s)}}),[e,l]),p=(0,r.useCallback)((async()=>{try{const t=l();return await e(rt()),t.disconnect()}catch(t){return Q(t)}}),[e,l]),y=(0,r.useCallback)((async()=>{try{await e(it({wallet:window.sentre.wallet,targetChain:Se.rQA})).unwrap()}catch(t){return Q(t)}}),[e]),h=(0,r.useCallback)((async()=>{const t=Kt.Z.get(je.Ii);if(!a||!t)return await e(rt());const n=l();try{n&&e(it({wallet:n,targetChain:Se.ZNg}))}catch(s){return window.notify({type:"error",description:s.message})}}),[e,l,a]);return(0,r.useEffect)((()=>{n===Se.rQA&&y(),n===Se.ZNg&&h()}),[h,y,n]),(0,d.jsxs)(o.Row,{gutter:[16,16],align:"middle",children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsx)(sn,{address:t,chainId:n,onChange:async t=>{let n=Se.rQA;if(t===Se.rQA){n=Se.ZNg;try{await e(it({wallet:window.sentre.wallet,targetChain:t})).unwrap()}catch(s){Q(s)}}await e(yt({sourceChain:n,targetChain:t}))}})}),n!==Se.rQA?(0,d.jsx)(o.Col,{children:(0,d.jsx)(nn,{connected:!!t,onConnect:u,onDisconnect:p})}):(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Tag,{style:{margin:0,borderRadius:4,background:"rgba(249, 87, 94, 0.1)",color:"#F9575E",textTransform:"capitalize",border:"none"},children:t?"Connected":"Not Connected"})})]})},on=()=>{const{wormhole:{sourceChain:e,targetChain:t}}=(0,s.useSelector)((e=>e)),n=(0,s.useDispatch)(),[a,i]=(0,r.useState)(!1);return(0,d.jsx)(o.Card,{bordered:!1,className:"account-item",bodyStyle:{padding:16},children:(0,d.jsxs)(o.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsxs)(o.Col,{span:24,children:[(0,d.jsx)(Qt,{title:"Source Network",label:"Source"}),(0,d.jsx)(an,{})]}),(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Tooltip,{title:"Switch",style:{background:"red"},children:(0,d.jsx)(u,{name:"git-compare-outline",style:{cursor:"pointer"},onClick:async()=>{a||(i(!0),await n(yt({sourceChain:t,targetChain:e})),await(0,f.sA)(1e3),i(!1))}})})}),(0,d.jsxs)(o.Col,{span:24,children:[(0,d.jsx)(Qt,{title:"Target network",label:"Target"}),(0,d.jsx)(rn,{})]})]})})},ln=()=>{const e=(0,s.useDispatch)(),{wormhole:{sourceTokens:t,sourceWalletAddress:n,tokenAddress:i,sourceChain:c}}=(0,s.useSelector)((e=>e)),{wallet:{lamports:u}}=(0,a.useWallet)();return(0,r.useEffect)((()=>{(async()=>{const n=l.utils.undecimalize(u,9);if(t[Nt]||!n||c!==Se.rQA)return null;const s=JSON.parse(JSON.stringify(t));s[Nt]={address:Nt,amount:Number(n),balance:`${u}`,decimals:9,logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Sol nav",symbol:"Sol"},await e(st({sourceTokens:s}))})()}),[e,u,c,t]),(0,r.useEffect)((()=>{(async()=>{if(!n||l.account.isAddress(n))return;const s=await Ue.eth.getBalance(Ue.utils.toChecksumAddress(n)),a=Ee.xb[(0,Be.iR)()];if(t[a]||!s)return;const r=JSON.parse(JSON.stringify(t));r[a]={address:a,amount:Number(l.utils.undecimalize(BigInt(s),18)),balance:`${s}`,decimals:18,logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png",name:"Eth nav",symbol:"ETH"},await e(st({sourceTokens:r}))})()}),[e,c,t,n]),(0,d.jsx)(o.Select,{onChange:t=>e(ot({tokenAddress:t})),value:i||"Select",bordered:!1,suffixIcon:(0,d.jsx)(o.Divider,{type:"vertical",style:{margin:0}}),size:"middle",style:{marginLeft:-12},disabled:!n,children:Object.values(t).map((e=>(0,d.jsx)(o.Select.Option,{value:e.address,children:(0,d.jsxs)(o.Space,{align:"center",children:[(0,d.jsx)(o.Avatar,{src:e.logo,size:24,style:{border:"none",background:(0,f.p)(e.address,.8)},children:e.symbol.substring(0,2)||e.address.substring(0,2)}),(0,d.jsx)(o.Space,{direction:"vertical",size:0,children:(0,d.jsx)(o.Typography.Text,{style:{color:"#7A7B85"},children:e.symbol||e.address.substring(0,4)})})]})},e.address)))})},cn=()=>{const e=(0,s.useDispatch)(),{wormhole:{sourceTokens:t,tokenAddress:n,amount:a,processId:r}}=(0,s.useSelector)((e=>e)),{amount:i,symbol:l}=t[n]||{};return(0,d.jsxs)(o.Row,{gutter:[8,8],children:[(0,d.jsx)(o.Col,{flex:"auto",children:(0,d.jsx)(o.Typography.Text,{children:"Amount"})}),(0,d.jsx)(o.Col,{children:(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(o.Typography.Text,{type:"secondary",children:"Available:"}),(0,d.jsxs)(o.Typography.Text,{children:[(0,f.uR)(i).format("0,0.[0000]")||0," ",l]})]})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(ue,{disabled:!n||!!r,placeholder:"0",prefix:(0,d.jsx)(ln,{}),suffix:(0,d.jsx)(o.Button,{type:"text",style:{marginRight:-7},disabled:!n||!!r,onClick:()=>e(ot({amount:`${i}`})),children:"MAX"}),value:a,onValue:t=>e(ot({amount:t})),max:i||"0"})})]})},dn=()=>(0,d.jsx)(o.Card,{className:"card-page",children:(0,d.jsxs)(o.Row,{gutter:[14,14],children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(Lt,{})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(on,{})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(cn,{})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(Gt,{})})]})}),un=e=>{let{transferState:t}=e;const n=(0,s.useDispatch)(),{wormhole:{processId:a}}=(0,s.useSelector)((e=>e)),{context:i,transferData:l}=t,c=(0,r.useMemo)((()=>l.nextStep===Ie.G.Finish?"success":a===i.id?"pending":l.nextStep===Ie.G.Unknown?"unknown":"failed"),[i.id,a,l.nextStep]),p=async e=>(e.transferData.nextStep===Ie.G.WaitSigned&&(await(0,f.sA)(5e3),await n(nt())),n(zt({stateTransfer:e}))),y=()=>t.context.srcChainId===Se.rQA?window.open((0,f.kU)(t.transferData.txHash),"blank"):window.open((0,f.JO)(t.transferData.txHash),"_blank");return"success"===c?(0,d.jsx)(o.Button,{size:"small",type:"text",onClick:y,icon:(0,d.jsx)(u,{name:"open-outline"})}):"failed"===c?(0,d.jsx)(o.Button,{type:"primary",size:"small",onClick:async()=>{try{await n(ct({transferState:t})).unwrap(),await n(lt({id:i.id})).unwrap();const{sourceWallet:e,targetWallet:s}=window.wormhole;let a,r=t.context.tokenInfo;if(t.context.srcChainId===Se.rQA){if(!e.sol||!s.ether)throw new Error("Wallet is not connected");a=new Ht(e.sol,s.ether,r)}else{if(!e.ether||!s.sol)throw new Error("Wallet is not connected");a=new mt.Z(e.ether,s.sol,r)}await a.restore(t),await p(t);const o=await a.transfer(l.amount,p);L("Transfer",o),n(pt())}catch(e){Q(e),n(pt())}},disabled:!!a,children:"Retry"}):"unknown"===c?null:(0,d.jsx)(o.Button,{type:"text",size:"small",onClick:()=>n(dt({visible:!0})),children:"Reopen"})},pn={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},yn=e=>{let{tag:t}=e;const n=e=>{let n=pn[t];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${e||1})`};return(0,d.jsx)(o.Tag,{style:{margin:0,borderRadius:4,color:n(),textTransform:"capitalize"},color:n(.1),children:t})},hn=e=>{let{data:t}=e;const n=(0,s.useDispatch)(),{wormhole:{processId:a}}=(0,s.useSelector)((e=>e)),i=t.transferData.nextStep,l=(0,r.useMemo)((()=>i===Ie.G.Finish?"success":i===Ie.G.Unknown?"unknown":a===t.context.id?"pending":"failed"),[t.context.id,i,a]);return(0,r.useEffect)((()=>{n(Dt({id:t.context.id})).unwrap()}),[t.context.id,n]),i===Ie.G.Unknown?(0,d.jsx)(o.Tag,{style:{margin:0,borderRadius:4,backgroundColor:"rgba(20, 224, 65, 0.1)"},color:"processing",children:"Checking"}):(0,d.jsx)(yn,{tag:l})},mn=[{title:"TIME",dataIndex:"context",render:e=>(0,d.jsx)(o.Typography.Text,{children:kt()(e.time).format("MMM DD, YYYY HH:mm")})},{title:"TRANSACTION ID",render:e=>{const t=e.transferData.txHash;return(0,d.jsx)(o.Typography.Text,{style:{fontWeight:700},children:t?(0,f.Xn)(t,8,"..."):"--"})}},{title:"SOURCE - TARGET",dataIndex:"context",render:e=>(0,d.jsxs)(o.Space,{children:[(0,d.jsx)(ve,{chainId:e.srcChainId}),(0,d.jsx)(o.Typography.Text,{children:(0,d.jsx)(Ce,{chainId:e.srcChainId})}),(0,d.jsx)("span",{children:"-"}),(0,d.jsx)(ve,{chainId:e.targetChainId}),(0,d.jsx)(o.Typography.Text,{children:(0,d.jsx)(Ce,{chainId:e.targetChainId})})]})},{title:"AMOUNT",render:e=>{var t,n,s;return(0,d.jsxs)(o.Typography.Text,{children:[(0,f.uR)(null===e||void 0===e||null===(t=e.transferData)||void 0===t?void 0:t.amount).format("0,0.[0000]")||0," ",null===e||void 0===e||null===(n=e.context)||void 0===n||null===(s=n.tokenInfo)||void 0===s?void 0:s.symbol]})}},{title:"STATUS",width:100,render:e=>(0,d.jsx)(hn,{data:e})},{title:"ACTION",width:100,render:e=>(0,d.jsx)(un,{transferState:e})}],gn=()=>{const[e,t]=(0,r.useState)(!1),n=(0,s.useDispatch)(),{wohHistory:a,wormhole:{sourceWalletAddress:i}}=(0,s.useSelector)((e=>e)),[c,p]=(0,r.useState)(4),[y,h]=(0,r.useState)(),m=(0,r.useMemo)((()=>l.account.isAddress(i)?i:null===i||void 0===i?void 0:i.toLowerCase()),[i]),g=(0,r.useCallback)((async()=>{if(m)try{t(!0),p(4),await n(Bt({address:m,isFirstFetch:!0})).unwrap()}catch(e){Q(e)}finally{t(!1)}}),[n,m]);(0,r.useEffect)((()=>{g()}),[g]);return(0,r.useEffect)((()=>{const e=Object.values(a).sort((function(e,t){return t.context.time-e.context.time}));h(e)}),[a]),(0,d.jsxs)(o.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Table,{columns:mn,dataSource:null===y||void 0===y?void 0:y.slice(0,c),rowClassName:(e,t)=>t%2?"odd-row":"even-row",pagination:!1,scroll:{x:1e3},rowKey:e=>e.context.id,loading:e})}),(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Button,{disabled:!0===e||!i||c>=Object.keys(a).length,onClick:async()=>{p(c+4)},type:"text",icon:(0,d.jsx)(u,{name:"chevron-down-outline"}),children:"View more"})})]})};var wn=n(3007);class fn{constructor(e){this.programId=void 0,this.transLogService=new Mt,this.fetchTransLog=async(e,t)=>{const n=await this.getPDB(this.programId);let s=await n.getItem("translogs")||[];const a=s[0],r=s[s.length-1];if(a&&r){const[n]=await Promise.all([this.transLogService.collect(this.programId,{secondFrom:a.blockTime,secondTo:t})]);s=s.filter((t=>t.blockTime>e)),s=[...n,...s]}else s=await this.transLogService.collect(this.programId,{secondFrom:e,secondTo:t});const i={};for(const l of s)i[l.signature]=l;const o=Object.values(i).sort(((e,t)=>t.blockTime-e.blockTime));return await n.setItem("translogs",o),o},this.fetchHistory=async()=>{let e=new It;const t=(new It).subtractDay(30);return(await this.fetchTransLog(t.seconds(),e.seconds())).sort(((e,t)=>t.blockTime-e.blockTime))},this.programId=e}async getPDB(e){var t;const n=await(null===(t=window.sentre.wallet)||void 0===t?void 0:t.getAddress());if(!n)throw new Error("Invalid wallet address");const s=`sen-assets:${O.ef}:${e}`;return new wn.Z(n).createInstance(s)}}const xn="history",Tn=async()=>{var e;const t=await(null===(e=window.sentre.wallet)||void 0===e?void 0:e.getAddress());if(!t)throw new Error("Wallet is not connected");return t},bn=(0,B.createAsyncThunk)("history/fetchTransactionHistory",(async e=>{var t;let{accountAddress:n}=e;if(!await(null===(t=window.sentre.wallet)||void 0===t?void 0:t.getAddress()))throw new Error("Wallet is not connected");const s=new fn(n),a=await s.fetchHistory();let r=[];return await Promise.all(a.map((async e=>{const t=await(async(e,t)=>{const n=await ze.R.load("getWalletAddress",Tn),s=t.programTransfer[0];if(!s)return;const a=s.source,r=s.destination;if(!r||!a)return;const i=r.mint,o=window.sentre.splt;let c=n;if(i!==S){if(e===n)return;c=await o.deriveAssociatedAddress(n,i)}if(a.address!==c&&r.address!==c)return;return{time:kt()(1e3*t.blockTime).format("MMM DD, YYYY HH:mm"),key:t.signature,transactionId:t.signature,amount:Number(l.utils.undecimalize(BigInt(s.amount),r.decimals)),from:a.address,to:r.address,isReceive:c===r.address,mint:i}})(n,e);t&&r.push(t)}))),{transaction:r}})),jn=(0,B.createSlice)({name:xn,initialState:{transaction:[]},reducers:{},extraReducers:e=>{e.addCase(bn.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,vn=[{title:"TIME",dataIndex:"time",key:"time"},{title:"TRANSACTION ID",dataIndex:"transactionId",key:"transactionId",render:e=>(0,d.jsxs)(o.Space,{align:"baseline",children:[(0,d.jsx)(o.Typography.Text,{onClick:()=>window.open((0,f.kU)(e),"_blank"),style:{fontWeight:700,cursor:"pointer"},children:(0,f.Xn)(e,8,"...")}),(0,d.jsx)(o.Button,{type:"text",size:"small",onClick:()=>window.open((0,f.kU)(e),"_blank"),icon:(0,d.jsx)(u,{name:"open-outline"})})]})},{title:"FROM",dataIndex:"from",key:"from",render:e=>(0,d.jsx)(o.Typography.Text,{children:(0,f.Xn)(e,8,"...")})},{title:"TO",dataIndex:"to",key:"to",render:e=>(0,d.jsx)(o.Typography.Text,{children:(0,f.Xn)(e,8,"...")})},{title:"AMOUNT",key:"amount",dataIndex:"amount",render:(e,t)=>{const n=(0,f.uR)(e).format("0,0.[0000]");return(0,d.jsx)(o.Typography.Text,{style:{color:t.isReceive?"#14E041":"#D72311"},children:(0,d.jsxs)(o.Space,{size:4,children:[t.isReceive?`+${n}`:`-${n}`," ",(0,d.jsx)(w,{mintAddress:t.mint})]})})}},{title:"STATUS",key:"status",dataIndex:"status",render:e=>(0,d.jsx)(yn,{tag:"success"})}],Cn=()=>{const e=(0,s.useDispatch)(),[t,n]=(0,r.useState)(4),[a,i]=(0,r.useState)(!1),{history:{transaction:l},account:{accountSelected:c}}=(0,s.useSelector)((e=>e)),p=(0,r.useCallback)((async()=>{if(c)try{i(!0),await e(bn({accountAddress:c}))}catch(t){console.error(t)}finally{i(!1)}}),[e,c]);(0,r.useEffect)((()=>{p()}),[p]);return(0,d.jsxs)(o.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(o.Table,{className:"scrollbar",columns:vn,dataSource:l.slice(0,t),rowClassName:(e,t)=>t%2?"odd-row":"even-row",pagination:!1,scroll:{x:1e3},loading:a})}),(0,d.jsx)(o.Col,{children:(0,d.jsx)(o.Button,{onClick:()=>{n(t+4)},type:"text",icon:(0,d.jsx)(u,{name:"chevron-down-outline"}),disabled:t>=l.length,children:"View more"})})]})},kn=()=>(0,d.jsx)(o.Card,{bodyStyle:{paddingTop:12},bordered:!1,children:(0,d.jsx)(o.Row,{gutter:[24,24],children:(0,d.jsx)(o.Col,{span:24,children:(0,d.jsxs)(o.Tabs,{children:[(0,d.jsx)(o.Tabs.TabPane,{tab:"Transaction History",children:(0,d.jsx)(Cn,{})},"Transaction"),(0,d.jsx)(o.Tabs.TabPane,{tab:"Wormhole Bridge History",children:(0,d.jsx)(gn,{})},"Wormhole")]})})})});let Sn;const An=()=>((0,r.useEffect)((()=>{window.onscroll=()=>{Sn&&clearTimeout(Sn),Sn=setTimeout(i.be,500)}}),[]),(0,d.jsxs)(o.Row,{gutter:[24,24],style:{paddingBottom:12},children:[(0,d.jsx)(o.Col,{xl:8,md:12,sm:24,children:(0,d.jsx)(te,{})}),(0,d.jsx)(o.Col,{xl:8,md:12,sm:24,children:(0,d.jsx)(be,{})}),(0,d.jsx)(o.Col,{xl:8,md:12,sm:24,children:(0,d.jsx)(dn,{})}),(0,d.jsx)(o.Col,{span:24,children:(0,d.jsx)(kn,{})})]}));var In=n(85912);const Nn=(0,B.configureStore)({middleware:e=>e(In.h),devTools:(0,In.$)("sen_assets"),reducer:{history:jn,settings:X,account:P,wormhole:ht,wohHistory:Pt}}),{manifest:{appId:Mn}}=Z,Rn=()=>(0,d.jsx)(a.UIProvider,{appId:Mn,antd:!0,children:(0,d.jsx)(a.WalletProvider,{children:(0,d.jsx)(a.PoolProvider,{children:(0,d.jsx)(a.MintProvider,{children:(0,d.jsx)(a.AccountProvider,{children:(0,d.jsx)(s.Provider,{store:Nn,children:(0,d.jsx)(An,{})})})})})})}),Wn=()=>(0,d.jsx)(a.UIProvider,{appId:Mn,antd:!0,children:(0,d.jsx)(a.MintProvider,{children:(0,d.jsx)(a.PoolProvider,{children:(0,d.jsx)(a.AccountProvider,{children:(0,d.jsx)(a.WalletProvider,{children:(0,d.jsx)(s.Provider,{store:Nn,children:(0,d.jsx)(dn,{})})})})})})})},6947:(e,t,n)=>{"use strict";let s,a;n.d(t,{G:()=>a,r:()=>s}),function(e){e.Transfer="Transfer",e.Provider="Provider",e.SourceWallet="SourceWallet"}(s||(s={})),function(e){e.Transfer="Transfer",e.WaitSigned="WaitSigned",e.Redeem="Redeem",e.Finish="Finish",e.Unknown="Unknown"}(a||(a={}))},97108:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,h:()=>a});const s={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},a={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"}},14393:(e,t,n)=>{"use strict";n.d(t,{DY:()=>a,Ii:()=>i,vz:()=>r});var s=n(28151);const a={mainnet:"https://wormhole-v2-mainnet-api.certus.one",testnet:"",devnet:"https://wormhole-v2-testnet-api.certus.one"},r=[{chainID:s.rQA,name:"Solana",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{chainID:s.ZNg,name:"Ethereum",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk/logo.png"}],i="WohWallet"},67751:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var s=n(15822);class a{static set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.qf;this.mapCache.set(e,t),setTimeout((()=>{this.mapCache.delete(e)}),n.ttl)}static get(e){return this.mapCache.get(e)}}a.mapCache=new Map},15822:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>a,qf:()=>s});const s={ttl:3e4},a={limit:{calls:10,time:1e3},cache:s}},85964:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});class s{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}},85912:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,h:()=>l});var s=n(71256),a=n(48744),r=n.n(a),i=n(97429).Buffer;const o=e=>!1;BigInt.prototype.toJSON=function(){return this.toString()};const l={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof s.PublicKey||e instanceof r()||e instanceof i}}},3007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(15454),a=n.n(s),r=n(95418),i=n(83868);class o{constructor(e){if(this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=e=>a().createInstance({driver:this.driver,name:this.dbName,storeName:e}),this.dropInstance=async e=>{const t=this.createInstance(e);return await t.clear(),await a().dropInstance({name:this.dbName,storeName:e})},this.all=async()=>{let e={};const t=(await this.createInstance("sentre").getItem("appIds")||[]).flat().concat(["sentre"]);for(const n of t){e[n]={};const t=this.createInstance(n);await t.iterate(((t,s)=>{e[n][s]=t}))}return e},this.fetch=async e=>await this.ipfs.get(e),this.backup=async()=>{const e=await this.all();return await this.ipfs.set(e)},this.restore=async e=>{const t=await this.fetch(e);for(const n in t){const e=await this.createInstance(n);for(const s in t[n]){const a=t[n][s];await e.setItem(s,a)}}return t},!r.account.isAddress(e))throw new Error("Invalid address");this.dbName=e,this.driver=[a().WEBSQL,a().LOCALSTORAGE],this.ipfs=new i.Z}}const l=o},83868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(43912),a=n(34559),r=n(97429).Buffer;class i{constructor(){this._ipfs=async()=>{try{return window.ipfs||(window.ipfs=await(0,s.Ue)()),window.ipfs}catch(e){return await(0,a.sA)(500),await this._ipfs()}},this.get=async e=>{if(!i.isCID(e))throw new Error("Invalid CID");const t=await this._ipfs(),n=await t.cat(e);let s="";for await(const a of n)s+=r.from(a).toString();return JSON.parse(s)},this.set=async e=>{if(!e)throw new Error("Empty data");const t=JSON.stringify(e),n=await this._ipfs(),{path:s}=await n.add(t);return s}}}i.isCID=e=>{try{return!!e&&s.bf.multihash(e)}catch(t){return!1}};const o=i},15190:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>d,OB:()=>l,ef:()=>c});const s="sentre",a=window.localStorage,r=e=>{try{return e?JSON.parse(e):null}catch(t){return null}},i={set:(e,t)=>{let n=r(a.getItem(s));n&&"object"===typeof n||(n={}),n[e]=t,a.setItem(s,JSON.stringify(n))},get:e=>{let t=r(a.getItem(s));return t&&"object"===typeof t?t[e]:null},clear:e=>{i.set(e,null)}},o=i,l="production",c=(()=>{switch(o.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})(),d=(()=>{switch(c){case"devnet":return 103;case"testnet":return 102;default:return 101}})()},88490:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const s="sentre",a=window.sessionStorage,r=e=>{try{return e?JSON.parse(e):null}catch(t){return!1}},i={set:(e,t)=>{let n=r(a.getItem(s));n&&"object"===typeof n||(n={}),n[e]=t,a.setItem(s,JSON.stringify(n))},get:e=>{let t=r(a.getItem(s));return t&&"object"===typeof t?t[e]:null},clear:e=>{i.set(e,null)}},o=i},88677:()=>{},43094:()=>{},69159:()=>{},35883:()=>{},80950:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},64009:()=>{},42611:()=>{},88795:()=>{},89408:()=>{},34845:()=>{},87017:()=>{},74056:()=>{},57600:()=>{},56619:()=>{},21724:()=>{},39370:()=>{},62678:()=>{},25819:()=>{},77108:()=>{},52361:()=>{},94616:()=>{},33370:()=>{},55024:()=>{},23230:()=>{},55896:()=>{},87500:()=>{},33557:()=>{}}]);
//# sourceMappingURL=352.d52232d9.chunk.js.map