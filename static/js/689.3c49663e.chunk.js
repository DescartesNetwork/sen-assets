(globalThis.webpackChunksen_assets=globalThis.webpackChunksen_assets||[]).push([[689],{69833:(t,e,s)=>{"use strict";s.d(e,{eT:()=>n,oS:()=>r,ZN:()=>a,eb:()=>i,Uw:()=>o,_I:()=>d,gT:()=>c,EB:()=>l,tG:()=>h,d9:()=>u,NA:()=>g});const n={mainnet:"0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",goerli:"0x706abc4E45D419950511e474C7B9Ed348A4a716c",ropsten:"0xC89Ce4735882C9F0f0FE26686c53074E09B0D550"},r={mainnet:"0x3ee18B2214AFF97000D974cf647E7C347E8fa585",goerli:"0xf890982f9310df57d00f659cf4fd87e65aded8d7",ropsten:"0x0290FB167208Af455bB137780163b7B7a9a10C16"},a={mainnet:1,goerli:5,ropsten:3},i={url:"https://deep-index.moralis.io/api/v2",apiKey:"N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd"},o="5eb1b92f2065414d9dd21858fac54257",d="ff3fa1218f644c85a7374e40014374f1",c={mainnet:`https://mainnet.infura.io/v3/${o}`,goerli:`https://goerli.infura.io/v3/${o}`,ropsten:`https://ropsten.infura.io/v3/${o}`},l={mainnet:`wss://mainnet.infura.io/ws/v3/${o}`,goerli:`wss://goerli.infura.io/ws/v3/${o}`,ropsten:`wss://ropsten.infura.io/ws/v3/${o}`},h={mainnet:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",goerli:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",ropsten:"0xc778417e063141139fce010982780140aa0cd5ab"},u="0x1",g="0x5"},14393:(t,e,s)=>{"use strict";s.d(e,{DY:()=>r,vz:()=>a,Ii:()=>i});var n=s(28151);const r={mainnet:"https://wormhole-v2-mainnet-api.certus.one",testnet:"",devnet:"https://wormhole-v2-testnet-api.certus.one"},a=[{chainID:n.rQ,name:"Solana",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{chainID:n.ZN,name:"Ethereum",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk/logo.png"}],i="WohWallet"},29350:(t,e,s)=>{"use strict";s.d(e,{rx:()=>c});var n=s(28151),r=s(69833);const a={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},i={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"};var o=s(14393),d=s(92050);const c=t=>{const e=(0,d.FZ)(),s=(()=>{const t=(0,d.iR)();return{chainId:n.ZN,tokenBridgeAddress:r.oS[t],bridgeAddress:r.eT[t]}})();return{id:(new Date).getTime()+""+Math.random(),time:(new Date).getTime(),srcChainId:s.chainId,srcTokenBridgeAddress:s.tokenBridgeAddress,srcBridgeAddress:s.bridgeAddress,targetChainId:n.rQ,targetTokenBridgeAddress:i[e],targetBridgeAddress:a[e],wormholeRpc:o.DY[e],tokenInfo:t}}},92050:(t,e,s)=>{"use strict";s.d(e,{FZ:()=>i,iR:()=>o,T7:()=>d,Ns:()=>c,a$:()=>l,AY:()=>h});s(28151);var n=s(95418),r=(s(6947),s(15328),s(53933)),a=s(3007);const i=()=>r.Z.get("network")||"mainnet",o=()=>"mainnet"===i()?"mainnet":"goerli",d=async(t,e)=>{const s=t.serialize(),n=await e.sendRawTransaction(s,{skipPreflight:!0,preflightCommitment:"confirmed"}),{value:{err:r}}=await e.confirmTransaction(n,"confirmed");if(r)throw new Error(`${r} at ${n}`);return n},c=async(t,e)=>{if(!n.account.isAddress(t))throw new Error("Invalid mint address");const s=await e.getAddress(),r=window.sentre.splt,a=await r.deriveAssociatedAddress(s,t);let i=!1;try{const{state:t}=await r.getAccountData(a);i=t>0}catch(o){i=!1}return i||await r.initializeAccount(t,s,e),a},l=async t=>{var e;const s=await(null===(e=window.sentre.wallet)||void 0===e?void 0:e.getAddress());if(!s)throw new Error("Wallet is not connected");return new a.Z(s).createInstance("wormhole").getItem(t)},h=async(t,e)=>{var s;const n=await(null===(s=window.sentre.wallet)||void 0===s?void 0:s.getAddress());if(!n)throw new Error("Wallet is not connected");return new a.Z(n).createInstance("wormhole").setItem(t,e)}},15328:(t,e,s)=>{"use strict";s.d(e,{Z:()=>w});var n=s(28151),r=s(95418),a=s(92050),i=s(71256),o=s(6947),d=s(34559),c=s(97429).Buffer;class l{constructor(){this.context=void 0,this.transferData=void 0,this.attestData=void 0,this.getContext=()=>{if(!this.context)throw new Error("Invalid context");return this.context},this.restore=async t=>{const e=JSON.parse(JSON.stringify(t));if(!t)throw new Error("Not find state transfer");this.transferData=e.transferData,this.attestData=e.attestData,this.context=e.context},this.transfer=async(t,e)=>{const s=this.getContext();this.transferData||(this.transferData=await this.initTransferData(t));const{transferData:n}=this.getState(),{attested:r}=await this.isAttested();if(r||await this.attest(e),n.nextStep===o.G.Transfer){const{emitterAddress:t,sequence:r,txHash:a}=await this.submitTransfer();s.id=a,n.txHash=a,n.emitterAddress=t,n.sequence=r,n.nextStep=o.G.WaitSigned;const i=await this.backup();await e(i)}if(n.nextStep===o.G.WaitSigned){const t=await this.getSignedVAA(n.emitterAddress,n.sequence);n.vaaHex=t,n.nextStep=o.G.Redeem;const s=await this.backup();await e(s)}if(n.nextStep===o.G.Redeem){const t=await this.redeem(n.vaaHex);n.txId=t,n.nextStep=o.G.Finish;const s=await this.backup();return await e(s),t}throw new Error("Invalid step transfer")},this.backup=async()=>{const t=await l.fetchAll(),e=this.getState();return t[e.context.id]=e,(0,a.AY)(o.r.Transfer,t),e},this.getState=()=>{if(!this.transferData)throw new Error("Invalid data transfer");if(!this.context)throw new Error("Invalid context");return{transferData:this.transferData,context:this.context,attestData:this.attestData}},this.getSignedVAAWithRetry=async function(){let t=0;for(;;)try{console.log("Retry to get signed vaa:",++t);return await(0,n.RX)(...arguments)}catch(e){await(0,d.sA)(1e4)}},this.initTransferData=async t=>{throw new Error("Invalid function initTransferData")},this.isAttested=async()=>{throw new Error("Invalid function isAttested")},this.submitTransfer=async()=>{throw new Error("Invalid function submitTransfer")},this.submitAttest=async()=>{throw new Error("Invalid function submitAttest")},this.wrapToken=async t=>{throw new Error("Invalid function wrapToken")},this.redeem=async t=>{throw new Error("Invalid function redeem")},this.initAttestData=()=>(this.attestData||(this.attestData={step:0,sequence:"",emitterAddress:"",vaaHex:"",txId:""}),this.attestData),this.attest=async t=>{const e=this.initAttestData();if(0===e.step){const{emitterAddress:s,sequence:n}=await this.submitAttest();e.emitterAddress=s,e.sequence=n,e.step++;const r=await this.backup();await t(r)}if(1===e.step){const s=await this.getSignedVAA(e.emitterAddress,e.sequence);e.vaaHex=s,e.step++;const n=await this.backup();await t(n)}if(2===e.step){const s=await this.wrapToken(e.vaaHex);e.txId=s,e.step++;const n=await this.backup();return await t(n),s}throw new Error("Invalid step attest")}}getConnection(){const t=window.sentre.splt.nodeUrl;return new i.Connection(t,"confirmed")}async getSignedVAA(t,e){const{context:s}=this.getState(),{vaaBytes:n}=await this.getSignedVAAWithRetry(s.wormholeRpc,s.srcChainId,t,e);return c.from(n).toString("hex")}}l.fetchAll=async()=>{const t=await(0,a.a$)(o.r.Transfer);return JSON.parse(JSON.stringify(t))||{}};var h=s(29350),u=s(69833),g=s(97429).Buffer;class f extends(674==s.j?l:null){constructor(t,e,s){super(),this.srcWallet=void 0,this.targetWallet=void 0,this.isNative=()=>{var t;return(null===(t=this.context)||void 0===t?void 0:t.tokenInfo.address)===u.tG[(0,a.iR)()]},this.isAttested=async()=>{const{context:t}=this.getState(),e=await this.srcWallet.getProvider(),s=await(0,n.Ak)(t.srcTokenBridgeAddress,e,t.tokenInfo.address,n.ZN),r=await(0,n.sS)(this.getConnection(),t.targetTokenBridgeAddress,s.chainId,s.assetAddress);return{attested:!!r,wrappedMintAddress:r}},this.initTransferData=async t=>{const e=await this.srcWallet.getAddress(),s=await this.targetWallet.getAddress();return{nextStep:o.G.Transfer,amount:t,from:e,to:s,emitterAddress:"",sequence:"",vaaHex:"",txId:"",txHash:""}},this.submitTransfer=async()=>{const{transferData:t,context:e}=this.getState();let{wrappedMintAddress:s}=await this.isAttested();if(!s)throw new Error("Attest the token first");const i=(await this.srcWallet.getProvider()).getSigner(),o=r.utils.decimalize(t.amount,e.tokenInfo.decimals);await(0,n.YC)(e.srcTokenBridgeAddress,e.tokenInfo.address,i,o);const d=await(0,a.Ns)(s,this.targetWallet),c=this.isNative()?await(0,n.bo)(e.srcTokenBridgeAddress,i,o,n.rQ,r.account.fromAddress(d).toBuffer()):await(0,n.qC)(e.srcTokenBridgeAddress,i,e.tokenInfo.address,o,n.rQ,r.account.fromAddress(d).toBuffer());return{sequence:(0,n.N_)(c,e.srcBridgeAddress),emitterAddress:(0,n.Nz)(e.srcTokenBridgeAddress),txHash:c.transactionHash}},this.submitAttest=async()=>{const{context:t}=this.getState(),e=(await this.srcWallet.getProvider()).getSigner(),s=await(0,n.$6)(t.srcTokenBridgeAddress,e,t.tokenInfo.address);return{sequence:(0,n.N_)(s,t.srcBridgeAddress),emitterAddress:(0,n.Nz)(t.srcTokenBridgeAddress)}},this.wrapToken=async t=>{const{context:e}=this.getState(),s=await this.targetWallet.getAddress(),r=(0,n.GZ)(t);await(0,n.Pp)(this.getConnection(),this.targetWallet.signTransaction,e.targetBridgeAddress,s,g.from(r));const i=await(0,n.lx)(this.getConnection(),e.targetBridgeAddress,e.targetTokenBridgeAddress,s,r),o=await this.targetWallet.signTransaction(i);return await(0,a.T7)(o,this.getConnection())},this.redeem=async t=>{const{context:e}=this.getState(),s=await this.targetWallet.getAddress(),r=(0,n.GZ)(t);await(0,n.Pp)(this.getConnection(),this.targetWallet.signTransaction,e.targetBridgeAddress,s,g.from(r));const i=await(0,n.A7)(this.getConnection(),e.targetBridgeAddress,e.targetTokenBridgeAddress,s,r),o=await this.targetWallet.signTransaction(i);return await(0,a.T7)(o,this.getConnection())},this.srcWallet=t,this.targetWallet=e;const i=JSON.parse(JSON.stringify(s));this.context=(0,h.rx)(i)}}const w=674==s.j?f:null},18456:(t,e,s)=>{"use strict";s.r(e),s.d(e,{AccountProvider:()=>y,MintProvider:()=>$,PoolProvider:()=>g,UIProvider:()=>d,WalletProvider:()=>x,useAccount:()=>T,useMint:()=>z,usePool:()=>m,useUI:()=>h,useWallet:()=>k,withAccount:()=>I,withMint:()=>J,withPool:()=>w,withUI:()=>l,withWallet:()=>A});var n=s(92950),r=s(99019),a=s(87358),i=s(45263);const o=(0,n.createContext)({}),d=t=>{let{children:e,appId:s,style:d={},antd:c=!1}=t;const{ui:l}=(0,a.Qy)((t=>t)),h=(0,n.useMemo)((()=>({ui:l})),[l]),u=c?{getPopupContainer:()=>document.getElementById(s),..."object"===typeof c?c:{}}:void 0;return(0,i.jsx)(o.Provider,{value:h,children:(0,i.jsx)("section",{id:s,style:{height:"100%",backgroundColor:"transparent",...d},children:u?(0,i.jsx)(r.ConfigProvider,{...u,children:e}):e})})},c=t=>{let{children:e}=t;return(0,i.jsx)(o.Consumer,{children:t=>n.Children.map(e,(e=>(0,n.cloneElement)(e,{...t})))})},l=t=>{class e extends n.Component{render(){const{forwardedRef:e,...s}=this.props;return(0,i.jsx)(c,{children:(0,i.jsx)(t,{ref:e,...s})})}}return(0,n.forwardRef)(((t,s)=>(0,i.jsx)(e,{...t,ref:s})))},h=()=>(0,n.useContext)(o),u=(0,n.createContext)({}),g=t=>{let{children:e}=t;const{pools:s}=(0,a.Qy)((t=>t)),r=(0,n.useMemo)((()=>({pools:s})),[s]);return(0,i.jsx)(u.Provider,{value:r,children:e})},f=t=>{let{children:e}=t;return(0,i.jsx)(u.Consumer,{children:t=>n.Children.map(e,(e=>(0,n.cloneElement)(e,{...t})))})},w=t=>{class e extends n.Component{render(){const{forwardedRef:e,...s}=this.props;return(0,i.jsx)(f,{children:(0,i.jsx)(t,{ref:e,...s})})}}return(0,n.forwardRef)(((t,s)=>(0,i.jsx)(e,{...t,ref:s})))},m=()=>(0,n.useContext)(u),p=(0,n.createContext)({}),x=t=>{let{children:e}=t;const{wallet:s}=(0,a.Qy)((t=>t)),r=(0,n.useMemo)((()=>({wallet:s})),[s]);return(0,i.jsx)(p.Provider,{value:r,children:e})},v=t=>{let{children:e}=t;return(0,i.jsx)(p.Consumer,{children:t=>n.Children.map(e,(e=>(0,n.cloneElement)(e,{...t})))})},A=t=>{class e extends n.Component{render(){const{forwardedRef:e,...s}=this.props;return(0,i.jsx)(v,{children:(0,i.jsx)(t,{ref:e,...s})})}}return(0,n.forwardRef)(((t,s)=>(0,i.jsx)(e,{...t,ref:s})))},k=()=>(0,n.useContext)(p),b=(0,n.createContext)({}),y=t=>{let{children:e}=t;const{accounts:s}=(0,a.Qy)((t=>t)),r=(0,n.useMemo)((()=>({accounts:s})),[s]);return(0,i.jsx)(b.Provider,{value:r,children:e})},C=t=>{let{children:e}=t;return(0,i.jsx)(b.Consumer,{children:t=>n.Children.map(e,(e=>(0,n.cloneElement)(e,{...t})))})},I=t=>{class e extends n.Component{render(){const{forwardedRef:e,...s}=this.props;return(0,i.jsx)(C,{children:(0,i.jsx)(t,{ref:e,...s})})}}return(0,n.forwardRef)(((t,s)=>(0,i.jsx)(e,{...t,ref:s})))},T=()=>(0,n.useContext)(b);var E=s(33015),D=s(11796),S=s(67845),B=s(63805),R=s(55852);const j=t=>({symbol:"SOL",name:"Solana",address:"11111111111111111111111111111111",decimals:9,chainId:t,extensions:{coingeckoId:"solana"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"}),W=t=>({symbol:"SNTR",name:"Sentre",address:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",decimals:9,chainId:t,extensions:{coingeckoId:"sentre"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png"}),M=[j(103),W(103),{symbol:"wBTC",name:"Wrapped Bitcoin",address:"8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM",decimals:9,chainId:103,extensions:{coingeckoId:"bitcoin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png"},{symbol:"wETH",name:"Ethereum",address:"27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c",decimals:9,chainId:103,extensions:{coingeckoId:"ethereum"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png"},{symbol:"UNI",name:"Uniswap",address:"FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe",decimals:9,chainId:103,extensions:{coingeckoId:"uniswap"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png"},{symbol:"USDC",name:"USD Coin",address:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",decimals:9,chainId:103,extensions:{coingeckoId:"usd-coin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"}],{sol:{chainId:P}}=R.Z,q=/[\W_]+/g,N={tokenize:"full",context:!0,minlength:3},U={document:{id:"address",index:[{field:"symbol",...N},{field:"name",...N}]}};const Z=class{constructor(){this.tokenMap=void 0,this.engine=void 0,this.chainId=void 0,this.cluster=void 0,this.loading=void 0,this.queue=void 0,this._init=async()=>this.tokenMap.size?[this.tokenMap,this.engine]:new Promise((async t=>{if(this.loading)return this.queue.push(t);this.loading=!0;let e=await(await(new S.DK).resolve()).filterByChainId(this.chainId).getList();for("devnet"===this.cluster&&(e=e.concat(M)),e="testnet"===this.cluster?e.concat([W(102),j(102)]):e.concat([j(101)]),e.forEach((t=>this.tokenMap.set(t.address,t))),this.engine=new D.Document(U),this.tokenMap.forEach((t=>{let{address:e,...s}=t;return this.engine.add(e,s)})),t([this.tokenMap,this.engine]);this.queue.length;)this.queue.shift()([this.tokenMap,this.engine]);this.loading=!1})),this.all=async()=>{const[t]=await this._init();return Array.from(t.values())},this.findByAddress=async t=>{const[e]=await this._init();return e.get(t)},this.find=async(t,e)=>{const[s,n]=await this._init();let r=[];return t.split(q).forEach((t=>n.search(t,e).forEach((t=>{let{result:e}=t;return e.forEach((t=>{if(r.findIndex((e=>{let{address:s}=e;return s===t}))<0){const e=s.get(t);e&&r.push(e)}}))})))),r},this.tokenMap=new Map,this.engine=void 0,this.chainId=P,this.cluster=B.ef,this.loading=!1,this.queue=[],this._init()}};var F=s(95418);const G=new Z,H=(0,n.createContext)({}),$=t=>{let{children:e}=t;const s=(0,a.u5)(),{mints:r,pools:o}=(0,a.Qy)((t=>t)),d=(0,n.useCallback)((async function(){return await s((0,E.ih)(...arguments)).unwrap()}),[s]),c=(0,n.useCallback)((async t=>{var e;if(!F.account.isAddress(t))throw new Error("Invalid mint address");const s=await G.findByAddress(t);if(null!==s&&void 0!==s&&s.decimals)return s.decimals;if(Object.values(o).findIndex((e=>{let{mint_lpt:s}=e;return s===t}))>=0)return 9;const n=await d({address:t});if(null!==(e=n[t])&&void 0!==e&&e.decimals)return n[t].decimals;throw new Error("Cannot find mint decimals")}),[d,o]),l=(0,n.useMemo)((()=>({mints:r,getMint:d,getDecimals:c,tokenProvider:G})),[r,d,c]);return(0,i.jsx)(H.Provider,{value:l,children:e})},Q=t=>{let{children:e}=t;return(0,i.jsx)(H.Consumer,{children:t=>n.Children.map(e,(e=>(0,n.cloneElement)(e,{...t})))})},J=t=>{class e extends n.Component{render(){const{forwardedRef:e,...s}=this.props;return(0,i.jsx)(Q,{children:(0,i.jsx)(t,{ref:e,...s})})}}return(0,n.forwardRef)(((t,s)=>(0,i.jsx)(e,{...t,ref:s})))},z=()=>(0,n.useContext)(H)},63805:(t,e,s)=>{"use strict";s.d(e,{OB:()=>r,ef:()=>a,Eu:()=>i});var n=s(53933);const r="production",a=(()=>{switch(n.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})(),i=t=>(n.Z.set("network",t),window.location.reload())},34559:(t,e,s)=>{"use strict";s.d(e,{sA:()=>c,Xn:()=>l,kU:()=>h,JO:()=>u,uR:()=>g,p:()=>f,l$:()=>w});var n=s(95418),r=s(92050),a=s(16200),i=s.n(a),o=s(63805),d=s(57452);const c=t=>new Promise((e=>setTimeout(e,t))),l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return t.substring(0,e)+s+t.substring(t.length-e,t.length)},h=t=>n.account.isAddress(t)?`https://explorer.solana.com/address/${t}?cluster=${o.ef}`:`https://explorer.solana.com/tx/${t}?cluster=${o.ef}`,u=t=>"goerli"===(0,r.iR)()?`https://goerli.etherscan.io/tx/${t}`:`https://etherscan.io/tx/${t}`,g=t=>t?i()(t):i()("0"),f=(t,e)=>{let s=Math.floor(16777215*Math.random());if(t){s=0;for(let e=0;e<t.length;e++)s=t.charCodeAt(e)+((s<<5)-s)}var n=[0,0,0];for(let a=0;a<3;a++){var r=s>>8*a&255;n[a]=r}return`rgba(${n[0]}, 100, ${n[1]},${e||1})`},w=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.R.load("fetchCGK"+t,(()=>n.utils.parseCGK(t)))}},28608:()=>{}}]);
//# sourceMappingURL=689.3c49663e.chunk.js.map