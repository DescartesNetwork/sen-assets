(self.webpackChunksen_assets=self.webpackChunksen_assets||[]).push([[597],{52765:function(e,t,n){"use strict";n.r(t),n.d(t,{Page:function(){return Cn},Widget:function(){return Zn},widgetConfig:function(){return Sn}});var r=n(55754),a=n(49142),s=n(78589),c=n(15861),i=n(29439),o=n(87757),u=n.n(o),d=n(92950),l=n(65191),f=function(e){var t=(0,a.useMint)().tokenProvider,n=(0,a.usePool)().pools,r=(0,d.useState)([void 0]),s=(0,i.Z)(r,2),o=s[0],l=s[1],f=(0,d.useCallback)((0,c.Z)(u().mark((function r(){var a,s,c,i,o,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",l([void 0]));case 2:return r.next=4,t.findByAddress(e);case 4:if(!(a=r.sent)){r.next=7;break}return r.abrupt("return",l([a]));case 7:if(s=Object.values(n).find((function(t){return t.mint_lpt===e}))){r.next=10;break}return r.abrupt("return",l([void 0]));case 10:return c=s.mint_a,i=s.mint_b,r.next=13,t.findByAddress(c);case 13:return o=r.sent,r.next=16,t.findByAddress(i);case 16:return d=r.sent,r.abrupt("return",l([o,d]));case 18:case"end":return r.stop()}}),r)}))),[e,n,t]);return(0,d.useEffect)((function(){f()}),[f]),o},p=n(45263),h=function(e){var t=e.mintAddress,n=e.size,r=void 0===n?24:n,a=e.icon,c=void 0===a?(0,p.jsx)(l.Z,{name:"diamond-outline"}):a,i=f(t);return(0,p.jsx)(s.Avatar.Group,{style:{display:"block"},children:i.map((function(e,t){return(0,p.jsx)(s.Avatar,{src:null===e||void 0===e?void 0:e.logoURI,size:r,style:{backgroundColor:"#2D3355",border:"none"},children:c},(null===e||void 0===e?void 0:e.address)||t)}))})},x=n(34559),v=function(e){var t=e.mintAddress,n=void 0===t?"":t,r=e.separator,a=void 0===r?" \u2022 ":r,s=f(n),c=(0,d.useMemo)((function(){var e=s.map((function(e){if(!e)return(0,x.Xn)(n);var t=e.name,r=e.address,a=e.symbol;return 1===s.length&&t?t:a||(0,x.Xn)(r)})).join(a);return 1===s.length?e:"".concat(e," LP")}),[n,a,s]);return(0,p.jsx)("span",{children:c})},m=function(e){var t=e.mintAddress,n=e.separator,r=void 0===n?" \u2022 ":n,a=f(t),s=(0,d.useMemo)((function(){return a.map((function(e){return e?e.symbol:"UNKN"})).join(r)}),[r,a]);return(0,p.jsx)("span",{children:s})},w=n(35105),g={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},y=function(e){var t=(0,d.useState)(g),n=(0,i.Z)(t,2),r=n[0],s=n[1],o=(0,a.useMint)().tokenProvider,l=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n,r,a,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.findByAddress(e);case 3:return r=t.sent,a=null===r||void 0===r||null===(n=r.extensions)||void 0===n?void 0:n.coingeckoId,t.next=7,(0,w.l)(a);case 7:return c=t.sent,t.abrupt("return",s(c));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",s(g));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[e,o]);return(0,d.useEffect)((function(){l()}),[l]),r},b=n(1413),j={up:"#14E041",down:"#D72311",default:"#FFC580"},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=Object.assign((0,b.Z)({},j),t);return e<0?n.down:e>0?n.up:n.default},T=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,a=e.configs,s=y(t),c=k(null===s||void 0===s?void 0:s.priceChange,a);return(0,p.jsxs)("span",{style:{color:r?c:"inherit"},children:[(0,x.uR)(Math.abs(null===s||void 0===s?void 0:s.priceChange)).format("0.[0]"),"%"]})},A=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,a=e.configs,s=y(t),c=k(null===s||void 0===s?void 0:s.priceChange,a),i="remove-outline";return(null===s||void 0===s?void 0:s.priceChange)<0&&(i="arrow-down-outline"),(null===s||void 0===s?void 0:s.priceChange)>0&&(i="arrow-up-outline"),(0,p.jsx)("span",{style:{color:r?c:"inherit"},children:(0,p.jsx)(l.Z,{name:i})})},C=function(e){var t=e.mintAddress,n=e.colorized,r=void 0!==n&&n,a=e.configs,s=y(t),c=k(null===s||void 0===s?void 0:s.priceChange,a);return(0,p.jsx)("span",{style:{color:r?c:"inherit"},children:null!==s&&void 0!==s&&s.price?"$".concat((0,x.uR)(null===s||void 0===s?void 0:s.price).format("0,0.[00]")):"--"})},S=n(95418),Z="11111111111111111111111111111111",I="So11111111111111111111111111111111111111112",D=function(e){var t=(0,d.useState)(0),n=(0,i.Z)(t,2),r=n[0],s=n[1],o=(0,a.useMint)(),l=o.tokenProvider,f=o.getMint,p=(0,a.usePool)().pools,h=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n,r,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",s(0));case 2:return t.next=4,l.findByAddress(e);case 4:if(!(n=t.sent)){t.next=7;break}return t.abrupt("return",s(n.decimals));case 7:t.t0=u().keys(p);case 8:if((t.t1=t.t0()).done){t.next=15;break}if(r=t.t1.value,p[r].mint_lpt!==e){t.next=13;break}return t.abrupt("return",9);case 13:t.next=8;break;case 15:return t.prev=15,t.next=18,f({address:e});case 18:return a=t.sent,t.abrupt("return",s(a[e].decimals));case 22:return t.prev=22,t.t2=t.catch(15),t.abrupt("return",s(0));case 25:case"end":return t.stop()}}),t,null,[[15,22]])}))),[f,e,p,l]);return(0,d.useEffect)((function(){h()}),[h]),r},W=function(e){var t=(0,a.useAccount)().accounts,n=(0,a.useWallet)().wallet,r=(0,d.useMemo)((function(){return e===n.address?{amount:n.lamports,mint:Z}:t[e]||{}}),[e,t,n.address,n.lamports]),s=r.amount,c=r.mint,i=D(c);return(0,d.useMemo)((function(){return{balance:S.utils.undecimalize(s,i),mint:c,amount:s,decimals:i}}),[s,i,c])},R=function(e){var t=e.accountAddr,n=e.inUSD,r=void 0!==n&&n,a=e.autoHidden,s=void 0!==a&&a,c=e.format,i=void 0===c?"0,0.[00]":c,o=W(t),u=o.amount,l=o.mint,f=o.decimals,h=y(l),v=(0,d.useMemo)((function(){var e=Number(S.utils.undecimalize(u,f));return r&&(e=Number(e)*h.price),(r?"$":"")+(0,x.uR)(e).format(i)}),[u,h.price,f,i,r]);return s&&!h.price?(0,p.jsx)("span",{children:"--"}):(0,p.jsx)("span",{children:v})},E=function(e){var t,n=e.accountAddr,r=e.active,c=void 0!==r&&r,i=e.onClick,o=void 0===i?function(){}:i,u=null===(t=(0,a.useAccount)().accounts[n])||void 0===t?void 0:t.mint;return(0,p.jsx)(s.Card,{className:"account-item ".concat(c?"active":""),bodyStyle:{padding:12},hoverable:!0,onClick:function(){return o(n)},children:(0,p.jsxs)(s.Row,{children:[(0,p.jsx)(s.Col,{span:12,children:(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(h,{mintAddress:u,size:32}),(0,p.jsxs)(s.Space,{direction:"vertical",size:0,children:[(0,p.jsx)(s.Typography.Text,{children:(0,p.jsx)(m,{mintAddress:u})}),(0,p.jsx)(s.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(v,{mintAddress:u})})]})]})}),(0,p.jsx)(s.Col,{flex:"auto",style:{height:"100%"},children:(0,p.jsxs)(s.Space,{direction:"vertical",size:0,align:"start",children:[(0,p.jsx)(s.Typography.Text,{children:(0,p.jsx)(R,{accountAddr:n})}),(0,p.jsx)(s.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(R,{accountAddr:n,inUSD:!0,autoHidden:!0})})]})}),(0,p.jsx)(s.Col,{children:(0,p.jsxs)(s.Space,{direction:"vertical",size:0,align:"end",children:[(0,p.jsx)(s.Typography.Text,{children:(0,p.jsxs)(s.Space,{size:2,children:[(0,p.jsx)(A,{mintAddress:u,colorized:!0}),(0,p.jsx)(T,{mintAddress:u,colorized:!0})]})}),(0,p.jsx)(s.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(C,{mintAddress:u})})]})})]})})},P=function(e){var t=e.onChange,n=(0,r.useSelector)((function(e){return e.settings})),o=n.hiddenZeros,f=n.hiddenUnknownTokens,h=(0,d.useState)(""),x=(0,i.Z)(h,2),v=x[0],m=x[1],w=(0,a.useAccount)().accounts,g=(0,a.useMint)().tokenProvider,y=(0,a.usePool)().pools,b=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mint,t.amount||!o){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,g.findByAddress(n);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:r=0,a=Object.values(y);case 9:if(!(r<a.length)){e.next=16;break}if(a[r].mint_lpt!==n){e.next=13;break}return e.abrupt("return",!0);case 13:r++,e.next=9;break;case 16:return e.abrupt("return",!f);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,o,y,g]),j=(0,d.useCallback)((0,c.Z)(u().mark((function e(){var n,r,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=u().keys(w);case 2:if((e.t1=e.t0()).done){e.next=18;break}if(r=e.t1.value,a=w[r],!(v&&v.length>2)){e.next=12;break}return e.next=8,g.find(v);case 8:if(s=e.sent,s.map((function(e){return e.address})).includes(a.mint)){e.next=12;break}return e.abrupt("continue",2);case 12:return e.next=14,b(a);case 14:e.sent&&(n[r]=a),e.next=2;break;case 18:return e.abrupt("return",t(n));case 19:case"end":return e.stop()}}),e)}))),[w,v,t,g,b]);return(0,d.useEffect)((function(){j()}),[j]),(0,p.jsx)(s.Row,{gutter:[16,16],children:(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Input,{placeholder:"Search",value:v,size:"large",style:{background:"transparent"},prefix:(0,p.jsx)(s.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:v?function(){return m("")}:function(){},icon:(0,p.jsx)(l.Z,{name:v?"close-outline":"search-outline"})}),onChange:function(e){return m(e.target.value)}})})})},B=n(36498),z=n(19289),N="account",O=(0,z.createAsyncThunk)("".concat(N,"/selectAccount"),function(){var e=(0,c.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,e.abrupt("return",{accountSelected:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=(0,z.createSlice)({name:N,initialState:{accountSelected:""},reducers:{},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,L=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.active,c=void 0!==r&&r,i=e.price,o=void 0===i||i,u=(0,a.useWallet)().wallet,d=u.address,l=u.lamports,f=S.utils.undecimalize(l,9);return(0,p.jsx)(s.Card,{className:"account-item ".concat(c?"active":""),bodyStyle:{padding:"8px 12px",cursor:"pointer"},onClick:function(){return n(d)},hoverable:!0,children:(0,p.jsxs)(s.Row,{gutter:[12,8],align:"middle",wrap:!1,children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsxs)(s.Space,{style:{whiteSpace:"nowrap"},children:[(0,p.jsx)(h,{mintAddress:Z,size:22}),(0,p.jsxs)(s.Tooltip,{title:"".concat(f," SOL"),children:[(0,p.jsxs)(s.Typography.Text,{children:[(0,p.jsx)(R,{accountAddr:d})," "]}),(0,p.jsx)(s.Typography.Text,{type:"secondary",children:"SOL"})]}),(0,p.jsx)(s.Divider,{type:"vertical",style:{margin:0}}),(0,p.jsx)(s.Typography.Text,{children:(0,p.jsx)(R,{accountAddr:d,inUSD:!0})})]})}),o&&(0,p.jsxs)(s.Col,{children:[(0,p.jsx)(A,{mintAddress:Z,colorized:!0}),(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(T,{mintAddress:Z,colorized:!0}),(0,p.jsx)(s.Typography.Text,{type:"secondary",children:(0,p.jsx)(C,{mintAddress:Z})})]})]})]})})},U=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.account})).accountSelected,n=(0,a.useMint)().tokenProvider,o=(0,a.useWallet)().wallet,l=(0,d.useState)([]),f=(0,i.Z)(l,2),h=f[0],x=f[1],v=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var r,a,s,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],e.t0=u().keys(t);case 3:if((e.t1=e.t0()).done){e.next=15;break}return s=e.t1.value,c=t[s],e.next=8,n.findByAddress(c.mint);case 8:if(!(i=e.sent)){e.next=12;break}return"SEN"===i.symbol?a.push(s):r.unshift(s),e.abrupt("continue",3);case 12:r.push(s),e.next=3;break;case 15:return e.abrupt("return",x([].concat(a,r)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return(0,d.useEffect)((function(){t||e(O({account:o.address}))}),[t,e,o.address]),(0,p.jsxs)(s.Row,{gutter:[12,12],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(P,{onChange:v})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(L,{active:t===o.address,onClick:function(t){return e(O({account:t}))}})}),h.map((function(n){return(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(B.ZP,{height:64,overflow:!0,children:(0,p.jsx)(E,{accountAddr:n,active:t===n,onClick:function(t){return e(O({account:t}))}})})},n)}))]})};var q,H,F,Y=n.p+"static/media/sen.f2d012c907167ba613b035621b6423cb.svg",Q=function(e){var t=e.spacing,n=void 0===t?4:t,r=e.iconSize,a=void 0===r?20:r;return(0,p.jsxs)(s.Space,{size:n,children:[(0,p.jsx)(s.Typography.Text,{style:{fontSize:12,color:"#7A7B85"},children:"Powered by"}),(0,p.jsx)(s.Avatar,{src:Y,size:a})]})},V=function(e,t){return window.notify({type:"success",description:"".concat(e," successfully. Click to view details."),onClick:function(){return window.open((0,x.kU)(t),"_blank")}})},X=function(e){return window.notify({type:"error",description:e.message})},_=function(e){var t=e.mint,n=t.logoURI,r=t.symbol,o=t.name,f=t.address,h=(0,d.useState)(!1),x=(0,i.Z)(h,2),v=x[0],m=x[1],w=(0,a.useWallet)().wallet.address,g=(0,a.useAccount)().accounts,y=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.sentre,n=t.splt,a=t.wallet,!v&&S.account.isAddress(w)&&S.account.isAddress(f)&&a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,n.initializeAccount(f,w,a);case 6:return s=e.sent,c=s.txId,e.abrupt("return",V("Import ".concat(r),c));case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",X(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.splt,e.next=3,t.deriveAssociatedAddress(w,f);case 3:return n=e.sent,e.abrupt("return",m(Object.keys(g).includes(n)));case 5:case"end":return e.stop()}}),e)})))()}),[g,f,w]),(0,p.jsx)(s.Card,{className:"account-item",bodyStyle:{padding:16},bordered:!1,children:(0,p.jsxs)(s.Row,{gutter:[16,16],wrap:!1,children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(s.Avatar,{src:n}),(0,p.jsx)(s.Typography.Text,{type:"secondary",children:r}),(0,p.jsx)(s.Typography.Text,{children:o})]})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(s.Button,{type:"text",style:{color:v?"#3DBA4E":"inherit"},icon:(0,p.jsx)(l.Z,{name:v?"checkmark-outline":"add-outline"}),onClick:y})})]})})},G=function(e){var t=e.onChange,n=(0,d.useState)(""),r=(0,i.Z)(n,2),o=r[0],f=r[1],h=(0,a.useMint)().tokenProvider;return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&!(o.length<3)){e.next=2;break}return e.abrupt("return",t(null));case 2:return e.next=4,h.find(o);case 4:return n=e.sent,e.abrupt("return",t(n));case 6:case"end":return e.stop()}}),e)})))()}),[o,t,h]),(0,p.jsx)(s.Card,{bodyStyle:{padding:8},bordered:!1,children:(0,p.jsx)(s.Input,{placeholder:"Search",value:o,size:"small",bordered:!1,prefix:(0,p.jsx)(s.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:o?function(){return f("")}:function(){},icon:(0,p.jsx)(l.Z,{name:o?"close-outline":"search-outline"})}),suffix:(0,p.jsx)(Q,{}),onChange:function(e){return f(e.target.value)}})})},J=function(){var e=(0,d.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],o=(0,d.useState)(),f=(0,i.Z)(o,2),h=f[0],x=f[1],v=(0,d.useState)(),m=(0,i.Z)(v,2),w=m[0],g=m[1],y=(0,a.useMint)().tokenProvider;return(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.all();case 2:return t=e.sent,e.abrupt("return",x(t));case 4:case"end":return e.stop()}}),e)})))()}),[y]),(0,p.jsxs)(s.Row,{gutter:[16,16],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Button,{type:"primary",icon:(0,p.jsx)(l.Z,{name:"add-outline"}),onClick:function(){return r(!0)},block:!0,children:"Import token"})}),(0,p.jsx)(s.Modal,{visible:n,onCancel:function(){return r(!1)},closeIcon:(0,p.jsx)(l.Z,{name:"close-outline"}),footer:null,centered:!0,destroyOnClose:!0,children:(0,p.jsxs)(s.Row,{gutter:[16,16],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Typography.Title,{level:5,children:"Token Selection"})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(G,{onChange:g})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Row,{gutter:[16,16],style:{height:300,overflow:"auto"},children:(w||h||[]).map((function(e,t){return(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(B.ZP,{height:64,overflow:!0,children:(0,p.jsx)(_,{mint:e})})},t)}))})})]})})]})},K="settings",$=(0,z.createAsyncThunk)("".concat(K,"/setHiddenZeros"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,a=n.getState,s=a(),c=s.settings,e.abrupt("return",(0,b.Z)((0,b.Z)({},c),{},{hiddenZeros:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ee=(0,z.createAsyncThunk)("".concat(K,"/setHiddenUnknownTokens"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,a=n.getState,s=a(),c=s.settings,e.abrupt("return",(0,b.Z)((0,b.Z)({},c),{},{hiddenUnknownTokens:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),te=(0,z.createSlice)({name:K,initialState:{hiddenZeros:!1,hiddenUnknownTokens:!0},reducers:{},extraReducers:function(e){e.addCase($.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(ee.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,ne=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.settings})),n=t.hiddenZeros,a=t.hiddenUnknownTokens;return(0,p.jsx)(s.Popover,{zIndex:1e3,content:(0,p.jsxs)(s.Row,{gutter:[8,8],style:{maxWidth:224},children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Space,{size:"large",children:[(0,p.jsx)(s.Switch,{size:"small",checked:n,onChange:function(t){return e($({checked:t}))}}),(0,p.jsx)(s.Typography.Text,{children:"Hide zero balances"})]})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Space,{size:"large",children:[(0,p.jsx)(s.Switch,{size:"small",checked:a,onChange:function(t){return e(ee({checked:t}))}}),(0,p.jsx)(s.Typography.Text,{children:"Hide unknown tokens"})]})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(J,{})})]}),trigger:"click",placement:"topRight",children:(0,p.jsx)(l.Z,{style:{cursor:"pointer"},name:"cog-outline"})})},re=function(){return(0,p.jsx)(s.Card,{className:"card-page card-sen-assets",bordered:!1,children:(0,p.jsxs)(s.Row,{gutter:[24,24],align:"middle",children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsx)(s.Typography.Title,{level:4,children:"Sen Assets"})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(ne,{})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(U,{})})]})})},ae=n(38288),se=n.n(ae),ce=n(51518),ie=n.n(ce),oe=function(e){var t=e.name,n=e.color,r=void 0===n?"#BEC4EC":n,a=e.onClick,s=void 0===a?function(){}:a;return(0,p.jsx)("span",{onClick:s,style:{cursor:"pointer",color:r},children:(0,p.jsx)(l.Z,{name:t})})},ue=function(e){var t=e.address;return(0,p.jsx)(s.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,p.jsx)(se(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,p.jsx)(oe,{name:"qr-code-outline"})})},de=function(){var e=(0,a.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],o=n[1],l=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),setTimeout((function(){o(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(s.Space,{size:10,children:[(0,p.jsx)(s.Typography.Text,{style:{color:"#E9E9EB",cursor:"pointer"},onClick:function(){return window.open((0,x.kU)(e),"_blank")},children:(0,x.Xn)(e,3,"...")}),(0,p.jsx)(s.Tooltip,{title:"Copied",visible:r,children:(0,p.jsx)(ie(),{text:e,onCopy:l,children:(0,p.jsx)(oe,{name:"copy-outline",onClick:l})})}),(0,p.jsx)(ue,{address:e})]})},le=function(e){var t=e.mintAddress;return(0,p.jsxs)(s.Row,{children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(h,{mintAddress:t}),(0,p.jsx)(s.Typography.Title,{className:"title-color",level:5,children:(0,p.jsx)(m,{mintAddress:t})})]})}),(0,p.jsx)(s.Col,{children:(0,p.jsxs)(s.Space,{size:1,align:"end",children:[(0,p.jsx)(A,{mintAddress:t,colorized:!0}),(0,p.jsx)(T,{mintAddress:t,colorized:!0}),(0,p.jsx)(s.Divider,{className:"text-secondary",type:"vertical",style:{padding:0}}),(0,p.jsx)(s.Typography.Text,{className:"text-color",children:(0,p.jsx)(C,{mintAddress:t})})]})})]})},fe=function(){var e=(0,r.useSelector)((function(e){return e.account})).accountSelected,t=W(e).mint;return(0,p.jsxs)(s.Row,{className:"header-balance",gutter:[16,16],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Row,{children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsx)(s.Typography.Text,{className:"text-secondary",children:"Your balance"})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(de,{})})]})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Row,{gutter:[8,8],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(le,{mintAddress:t})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Space,{align:"baseline",children:[(0,p.jsx)(s.Typography.Title,{className:"title-color",level:3,children:(0,p.jsx)(R,{accountAddr:e})}),(0,p.jsxs)(s.Typography.Text,{className:"text-secondary",children:["~",(0,p.jsx)(R,{accountAddr:e,inUSD:!0})]})]})})]})})]})},pe=n(45987),he=["max","onValue","onChange","onBlur"],xe=(0,d.forwardRef)((function(e,t){var n,r=e.max,a=e.onValue,c=void 0===a?function(){}:a,o=e.onChange,u=void 0===o?function(){}:o,f=e.onBlur,h=void 0===f?function(){}:f,x=(0,pe.Z)(e,he),v=(0,d.useState)(""),m=(0,i.Z)(v,2),w=m[0],g=m[1],y=(0,d.useState)(null),j=(0,i.Z)(y,2),k=j[0],T=j[1],A=(0,d.useRef)(t),C=(0,d.useCallback)((function(e){var t=function(e){q&&(clearTimeout(q),q=void 0),g(e),q=setTimeout((function(){return g("")}),500)};return/^\d*(\.\d*)?$/.test(e)?r&&parseFloat(e)>parseFloat(r.toString())?t("Not enough balance"):c(e):t("Invalid character")}),[r,c]);return null===A||void 0===A||null===(n=A.current)||void 0===n||n.setSelectionRange(k,k),(0,p.jsx)(s.Tooltip,{title:(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(l.Z,{name:"warning"}),w]}),visible:!!w,children:(0,p.jsx)(s.Input,(0,b.Z)((0,b.Z)({},x),{},{onBlur:function(e){h(e);var t=Number(e.target.value);e.target.value&&C(t?t.toString():"")},onChange:function(e){u(e),T(e.target.selectionStart),C(e.target.value||"")},ref:A}))})})),ve=function(e){var t=e.accountAddr,n=e.onChange,r=e.value,a=W(t);return(0,p.jsxs)(s.Row,{gutter:[8,8],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Typography.Text,{children:"Amount"})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(xe,{placeholder:"0",prefix:(0,p.jsx)(s.Typography.Text,{type:"secondary",children:(0,p.jsx)(m,{mintAddress:a.mint})}),suffix:(0,p.jsx)(s.Button,{type:"text",style:{marginRight:-7},onClick:function(){return n(a.balance)},children:"MAX"}),value:r,onValue:n,max:a.balance})})]})},me=function(e){var t=e.onChange,n=e.value,r=(0,a.useWallet)().wallet.address;return(0,p.jsxs)(s.Row,{gutter:[8,8],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Typography.Text,{children:"Receiver Address"})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Input,{size:"large",placeholder:"".concat(r.substring(0,12),"..."),value:n,onChange:function(e){return t(e.target.value)}})})]})},we=function(e){var t=e.accountAddr,n=(0,d.useState)(""),r=(0,i.Z)(n,2),a=r[0],o=r[1],l=W(t),f=l.mint,h=l.decimals,x=(0,d.useState)(!1),v=(0,i.Z)(x,2),m=v[0],w=v[1],g=(0,d.useState)("0"),y=(0,i.Z)(g,2),b=y[0],j=y[1],k=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.sentre,n=t.splt,r=t.wallet){e.next=3;break}throw new Error("Login first");case 3:if(s=a,S.account.isAssociatedAddress(s)){e.next=8;break}return e.next=7,n.deriveAssociatedAddress(a,f);case 7:s=e.sent;case 8:return e.prev=8,e.next=11,n.getAccountData(s);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),e.next=17,n.initializeAccount(f,a,r);case 17:return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,c.Z)(u().mark((function e(){var n,r,s,c,i,o,d,l,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),e.prev=1,n=window.sentre,r=n.splt,s=n.wallet,c=n.lamports,s){e.next=5;break}return e.abrupt("return");case 5:if(i=S.utils.decimalize(b,h),f!==Z){e.next=11;break}return e.next=9,c.transfer(i,a,s);case 9:return o=e.sent,e.abrupt("return",V("Transfer",o));case 11:return e.next=13,k();case 13:if(d=e.sent){e.next=16;break}throw new Error("Invalid destination address");case 16:return e.next=18,r.transfer(i,t,d,s);case 18:return l=e.sent,p=l.txId,e.abrupt("return",V("Transfer",p));case 23:e.prev=23,e.t0=e.catch(1),X(e.t0);case 26:return e.prev=26,w(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,23,26,29]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(s.Row,{gutter:[16,16],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(me,{onChange:o,value:a})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(ve,{accountAddr:t,onChange:j,value:b})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Button,{type:"primary",onClick:T,block:!0,loading:m,disabled:!Number(b),children:"Transfer"})})]})},ge=function(e){var t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,(0,x.sA)(1500);case 3:a(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(s.Input,(0,b.Z)((0,b.Z)({},e),{},{suffix:(0,p.jsx)(s.Tooltip,{title:"Copied",visible:r,children:(0,p.jsx)(ie(),{text:String(e.value),onCopy:o,children:(0,p.jsx)(s.Button,{type:"text",size:"small",icon:(0,p.jsx)(l.Z,{name:"copy-outline"})})})})}))},ye=function(e){var t=e.accountAddr,n=(0,a.useAccount)().accounts,r=(0,a.useWallet)().wallet,o=(0,d.useState)(!1),l=(0,i.Z)(o,2),f=l[0],h=l[1],x=(0,d.useState)(""),v=(0,i.Z)(x,2),m=v[0],w=v[1],g=(0,d.useCallback)((0,c.Z)(u().mark((function e(){var a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&t!==r.address){e.next=2;break}return e.abrupt("return",w(r.address));case 2:return a=window.sentre.splt,s=n[t].mint,e.next=6,a.deriveAssociatedAddress(r.address,s);case 6:return c=e.sent,e.abrupt("return",w(c));case 8:case"end":return e.stop()}}),e)}))),[t,n,f,r.address]);return(0,d.useEffect)((function(){g()}),[g]),(0,p.jsxs)(s.Row,{justify:"center",gutter:[16,16],children:[(0,p.jsx)(s.Col,{style:{background:"#f4f4f5",paddingTop:8},children:(0,p.jsx)(se(),{value:m,size:110,bgColor:"#ffffff",fgColor:"#1f1f1f"})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Row,{gutter:[8,8],children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsx)(s.Typography.Text,{children:f?"Derive associated address":"Wallet address"})}),(0,p.jsx)(s.Col,{children:t!==r.address&&(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(s.Typography.Text,{children:"Dev mode"}),(0,p.jsx)(s.Switch,{size:"small",checked:f,onChange:h})]})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(ge,{size:"large",value:m})})]})})]})},be=BigInt(2039280),je=function(){var e=(0,r.useDispatch)(),t=(0,d.useState)(""),n=(0,i.Z)(t,2),o=n[0],l=n[1],f=(0,d.useState)(!1),h=(0,i.Z)(f,2),x=h[0],v=h[1],w=(0,d.useState)(""),g=(0,i.Z)(w,2),y=g[0],b=g[1],j=(0,a.useWallet)().wallet.address,k=W(y),T=W(j),A=void 0===k.amount,C=S.utils.undecimalize(k.amount,k.decimals),Z=(0,d.useMemo)((function(){var e=Number(T.balance),t=Number(S.utils.undecimalize(BigInt(1e8)+be,9))+1e-5;return e<=t?0:e-t}),[T.balance]),I=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),e.prev=1,t=window.sentre,n=t.splt,r=t.wallet){e.next=5;break}throw new Error("Wallet is not connected");case 5:return a=S.utils.decimalize(Number(o),9),e.next=8,n.wrap(a+be,j,r);case 8:s=e.sent,c=s.txId,V("Wrap ".concat(o," SOL"),c),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",X(e.t0));case 16:return e.prev=16,v(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var t=(0,c.Z)(u().mark((function t(){var n,r,a,s,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v(!0),t.prev=1,n=window.sentre,r=n.splt,a=n.wallet){t.next=5;break}throw new Error("Wallet is not connected");case 5:return t.next=7,r.unwrap(a);case 7:return s=t.sent,c=s.txId,t.next=11,e(O({account:j}));case 11:return t.abrupt("return",V("Unwrap ".concat(k.balance," SOL"),c));case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",X(t.t0));case 17:return t.prev=17,v(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})));return function(){return t.apply(this,arguments)}}();(0,d.useEffect)((function(){(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.splt,e.next=3,t.deriveAssociatedAddress(j,S.DEFAULT_WSOL);case 3:n=e.sent,b(n);case 5:case"end":return e.stop()}}),e)})))()}),[j]),(0,d.useEffect)((function(){return l(A?"":C)}),[A,C]);var R=function(){return(0,p.jsx)(d.Fragment,{children:(0,p.jsxs)("ul",{style:{paddingLeft:16},children:[(0,p.jsx)("li",{children:(0,p.jsx)(s.Typography.Text,{type:"secondary",children:"To wrap SOL you have to deposit an extra fee equal to 0.00203928 SOL."})}),(0,p.jsx)("li",{children:(0,p.jsx)(s.Typography.Text,{type:"secondary",children:"The fee mentioned above will return when you unwrap."})})]})})},E=function(){return(0,p.jsxs)(d.Fragment,{children:[(0,p.jsx)(s.Typography.Text,{type:"secondary",children:"Due to technical limitations, it only allows:"}),(0,p.jsxs)("ul",{style:{paddingLeft:16},children:[(0,p.jsx)("li",{children:(0,p.jsx)(s.Typography.Text,{type:"secondary",children:"Unwrap all at once."})}),(0,p.jsx)("li",{children:(0,p.jsx)(s.Typography.Text,{type:"secondary",children:"To increase/decrease the WSOL balance, unwrap all first then re-wrap your desired number."})})]})]})};return(0,p.jsxs)(s.Row,{gutter:[24,24],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Row,{gutter:[8,8],children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsx)(s.Typography.Text,{children:A?"Wrap Amount":"Unwrap amount"})}),(0,p.jsx)(s.Col,{children:(0,p.jsxs)(s.Space,{size:4,children:[(0,p.jsx)(s.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Available:"}),(0,p.jsxs)(s.Typography.Text,{style:{fontSize:12},children:[A?T.balance:C," SOL"]})]})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(xe,{placeholder:"0",size:"large",prefix:(0,p.jsx)(m,{mintAddress:A?T.mint:k.mint}),suffix:A&&(0,p.jsx)(s.Button,{type:"text",style:{padding:0,height:"auto"},onClick:function(){return l("".concat(Z))},children:"MAX"}),value:o,onValue:l,max:Z,disabled:!A})})]})}),(0,p.jsx)(s.Col,{span:24,children:A?(0,p.jsx)(s.Button,{type:"primary",onClick:I,block:!0,loading:x,children:"Wrap"}):(0,p.jsx)(s.Button,{type:"primary",onClick:D,block:!0,loading:x,children:"Unwrap"})}),(0,p.jsx)(s.Col,{span:24,style:{fontSize:12},children:A?(0,p.jsx)(R,{}):(0,p.jsx)(E,{})})]})},ke=function(e){var t=e.accountAddr,n=(0,r.useDispatch)(),i=(0,a.useAccount)().accounts[t]||{},o=function(){var e=(0,c.Z)(u().mark((function e(){var r,a,s,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=window.sentre,a=r.splt,s=r.wallet){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a.closeAccount(t,s);case 6:return c=e.sent,i=c.txId,e.next=10,window.notify({type:"success",description:"Close ".concat((0,x.Xn)(t)," successfully. Click to view details."),onClick:function(){return window.open((0,x.kU)(i),"_blank")}});case 10:n(O({account:S.DEFAULT_EMPTY_ADDRESS})),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",window.notify({type:"error",description:"error"}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(s.Row,{gutter:[16,16],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Card,{bordered:!1,className:"close-account",children:(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(l.Z,{name:"alert-circle-outline"}),(0,p.jsx)(s.Typography.Text,{children:"Please transfer out all tokens in this account before closing!"})]})})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Button,{type:"primary",onClick:o,disabled:Boolean(i.amount),block:!0,children:"Close Account"})})]})},Te=function(){var e=(0,d.useState)(""),t=(0,i.Z)(e,2),n=t[0],a=t[1],c=(0,r.useSelector)((function(e){return e.account})).accountSelected,o=W(c).mint,u=[Z,I].includes(o);return(0,d.useEffect)((function(){return a("Send")}),[c]),(0,p.jsx)(s.Card,{bordered:!1,style:{marginTop:-20,boxShadow:"none"},bodyStyle:{padding:0},children:(0,p.jsxs)(s.Tabs,{activeKey:n,onChange:a,style:{padding:16,paddingTop:4},children:[(0,p.jsx)(s.Tabs.TabPane,{tab:"Send",children:(0,p.jsx)(we,{accountAddr:c})},"Send"),(0,p.jsx)(s.Tabs.TabPane,{tab:"Receive",children:(0,p.jsx)(ye,{accountAddr:c})},"Receive"),(0,p.jsx)(s.Tabs.TabPane,{tab:"Wrap",disabled:!u,children:(0,p.jsx)(je,{})},"Wrap"),(0,p.jsx)(s.Tabs.TabPane,{tab:"Close",disabled:o===Z,children:(0,p.jsx)(ke,{accountAddr:c})},"Close")]})})},Ae=function(){return(0,p.jsx)(s.Card,{className:"card-page",bordered:!1,bodyStyle:{padding:0},children:(0,p.jsxs)(s.Row,{children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(fe,{})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(Te,{})})]})})},Ce=n(35435);!function(e){e.Transfer="Transfer",e.Provider="Provider",e.SourceWallet="SourceWallet"}(H||(H={})),function(e){e.Transfer="Transfer",e.WaitSigned="WaitSigned",e.Redeem="Redeem",e.Finish="Finish"}(F||(F={}));var Se,Ze={mainnet:"https://wormhole-v2-mainnet-api.certus.one",testnet:"",devnet:"https://wormhole-v2-testnet-api.certus.one"},Ie=[{chainID:Ce.rQ,name:"Solana",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{chainID:Ce.ZN,name:"Ethereum",logo:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk/logo.png"}],De=function(e){var t=e.chainId,n=e.size,r=void 0===n?24:n,a=Ie.find((function(e){return e.chainID===t}));return(0,p.jsx)(s.Avatar,{src:null===a||void 0===a?void 0:a.logo,size:r,style:{border:"none"}})},We=function(e){var t=e.chainId,n=Ie.find((function(e){return e.chainID===t}));return(0,p.jsx)("span",{children:null===n||void 0===n?void 0:n.name})},Re=function(){var e=(0,r.useSelector)((function(e){return e.wormhole})),t=e.sourceChain,n=e.sourceWalletAddress,a=e.targetChain,c=e.targetWalletAddress;return(0,p.jsxs)(s.Row,{gutter:[16,16],align:"middle",style:{padding:16},children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsxs)(s.Space,{direction:"vertical",size:0,children:[(0,p.jsxs)(s.Typography.Title,{level:5,children:[(0,p.jsx)(We,{chainId:t})," Network"]}),(0,p.jsx)(s.Typography.Text,{children:(0,x.Xn)(n)})]})}),(0,p.jsx)(s.Col,{children:(0,p.jsxs)(s.Space,{direction:"vertical",size:0,align:"end",children:[(0,p.jsxs)(s.Typography.Title,{level:5,children:[(0,p.jsx)(We,{chainId:a})," Network"]}),(0,p.jsx)(s.Typography.Text,{children:(0,x.Xn)(c)})]})})]})},Ee=function(e){var t=e.percent,n=void 0===t?100:t;return(0,p.jsx)(s.Row,{children:(0,p.jsx)(s.Col,{className:"progress",span:24,children:(0,p.jsx)("span",{className:"progress-bar",style:{width:"".concat(n,"%")}})})})},Pe=n(37762),Be=n(93433),ze=n(4550),Ne=n.n(ze),Oe=n(15671),Me=n(43144),Le=function e(){(0,Oe.Z)(this,e),this.programId="",this.programInfo=void 0,this.signature="",this.blockTime=0,this.time=0,this.owner="",this.actionType="",this.actionTransfers=[],this.programTransfer=[]},Ue=function e(){(0,Oe.Z)(this,e),this.address="",this.mint="",this.decimals=0,this.preBalance="0",this.postBalance="0"},qe=function e(){(0,Oe.Z)(this,e),this.source=void 0,this.destination=void 0,this.amount="0"},He=n(71256),Fe=700,Ye=function(){function e(){(0,Oe.Z)(this,e),this.conn=window.sentre.splt.connection}return(0,Me.Z)(e,[{key:"fetchSignatures",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=s.length>2&&void 0!==s[2]?s[2]:Fe)>Fe&&(r=Fe),a={limit:r,before:n},e.abrupt("return",this.conn.getConfirmedSignaturesForAddress2(t,a));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchConfirmTransaction",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,a,s,c,i,o,d,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],150,r=[],a=0;a<=t.length/150;a++)s=150*a,c=t.slice(s,s+150),r.push(this.conn.getParsedConfirmedTransactions(c));return e.next=6,Promise.all(r);case 6:i=e.sent,o=(0,Pe.Z)(i);try{for(o.s();!(d=o.n()).done;)l=d.value,n=n.concat(l)}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i,o,d,l,f,p,h,x,v,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(new Date).getTime()/1e3,a=n.secondFrom,s=n.secondTo,c=n.lastSignature,i=n.limit,a=Math.floor(a||0),s=Math.floor(s||r),o=new He.PublicKey(t),d=[],l=!1;case 7:if(l){e.next=42;break}return e.next=10,this.fetchSignatures(o,c,i);case 10:if(null!==(f=e.sent)&&void 0!==f&&f.length&&!l){e.next=13;break}return e.abrupt("break",42);case 13:p=(0,Pe.Z)(f),e.prev=14,p.s();case 16:if((h=p.n()).done){e.next=28;break}if(x=h.value,(v=x.blockTime)&&!(v>s)){e.next=21;break}return e.abrupt("continue",26);case 21:if(!(v<a)){e.next=24;break}return l=!0,e.abrupt("break",28);case 24:c=x.signature,d.push(x.signature);case 26:e.next=16;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(14),p.e(e.t0);case 33:return e.prev=33,p.f(),e.finish(33);case 36:if(!(i&&d.length>=i)){e.next=38;break}return e.abrupt("break",42);case 38:if(!((null===f||void 0===f?void 0:f.length)<Fe)){e.next=40;break}return e.abrupt("break",42);case 40:e.next=7;break;case 42:return e.next=44,this.fetchConfirmTransaction(d);case 44:return m=e.sent,e.abrupt("return",m);case 46:case"end":return e.stop()}}),e,this,[[14,30,33,36]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();!function(e){e.Transfer="transfer"}(Se||(Se={}));var Qe,Ve=1e3;!function(e){e.YMD="YYYYMMDD",e.SortableTimePattern="YYYY-MM-DD HH:mm:ss"}(Qe||(Qe={}));var Xe=function(){function e(){(0,Oe.Z)(this,e),this.milliSeconds=(new Date).valueOf()}return(0,Me.Z)(e,[{key:"setMilliSeconds",value:function(e){this.milliSeconds=e}},{key:"format",value:function(e){var t=new Date(this.milliSeconds);return Ne()(t).format(e)}},{key:"subtractDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=Ne()(this.milliSeconds).subtract(t,"days").valueOf(),r=e.fromSeconds(n/Ve);return r}},{key:"addDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=Ne()(this.milliSeconds).add(t,"days").valueOf(),r=e.fromSeconds(n/Ve);return r}},{key:"seconds",value:function(){return(this.milliSeconds-this.milliSeconds%Ve)/Ve}},{key:"ymd",value:function(){return Number(this.format(Qe.YMD))}}],[{key:"fromSeconds",value:function(t){var n=new e,r=t*Ve;return n.setMilliSeconds(r),n}},{key:"fromYmd",value:function(t){var n=new e,r=Ne()(t,Qe.YMD).valueOf();return n.setMilliSeconds(r),n}},{key:"getListDate",value:function(t,n){for(var r=[],a=e.fromYmd(t),s=e.fromYmd(n);a.ymd()<=s.ymd();)r.push(a.ymd()),a=a.addDay();return r}},{key:"today",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe.YMD;return Ne()().format(e)}}]),e}(),_e=function(){function e(){(0,Oe.Z)(this,e),this.solana=void 0,this.solana=new Ye}return(0,Me.Z)(e,[{key:"collect",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.solana.fetchTransactions(t,n);case 2:r=e.sent,a=[],s=(0,Pe.Z)(r);try{for(s.s();!(c=s.n()).done;)i=c.value,(o=this.parseTransLog(i))&&a.push(o)}catch(u){s.e(u)}finally{s.f()}return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parseTransLog",value:function(e){var t,n,r=e.blockTime,a=e.meta,s=e.transaction;if(r&&a){var c=a.postTokenBalances,i=a.preTokenBalances,o=a.err,u=a.postBalances,d=a.preBalances,l=s.signatures,f=s.message;if(null===o){var p=(null===(t=a.innerInstructions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.instructions)||[],h=f.instructions[0]||[],x=new Le;x.signature=l[0],x.blockTime=r,x.time=Xe.fromSeconds(r).ymd(),x.programId=h.programId.toString();var v=this.parseAccountInfo(f.accountKeys,c||[],i||[],u,d);return this.isParsedInstruction(h)?(x.programTransfer=this.parseAction([h],v),x):(x.actionTransfers=this.parseAction(p,v),x.programInfo={programId:h.programId.toString(),data:h.data},x)}}}},{key:"isParsedInstruction",value:function(e){return void 0!==e.parsed}},{key:"parseAction",value:function(e,t){var n,r=[],a=(0,Pe.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(this.isParsedInstruction(s)){var c=s.parsed||{};if(c.type===Se.Transfer){var i=c.info,o=this.parseActionTransfer(i,t);o&&r.push(o)}}}}catch(u){a.e(u)}finally{a.f()}return r}},{key:"parseActionTransfer",value:function(e,t){var n=e.source,r=e.destination,a=e.amount,s=e.lamports,c=a||s.toString();if(c&&t.has(n)&&t.has(r)){var i=new qe;return i.source=t.get(n),i.destination=t.get(r),i.amount=c,i}}},{key:"parseAccountInfo",value:function(e,t,n,r,a){var s,c=new Map,i=(0,Pe.Z)(t);try{for(i.s();!(s=i.n()).done;){var o=s.value,u=o.accountIndex,d=o.mint,l=o.uiTokenAmount,f=new Ue;f.address=e[u].pubkey.toString(),f.postBalance=l.amount,f.mint=d,f.decimals=l.decimals,c.set(f.address,f)}}catch(y){i.e(y)}finally{i.f()}var p,h=(0,Pe.Z)(n);try{for(h.s();!(p=h.n()).done;){var x=p.value,v=x.accountIndex,m=x.uiTokenAmount,w=e[v].pubkey.toString(),g=c.get(w)||new Ue;g.preBalance=m.amount,c.set(g.address,g)}}catch(y){h.e(y)}finally{h.f()}return e.forEach((function(e,t){var n=e.pubkey.toString();if(!S.account.isAssociatedAddress(n)){var s=c.get(n)||new Ue;s.address=n,s.mint="11111111111111111111111111111111",s.postBalance=String(r[t]||0),s.preBalance=String(a[t]||0),s.decimals=9,c.set(s.address,s)}})),c}}]),e}(),Ge=n(60136),Je=n(27277),Ke=n(21995),$e=n.n(Ke),et=n(53933),tt=n(3007),nt=function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:return e.prev=2,console.log("Retry to get signed vaa:",++t),e.next=6,Ce.RX.apply(void 0,r);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,(0,x.sA)(1e4);case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),rt=function(){return et.Z.get("network")||"mainnet"},at=function(){return"mainnet"===rt()?"mainnet":"goerli"},st=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"mainnet"===n&&(n="eth"),r=[],e.next=4,$e()({method:"get",url:"https://deep-index.moralis.io/api/v2/".concat(t,"/erc20?chain=").concat(n),headers:{"X-API-Key":"N6yeIUl1FxCPZWbXyxLHWPAjSr6ahQeJTX3d19pSKCwHsLCzpWE7z1hilon4xDOd"}});case 4:a=e.sent,s=a.data,c=(0,Pe.Z)(s);try{for(c.s();!(i=c.n()).done;)(o=i.value).decimals=Number(o.decimals),o.amount=S.utils.undecimalize(o.balance,o.decimals),o.address=o.token_address,r.push(o)}catch(u){c.e(u)}finally{c.f()}return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ct=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serialize(),e.next=3,n.sendRawTransaction(r,{skipPreflight:!0,preflightCommitment:"confirmed"});case 3:return a=e.sent,e.next=6,n.confirmTransaction(a,"confirmed");case 6:if(s=e.sent,!(c=s.value.err)){e.next=10;break}throw new Error("".concat(c," at ").concat(a));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),it=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.account.isAddress(t)){e.next=2;break}throw new Error("Invalid mint address");case 2:return e.next=4,n.getAddress();case 4:return r=e.sent,a=window.sentre.splt,e.next=8,a.deriveAssociatedAddress(r,t);case 8:return s=e.sent,c=!1,e.prev=10,e.next=13,a.getAccountData(s);case 13:i=e.sent,o=i.state,c=o>0,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),c=!1;case 21:if(c){e.next=24;break}return e.next=24,a.initializeAccount(t,r,n);case 24:return e.abrupt("return",s);case 25:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=window.sentre.wallet)||void 0===n?void 0:n.getAddress();case 2:if(r=e.sent){e.next=5;break}throw new Error("Login fist");case 5:return a=new tt.Z(r).createInstance("wormhole"),s=a.getItem(t),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=window.sentre.wallet)||void 0===r?void 0:r.getAddress();case 2:if(a=e.sent){e.next=5;break}throw new Error("Login fist");case 5:return s=new tt.Z(a).createInstance("wormhole"),e.abrupt("return",s.setItem(t,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dt=n(97429).Buffer,lt=function(){function e(){var t=this;(0,Oe.Z)(this,e),this.context=void 0,this.transferData=void 0,this.attestData=void 0,this.restore=function(){var n=(0,c.Z)(u().mark((function n(r){var a,s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetchAll();case 2:if(a=n.sent,s=a[r]){n.next=6;break}throw new Error("Not find state transfer");case 6:t.transferData=s.transferData,t.attestData=s.attestData,t.context=s.context;case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),this.transfer=function(){var e=(0,c.Z)(u().mark((function e(n,r){var a,s,c,i,o,d,l,f,p,h,x,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transferData){e.next=4;break}return e.next=3,t.initTransferData(n);case 3:t.transferData=e.sent;case 4:return a=t.getState(),s=a.transferData,e.next=7,t.isAttested();case 7:if(c=e.sent,c.attested){e.next=12;break}return e.next=12,t.attest(r);case 12:if(s.nextStep!==F.Transfer){e.next=28;break}return e.next=15,t.submitTransfer();case 15:return i=e.sent,o=i.emitterAddress,d=i.sequence,l=i.blockHash,s.blockHash=l,s.emitterAddress=o,s.sequence=d,s.nextStep=F.WaitSigned,e.next=25,t.backup();case 25:return f=e.sent,e.next=28,r(f);case 28:if(s.nextStep!==F.WaitSigned){e.next=39;break}return e.next=31,t.getSignedVAA(s.emitterAddress,s.sequence);case 31:return p=e.sent,s.vaaHex=p,s.nextStep=F.Redeem,e.next=36,t.backup();case 36:return h=e.sent,e.next=39,r(h);case 39:if(s.nextStep!==F.Redeem){e.next=51;break}return e.next=42,t.redeem(s.vaaHex);case 42:return x=e.sent,s.txId=x,s.nextStep=F.Finish,e.next=47,t.backup();case 47:return v=e.sent,e.next=50,r(v);case 50:return e.abrupt("return",x);case 51:throw new Error("Invalid step transfer");case 52:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.backup=(0,c.Z)(u().mark((function n(){var r,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetchAll();case 2:return r=n.sent,a=t.getState(),r[a.context.id]=a,ut(H.Transfer,r),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)}))),this.getState=function(){if(!t.transferData)throw new Error("Invalid data transfer");if(!t.context)throw new Error("Invalid context");return{transferData:t.transferData,context:t.context,attestData:t.attestData}},this.initTransferData=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function initTransferData");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isAttested=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function isAttested");case 1:case"end":return e.stop()}}),e)}))),this.submitTransfer=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function submitTransfer");case 1:case"end":return e.stop()}}),e)}))),this.submitAttest=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function submitAttest");case 1:case"end":return e.stop()}}),e)}))),this.wrapToken=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function wrapToken");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.redeem=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Invalid function redeem");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.initAttestData=function(){return t.attestData||(t.attestData={step:0,sequence:"",emitterAddress:"",vaaHex:"",txId:""}),t.attestData},this.attest=function(){var e=(0,c.Z)(u().mark((function e(n){var r,a,s,c,i,o,d,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=t.initAttestData()).step){e.next=15;break}return e.next=4,t.submitAttest();case 4:return a=e.sent,s=a.emitterAddress,c=a.sequence,r.emitterAddress=s,r.sequence=c,r.step++,e.next=12,t.backup();case 12:return i=e.sent,e.next=15,n(i);case 15:if(1!==r.step){e.next=26;break}return e.next=18,t.getSignedVAA(r.emitterAddress,r.sequence);case 18:return o=e.sent,r.vaaHex=o,r.step++,e.next=23,t.backup();case 23:return d=e.sent,e.next=26,n(d);case 26:if(2!==r.step){e.next=38;break}return e.next=29,t.wrapToken(r.vaaHex);case 29:return l=e.sent,r.txId=l,r.step++,e.next=34,t.backup();case 34:return f=e.sent,e.next=37,n(f);case 37:return e.abrupt("return",l);case 38:throw new Error("Invalid step attest");case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,Me.Z)(e,[{key:"getConnection",value:function(){var e=window.sentre.splt.nodeUrl;return new He.Connection(e,"confirmed")}},{key:"getSignedVAA",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getState(),a=r.context,e.next=3,nt(a.wormholeRpc,a.srcChainId,t,n);case 3:return s=e.sent,c=s.vaaBytes,i=dt.from(c).toString("hex"),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();lt.fetchAll=(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(H.Transfer);case 2:return t=e.sent,e.abrupt("return",JSON.parse(JSON.stringify(t))||{});case 4:case"end":return e.stop()}}),e)})));var ft={mainnet:"0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B",goerli:"0x706abc4E45D419950511e474C7B9Ed348A4a716c",ropsten:"0xC89Ce4735882C9F0f0FE26686c53074E09B0D550"},pt={mainnet:"0x3ee18B2214AFF97000D974cf647E7C347E8fa585",goerli:"0xF890982f9310df57d00f659cf4fd87e65adEd8d7",ropsten:"0x0290FB167208Af455bB137780163b7B7a9a10C16"},ht={mainnet:"worm2ZoG2kUd4vFXhvjh93UUH596ayRfgQ2MgjNMTth",testnet:"Brdguy7BmNB4qwEbcqqMbyV5CyJd2sxQNUn6NEpMSsUb",devnet:"3u8hJUVTA4jH1wYAyUur7FFZVQ8H635K3tSHHF4ssjQ5"},xt={mainnet:"wormDTUJ6AWPNvk59vGQbDvGJmqbDTdgWgAqcLBCgUb",testnet:"A4Us8EhCC76XdGAN17L4KpRNEK423nMivVHZzZqFqqBg",devnet:"DZnkkTmCiFWfYTfT41X3Rd1kDgozqzxWaHqsw6W4x2oe"},vt=n(97429).Buffer,mt=function(e){(0,Ge.Z)(n,e);var t=(0,Je.Z)(n);function n(e,r,a){var s;return(0,Oe.Z)(this,n),(s=t.call(this)).srcWallet=void 0,s.targetWallet=void 0,s.isAttested=(0,c.Z)(u().mark((function e(){var t,n,r,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getState(),n=t.context,e.next=3,s.srcWallet.getProvider();case 3:return r=e.sent,e.next=6,(0,Ce.Ak)(n.srcTokenBridgeAddress,r,n.tokenInfo.address,Ce.ZN);case 6:return a=e.sent,e.next=9,(0,Ce.sS)(s.getConnection(),n.targetTokenBridgeAddress,a.chainId,a.assetAddress);case 9:return c=e.sent,e.abrupt("return",{attested:!!c,wrappedMintAddress:c});case 11:case"end":return e.stop()}}),e)}))),s.initTransferData=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.srcWallet.getAddress();case 2:return n=e.sent,e.next=5,s.targetWallet.getAddress();case 5:return r=e.sent,a={nextStep:F.Transfer,amount:t,from:n,to:r,emitterAddress:"",sequence:"",vaaHex:"",txId:"",blockHash:""},e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.submitTransfer=(0,c.Z)(u().mark((function e(){var t,n,r,a,c,i,o,d,l,f,p,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getState(),n=t.transferData,r=t.context,e.next=3,s.isAttested();case 3:if(a=e.sent,c=a.wrappedMintAddress){e.next=7;break}throw new Error("Attest the token first");case 7:return e.next=9,s.srcWallet.getProvider();case 9:return i=e.sent,o=i.getSigner(),d=S.utils.decimalize(n.amount,r.tokenInfo.decimals),e.next=14,(0,Ce.YC)(r.srcTokenBridgeAddress,r.tokenInfo.address,o,d);case 14:return e.next=16,it(c,s.targetWallet);case 16:return l=e.sent,e.next=19,(0,Ce.qC)(r.srcTokenBridgeAddress,o,r.tokenInfo.address,d,Ce.rQ,S.account.fromAddress(l).toBuffer());case 19:return f=e.sent,p=(0,Ce.N_)(f,r.srcBridgeAddress),h=(0,Ce.Nz)(r.srcTokenBridgeAddress),e.abrupt("return",{sequence:p,emitterAddress:h,blockHash:f.blockHash});case 23:case"end":return e.stop()}}),e)}))),s.submitAttest=(0,c.Z)(u().mark((function e(){var t,n,r,a,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getState(),n=t.context,e.next=3,s.srcWallet.getProvider();case 3:return r=e.sent,a=r.getSigner(),e.next=7,(0,Ce.$6)(n.srcTokenBridgeAddress,a,n.tokenInfo.address);case 7:return c=e.sent,i=(0,Ce.N_)(c,n.srcBridgeAddress),o=(0,Ce.Nz)(n.srcTokenBridgeAddress),e.abrupt("return",{sequence:i,emitterAddress:o});case 11:case"end":return e.stop()}}),e)}))),s.wrapToken=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,a,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.getState(),r=n.context,e.next=3,s.targetWallet.getAddress();case 3:return a=e.sent,c=(0,Ce.GZ)(t),e.next=7,(0,Ce.Pp)(s.getConnection(),s.targetWallet.signTransaction,r.targetBridgeAddress,a,vt.from(c));case 7:return e.next=9,(0,Ce.lx)(s.getConnection(),r.targetBridgeAddress,r.targetTokenBridgeAddress,a,c);case 9:return i=e.sent,e.next=12,s.targetWallet.signTransaction(i);case 12:return o=e.sent,e.next=15,ct(o,s.getConnection());case 15:return d=e.sent,e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.redeem=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,a,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.getState(),r=n.context,e.next=3,s.targetWallet.getAddress();case 3:return a=e.sent,c=(0,Ce.GZ)(t),e.next=7,(0,Ce.Pp)(s.getConnection(),s.targetWallet.signTransaction,r.targetBridgeAddress,a,vt.from(c));case 7:return e.next=9,(0,Ce.A7)(s.getConnection(),r.targetBridgeAddress,r.targetTokenBridgeAddress,a,c);case 9:return i=e.sent,e.next=12,s.targetWallet.signTransaction(i);case 12:return o=e.sent,e.next=15,ct(o,s.getConnection());case 15:return d=e.sent,e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.srcWallet=e,s.targetWallet=r,s.context=function(e){var t=at(),n=rt();return{id:(new Date).getTime()+""+Math.random(),time:(new Date).getTime(),srcChainId:Ce.ZN,srcTokenBridgeAddress:pt[t],srcBridgeAddress:ft[t],targetChainId:Ce.rQ,targetTokenBridgeAddress:xt[n],targetBridgeAddress:ht[n],wormholeRpc:Ze[n],tokenInfo:e}}(a),s}return n}(lt),wt=mt,gt="history",yt=(0,z.createAsyncThunk)("".concat(gt,"/fetchWormholeHistory"),(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.fetchAll();case 2:return t=e.sent,n=Object.values(t),e.abrupt("return",{wormhole:n.reverse()});case 5:case"end":return e.stop()}}),e)})))),bt=(0,z.createAsyncThunk)("".concat(gt,"/updateWormholeHistory"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i,o,d,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.stateTransfer,a=n.getState,s=a(),c=s.history.wormhole,i=r.context.id,o=JSON.parse(JSON.stringify(r)),d=(0,Be.Z)(c),e.t0=u().keys(d);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(l=e.t1.value,d[l].context.id!==i){e.next=12;break}return d[l]=o,e.abrupt("return",{wormhole:d});case 12:e.next=7;break;case 14:return e.abrupt("return",{wormhole:[o].concat((0,Be.Z)(d))});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jt=(0,z.createAsyncThunk)("".concat(gt,"/fetchTransactionHistory"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i,o,d,l,f,p,h,x,v,m,w,g,y,b,j,k,T;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.accountAddress,s=t.lastSignature,c=t.isLoadMore,i=n.getState,o=window.sentre.splt,15,d=i(),l=d.history.transaction,f={lastSignature:s,limit:15},e.next=8,null===(r=window.sentre.wallet)||void 0===r?void 0:r.getAddress();case 8:if(p=e.sent){e.next=11;break}throw new Error("Login fist");case 11:return h=new _e,e.next=14,h.collect(a,f);case 14:x=e.sent,v=[],c&&(v=(0,Be.Z)(l)),m=(0,Pe.Z)(x),e.prev=18,m.s();case 20:if((w=m.n()).done){e.next=48;break}if(g=w.value,y={},b=g.programTransfer[0]){e.next=26;break}return e.abrupt("continue",46);case 26:if(b.destination&&b.source){e.next=28;break}return e.abrupt("continue",46);case 28:if(j=b.destination,k=p,j.mint===Z){e.next=34;break}return e.next=33,o.deriveAssociatedAddress(p,j.mint);case 33:k=e.sent;case 34:if(T=new Date(1e3*g.blockTime),y.time=Ne()(T).format("DD MMM, YYYY hh:mm"),y.key=g.signature,y.transactionId=g.signature,y.amount=Number(S.utils.undecimalize(BigInt(b.amount),j.decimals)),y.from=b.source.address,y.to=j.address,y.mint=j.mint,y.isReceive=k===j.address,a!==p||j.mint===Z){e.next=45;break}return e.abrupt("continue",46);case 45:v.push(y);case 46:e.next=20;break;case 48:e.next=53;break;case 50:e.prev=50,e.t0=e.catch(18),m.e(e.t0);case 53:return e.prev=53,m.f(),e.finish(53);case 56:return e.abrupt("return",{transaction:v});case 57:case"end":return e.stop()}}),e,null,[[18,50,53,56]])})));return function(t,n){return e.apply(this,arguments)}}()),kt=(0,z.createSlice)({name:gt,initialState:{wormhole:[],transaction:[]},reducers:{},extraReducers:function(e){e.addCase(yt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(bt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(jt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer;window.wormhole={sourceWallet:{},targetWallet:{}};var Tt="wormhole",At={sourceTokens:{},sourceChain:Ce.ZN,sourceWalletAddress:"",targetWalletAddress:"",targetChain:Ce.rQ,tokenAddress:"",amount:"",processId:"",visible:!1},Ct=(0,z.createAsyncThunk)("".concat(Tt,"/connectSourceWallet"),function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,a,s,c,i,o,d,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.wallet,window.wormhole.sourceWallet.ether=r,e.next=4,r.getAddress();case 4:return a=e.sent,s=at(),e.next=8,st(a,s);case 8:c=e.sent,i={},o=(0,Pe.Z)(c);try{for(o.s();!(d=o.n()).done;)l=d.value,i[l.address]=l}catch(u){o.e(u)}finally{o.f()}return f=(null===(n=c[0])||void 0===n?void 0:n.address)||"",e.abrupt("return",{sourceWalletAddress:a,sourceTokens:i,tokenAddress:f});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),St=(0,z.createAsyncThunk)("".concat(Tt,"/fetchSourceTokens"),(0,c.Z)(u().mark((function e(){var t,n,r,a,s,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.wormhole.sourceWallet.ether){e.next=3;break}throw new Error("Login fist");case 3:return e.next=5,t.getAddress();case 5:return n=e.sent,r=at(),e.next=9,st(n,r);case 9:a=e.sent,s={},c=(0,Pe.Z)(a);try{for(c.s();!(i=c.n()).done;)o=i.value,s[o.address]=o}catch(u){c.e(u)}finally{c.f()}return e.abrupt("return",{sourceTokens:s});case 14:case"end":return e.stop()}}),e)})))),Zt=(0,z.createAsyncThunk)("".concat(Tt,"/disconnectSourceWallet"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=r().wormhole,e.abrupt("return",(0,b.Z)((0,b.Z)({},a),{},{sourceWalletAddress:"",sourceTokens:{},tokenAddress:""}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),It=(0,z.createAsyncThunk)("".concat(Tt,"/connectTargetWallet"),function(){var e=(0,c.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wallet,window.wormhole.targetWallet.sol=n,e.next=4,n.getAddress();case 4:return r=e.sent,e.abrupt("return",{targetWalletAddress:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Dt=(0,z.createAsyncThunk)("".concat(Tt,"/setSourceToken"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tokenAddress,a=t.amount,s=n.getState,c=s(),i=c.wormhole,o=r||i.tokenAddress,d=void 0===a?i.amount:a,e.abrupt("return",(0,b.Z)((0,b.Z)({},i),{},{tokenAddress:o,amount:d}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Wt=(0,z.createAsyncThunk)("".concat(Tt,"/setWormholeProcess"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=n.getState,s=a(),c=s.wormhole,e.abrupt("return",(0,b.Z)((0,b.Z)({},c),{},{processId:r||""}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Rt=(0,z.createAsyncThunk)("".concat(Tt,"/restoreTransfer"),function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,a,s,c,i,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transferState,a=n.getState,window.wormhole.sourceWallet.ether){e.next=5;break}throw new Error("Login fist");case 5:return s=a(),c=s.wormhole,i=r.context,o=r.transferData,(d=(0,b.Z)({},c)).tokenAddress=i.tokenInfo.address,d.processId=i.id,d.amount=o.amount,d.sourceWalletAddress=o.from,d.targetWalletAddress=o.to,e.abrupt("return",(0,b.Z)({},d));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Et=(0,z.createAsyncThunk)("".concat(Tt,"/setVisibleProcess"),function(){var e=(0,c.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.visible,e.abrupt("return",{visible:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pt=(0,z.createAsyncThunk)("".concat(Tt,"/clearProcess"),(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!1,amount:"",processId:""});case 1:case"end":return e.stop()}}),e)})))),Bt=(0,z.createSlice)({name:Tt,initialState:At,reducers:{},extraReducers:function(e){e.addCase(Ct.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Zt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(It.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Dt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Rt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Wt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Et.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(St.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(Pt.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}}).reducer,zt=function(e){var t=e.onClose,n=void 0===t?function(){}:t,a=(0,r.useDispatch)(),o=(0,r.useSelector)((function(e){return e.wormhole})),f=o.sourceTokens,h=o.tokenAddress,v=o.amount,m=o.processId,w=(0,d.useState)(!1),g=(0,i.Z)(w,2),y=g[0],b=g[1],j=(0,d.useState)(!1),k=(0,i.Z)(j,2),T=k[0],A=k[1],C=T||!!m,S=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transferData.nextStep!==F.WaitSigned){e.next=5;break}return e.next=3,(0,x.sA)(5e3);case 3:return e.next=5,a(St());case 5:return e.next=7,a(Wt({id:t.context.id}));case 7:return e.next=9,a(bt({stateTransfer:t}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,c.Z)(u().mark((function e(){var t,r,s,c,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(!0);case 2:if(e.prev=2,t=window.wormhole,r=t.sourceWallet,s=t.targetWallet,c=f[h],r.ether&&s.sol&&c){e.next=7;break}throw new Error("Login fist");case 7:return i=new wt(r.ether,s.sol,c),e.next=10,i.transfer(v,S);case 10:return o=e.sent,V("Transfer",o),a(Pt()),e.abrupt("return",n(!1));case 16:return e.prev=16,e.t0=e.catch(2),X(e.t0),e.next=21,a(Wt({id:""}));case 21:return e.prev=21,A(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,16,21,24]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(s.Row,{gutter:[8,8],justify:"center",children:[(0,p.jsx)(s.Col,{span:24,style:{textAlign:"justify"},children:(0,p.jsxs)(s.Space,{align:"start",children:[(0,p.jsx)(s.Typography.Text,{style:{color:"#D72311"},children:(0,p.jsx)(l.Z,{name:"alert-circle-outline"})}),(0,p.jsx)(s.Typography.Text,{style:{color:"#D72311",fontSize:12},children:"You should wait until the process is complete or you can minimize this dialog. However, the process will fail if you exit the Sen Assets."})]})}),(0,p.jsx)(s.Col,{span:24,children:C?(0,p.jsx)(Ee,{}):(0,p.jsx)(s.Checkbox,{checked:y,onChange:function(){return b(!y)},disabled:C,children:"I have read and understood"})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Button,{onClick:Z,type:"primary",block:!0,disabled:!y,loading:C,children:["Approve ",v," token"]})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(s.Button,{type:"text",onClick:function(){return n(!1)},children:C?"Minimize":"Cancel"})})]})},Nt=function(e){var t=e.visible,n=void 0!==t&&t,a=e.onCancel,c=void 0===a?function(){}:a,i=(0,r.useSelector)((function(e){return e.wormhole})),o=i.sourceChain,u=i.targetChain,d=i.amount,l=i.sourceTokens[i.tokenAddress];return l?(0,p.jsx)(s.Modal,{visible:n,footer:!1,closable:!1,centered:!0,children:(0,p.jsxs)(s.Row,{gutter:[16,16],justify:"center",children:[(0,p.jsx)(s.Col,{style:{marginBottom:50},children:(0,p.jsx)(s.Typography.Title,{level:4,children:"Confirm transfer"})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Card,{bordered:!1,className:"confirm-transfer-wrap",bodyStyle:{padding:0},children:[(0,p.jsxs)(s.Row,{className:"confirm-transfer-header",children:[(0,p.jsx)(s.Col,{span:12,children:(0,p.jsx)(De,{chainId:o,size:32})}),(0,p.jsx)(s.Col,{span:12,children:(0,p.jsx)(De,{chainId:u,size:32})}),(0,p.jsxs)(s.Col,{className:"amount",children:[(0,p.jsx)(s.Typography.Text,{style:{color:"#ffffff"},children:l.symbol}),(0,p.jsx)(s.Typography.Title,{level:3,style:{color:"#ffffff"},children:d})]})]}),(0,p.jsx)(Re,{})]})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(zt,{onClose:c})})]})}):null},Ot=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.amount,a=t.processId,c=t.visible,i=function(t){return e(Et({visible:t}))};return(0,p.jsxs)(s.Row,{children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Tooltip,{title:a?"Have transaction in progress":"",children:(0,p.jsx)(s.Button,{disabled:!Number(n)||!!a,type:"primary",onClick:function(){return i(!0)},block:!0,children:"Next"})})}),(0,p.jsx)(Nt,{visible:c,onCancel:i})]})},Mt=function(){return(0,p.jsxs)(s.Row,{gutter:[24,24],children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsxs)(s.Typography.Title,{level:4,children:["Wormhole ",(0,p.jsx)("span",{style:{color:"#F9575E"},children:"Bridge"})]})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(Q,{})})]})},Lt=function(e){var t=e.title,n=e.label,r=(0,d.useState)(!1),a=(0,i.Z)(r,2),c=a[0],o=a[1];return(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(s.Typography.Text,{children:n}),(0,p.jsx)(s.Tooltip,{title:t,visible:c,onVisibleChange:function(){return o(!1)},children:(0,p.jsx)(l.Z,{name:"information-circle-outline",onClick:function(){return o(!0)},style:{cursor:"pointer"}})})]})},Ut=function(e){var t=e.connected,n=e.installed,r=e.onConnect,a=void 0===r?function(){}:r,c=e.onDisconnect,i=void 0===c?function(){}:c;return t?(0,p.jsx)(s.Button,{size:"small",onClick:i,children:"Disconnect"}):(0,p.jsx)(s.Tooltip,{title:n?"":"Install Metamask please",children:(0,p.jsx)(s.Button,{size:"small",onClick:a,type:"primary",disabled:!n,children:"Connect"})})},qt=function(e){var t=e.chainId,n=e.address,r=e.onChange,a=void 0===r?function(){}:r;return(0,p.jsx)(s.Row,{children:(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Select,{onChange:function(e){return a(Number(e))},value:String(t),bordered:!1,suffixIcon:(0,p.jsx)(l.Z,{name:"chevron-down-outline"}),size:"large",style:{marginLeft:-4},className:"custom-selector",dropdownStyle:{lineHeight:"normal"},disabled:!0,children:Ie.map((function(e){return(0,p.jsx)(s.Select.Option,{value:String(e.chainID),children:(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(s.Avatar,{src:e.logo,size:32,style:{backgroundColor:"#2D3355",border:"none"}}),(0,p.jsxs)(s.Space,{direction:"vertical",size:0,children:[(0,p.jsx)(s.Typography.Text,{style:{fontWeight:600},children:e.name}),n&&(0,p.jsx)(s.Typography.Text,{style:{fontSize:12},children:(0,x.Xn)(n)})]})]})},e.chainID)}))})})})},Ht=n(13106),Ft=n(70775),Yt=n.n(Ft),Qt=function e(){var t=this;(0,Oe.Z)(this,e),this.detectedProvider=(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt()();case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e)}))),this.getProvider=(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt()();case 2:if(t=e.sent){e.next=5;break}throw new Error("No provider");case 5:return n=new Ht.Q(t,"any"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),this.getAddress=(0,c.Z)(u().mark((function e(){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProvider();case 2:return n=e.sent,e.next=5,n.send("eth_requestAccounts",[]);case 5:if((r=e.sent)[0]){e.next=8;break}throw new Error("There is no Ethereum account");case 8:return e.abrupt("return",r[0]);case 9:case"end":return e.stop()}}),e)})))},Vt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceWalletAddress,a=t.sourceChain,o=(0,d.useState)(!1),l=(0,i.Z)(o,2),f=l[0],h=l[1],x=(0,d.useCallback)((0,c.Z)(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Qt,t.next=3,n.detectedProvider();case 3:if(t.sent){t.next=6;break}return t.abrupt("return",h(!1));case 6:h(!0),e(Ct({wallet:n}));case 8:case"end":return t.stop()}}),t)}))),[e]);return(0,d.useEffect)((function(){x()}),[x]),(0,p.jsxs)(s.Row,{gutter:[16,16],children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsx)(qt,{address:n,chainId:a})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(Ut,{connected:!!n,installed:f,onConnect:x,onDisconnect:function(){e(Zt())}})})]})},Xt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.targetWalletAddress,c=t.targetChain,i=(0,a.useWallet)().wallet.address;return(0,d.useEffect)((function(){var t=window.sentre.wallet;t&&i&&e(It({wallet:t}))}),[i,e]),(0,p.jsxs)(s.Row,{gutter:[16,16],align:"middle",children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsx)(qt,{address:n,chainId:c})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(s.Tag,{style:{margin:0,borderRadius:4,background:"rgba(249, 87, 94, 0.1)",color:"#F9575E",textTransform:"capitalize",border:"none"},children:"Connected"})})]})},_t=function(){return(0,p.jsx)(s.Card,{bordered:!1,className:"account-item",bodyStyle:{padding:16},children:(0,p.jsxs)(s.Row,{gutter:[16,16],justify:"center",children:[(0,p.jsxs)(s.Col,{span:24,children:[(0,p.jsx)(Lt,{title:"Source Network",label:"Source"}),(0,p.jsx)(Vt,{})]}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(s.Tooltip,{title:"Coming soon",style:{background:"red"},children:(0,p.jsx)(l.Z,{name:"git-compare-outline",style:{cursor:"not-allowed"}})})}),(0,p.jsxs)(s.Col,{span:24,children:[(0,p.jsx)(Lt,{title:"Target network",label:"Target"}),(0,p.jsx)(Xt,{})]})]})})},Gt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceTokens,a=t.sourceWalletAddress,c=t.tokenAddress;return(0,p.jsx)(s.Select,{onChange:function(t){return e(Dt({tokenAddress:t}))},value:c||"Select",bordered:!1,suffixIcon:(0,p.jsx)(s.Divider,{type:"vertical",style:{margin:0}}),size:"middle",style:{marginLeft:-12},disabled:!a,children:Object.values(n).map((function(e){return(0,p.jsx)(s.Select.Option,{value:e.address,children:(0,p.jsxs)(s.Space,{align:"center",children:[(0,p.jsx)(s.Avatar,{src:e.logo,size:24,style:{border:"none",background:(0,w.p)(e.address,.8)},children:e.symbol.substring(0,2)}),(0,p.jsx)(s.Space,{direction:"vertical",size:0,children:(0,p.jsx)(s.Typography.Text,{style:{color:"#7A7B85"},children:e.symbol})})]})},e.address)}))})},Jt=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.wormhole})),n=t.sourceTokens,a=t.tokenAddress,c=t.amount,i=t.processId,o=n[a]||{},u=o.amount,d=o.symbol;return(0,p.jsxs)(s.Row,{gutter:[8,8],children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsx)(s.Typography.Text,{children:"Amount"})}),(0,p.jsx)(s.Col,{children:(0,p.jsxs)(s.Typography.Text,{children:["Available: ",u||0," ",d]})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(xe,{disabled:!a||!!i,placeholder:"0",prefix:(0,p.jsx)(Gt,{}),suffix:(0,p.jsx)(s.Button,{type:"text",style:{marginRight:-7},disabled:!a||!!i,onClick:function(){return e(Dt({amount:"".concat(u)}))},children:"MAX"}),value:c,onValue:function(t){return e(Dt({amount:t}))},max:u})})]})},Kt=function(){return(0,p.jsx)(s.Card,{className:"card-page",bordered:!1,children:(0,p.jsxs)(s.Row,{gutter:[14,14],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(Mt,{})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(_t,{})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(Jt,{})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(Ot,{})})]})})},$t=function(e){var t=e.transferState,n=(0,r.useDispatch)(),a=(0,r.useSelector)((function(e){return e.wormhole})),i=a.processId,o=a.sourceTokens,f=a.tokenAddress,h=t.context,v=t.transferData,m=(0,d.useMemo)((function(){return v.nextStep===F.Finish?"success":i===h.id?"pending":"failed"}),[h.id,i,v.nextStep]),w=function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transferData.nextStep!==F.WaitSigned){e.next=5;break}return e.next=3,(0,x.sA)(5e3);case 3:return e.next=5,n(St());case 5:return e.abrupt("return",n(bt({stateTransfer:t})).unwrap());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,c.Z)(u().mark((function e(){var r,a,s,c,i,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Rt({transferState:t})).unwrap();case 3:return e.next=5,n(Wt({id:h.id})).unwrap();case 5:if(r=window.wormhole,a=r.sourceWallet,s=r.targetWallet,c=o[f],a.ether&&s.sol&&c){e.next=9;break}throw new Error("Login fist");case 9:return i=new wt(a.ether,s.sol,c),e.next=12,i.restore(h.id);case 12:return e.next=14,w(t);case 14:return e.next=16,i.transfer(v.amount,w);case 16:d=e.sent,V("Transfer",d),n(Pt()),e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(0),X(e.t0),e.next=26,n(Wt({id:""}));case 26:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}();return"success"===m?(0,p.jsx)(s.Button,{size:"small",type:"text",onClick:function(){return window.open((0,x.kU)(t.transferData.txId),"_blank")},icon:(0,p.jsx)(l.Z,{name:"open-outline"})}):"failed"===m?(0,p.jsx)(s.Button,{type:"primary",size:"small",onClick:g,disabled:!!i,children:"Retry"}):(0,p.jsx)(s.Button,{type:"text",size:"small",onClick:function(){return n(Et({visible:!0}))},children:"Reopen"})},en={success:[20,224,65],pending:[212,177,6],error:[215,35,17],failed:[215,35,17]},tn=function(e){var t=e.tag,n=function(e){var n=en[t];return"rgba(".concat(n[0],",  ").concat(n[1],", ").concat(n[2],",").concat(e||1,")")};return(0,p.jsx)(s.Tag,{style:{margin:0,borderRadius:4,color:n(),textTransform:"capitalize"},color:n(.1),children:t})},nn=function(e){var t=e.data,n=(0,r.useSelector)((function(e){return e.wormhole})).processId,a=(0,d.useMemo)((function(){return t.transferData.nextStep===F.Finish?"success":n===t.context.id?"pending":"failed"}),[t.context.id,t.transferData.nextStep,n]);return(0,p.jsx)(tn,{tag:a})},rn=[{title:"TIME",dataIndex:"context",render:function(e){return(0,p.jsx)(s.Typography.Text,{children:Ne()(e.time).format("DD MMM, YYYY hh:mm")})}},{title:"TRANSACTION ID",render:function(e){var t=e.transferData.blockHash;return(0,p.jsx)(s.Typography.Text,{style:{fontWeight:700},children:t?(0,x.Xn)(t,8,"..."):"--"})}},{title:"SOURCE - TARGET",dataIndex:"context",render:function(e){return(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(De,{chainId:e.srcChainId}),(0,p.jsx)(s.Typography.Text,{children:(0,p.jsx)(We,{chainId:e.srcChainId})})," ","-",(0,p.jsx)(De,{chainId:e.targetChainId}),(0,p.jsx)(s.Typography.Text,{children:(0,p.jsx)(We,{chainId:e.targetChainId})})]})}},{title:"AMOUNT",render:function(e){var t,n,r;return(0,p.jsxs)(s.Typography.Text,{children:[null===e||void 0===e||null===(t=e.transferData)||void 0===t?void 0:t.amount," ",null===e||void 0===e||null===(n=e.context)||void 0===n||null===(r=n.tokenInfo)||void 0===r?void 0:r.symbol]})}},{title:"STATUS",render:function(e){return(0,p.jsx)(nn,{data:e})}},{title:"ACTION",render:function(e){return(0,p.jsx)($t,{transferState:e})}}],an=function(){var e=(0,r.useDispatch)(),t=(0,r.useSelector)((function(e){return e.history})).wormhole,n=(0,d.useState)(4),a=(0,i.Z)(n,2),c=a[0],o=a[1];(0,d.useEffect)((function(){e(yt())}),[e]);return(0,p.jsxs)(s.Row,{gutter:[16,16],justify:"center",children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Table,{columns:rn,dataSource:t.slice(0,c),rowClassName:function(e,t){return t%2?"odd-row":"even-row"},pagination:!1,scroll:{x:1e3},rowKey:function(e){return e.context.id}})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(s.Button,{disabled:c>=t.length,onClick:function(){return o(c+4)},type:"text",icon:(0,p.jsx)(l.Z,{name:"chevron-down-outline"}),children:"View more"})})]})},sn=[{title:"TIME",dataIndex:"time",key:"time"},{title:"TRANSACTION ID",dataIndex:"transactionId",key:"transactionId",render:function(e){return(0,p.jsxs)(s.Space,{align:"baseline",children:[(0,p.jsx)(s.Typography.Text,{onClick:function(){return window.open((0,x.kU)(e),"_blank")},style:{fontWeight:700,cursor:"pointer"},children:(0,x.Xn)(e,8,"...")}),(0,p.jsx)(s.Button,{type:"text",size:"small",onClick:function(){return window.open((0,x.kU)(e),"_blank")},icon:(0,p.jsx)(l.Z,{name:"open-outline"})})]})}},{title:"FROM",dataIndex:"from",key:"from",render:function(e){return(0,p.jsx)(s.Typography.Text,{children:(0,x.Xn)(e,8,"...")})}},{title:"TO",dataIndex:"to",key:"to",render:function(e){return(0,p.jsx)(s.Typography.Text,{children:(0,x.Xn)(e,8,"...")})}},{title:"AMOUNT",key:"amount",dataIndex:"amount",render:function(e,t){return(0,p.jsx)(s.Typography.Text,{style:{color:t.isReceive?"#14E041":"#D72311"},children:(0,p.jsxs)(s.Space,{size:4,children:[t.isReceive?"+".concat(e):"-".concat(e)," ",(0,p.jsx)(m,{mintAddress:t.mint})]})})}},{title:"STATUS",key:"status",dataIndex:"status",render:function(e){return(0,p.jsx)(tn,{tag:"success"})}}],cn=function(){var e=(0,d.useState)(4),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,d.useState)(!0),f=(0,i.Z)(o,2),h=f[0],x=f[1],v=(0,r.useDispatch)(),m=(0,r.useSelector)((function(e){return e.history})).transaction,w=(0,r.useSelector)((function(e){return e.account})).accountSelected,g=(0,d.useCallback)((0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v(jt({accountAddress:w,isLoadMore:!1})).unwrap();case 4:x(!1);case 5:case"end":return e.stop()}}),e)}))),[v,w]);(0,d.useEffect)((function(){return g(),function(){x(!0),a(4)}}),[g]);return(0,p.jsxs)(s.Row,{gutter:[16,16],justify:"center",children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(s.Table,{columns:sn,dataSource:m.slice(0,n),rowClassName:function(e,t){return t%2?"odd-row":"even-row"},pagination:!1,scroll:{x:1e3},loading:h})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(s.Button,{onClick:function(){var e=m.slice(0,n).length;if(m.length-e<=9){var t=m[m.length-1].transactionId;v(jt({accountAddress:w,lastSignature:t,isLoadMore:!0}))}a(n+4)},type:"text",icon:(0,p.jsx)(l.Z,{name:"chevron-down-outline"}),disabled:n>=m.length,children:"View more"})})]})},on=function(){var e=(0,r.useDispatch)();return(0,d.useEffect)((function(){e(yt())}),[e]),(0,p.jsx)(s.Card,{bodyStyle:{paddingTop:12},children:(0,p.jsx)(s.Row,{gutter:[24,24],children:(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Tabs,{children:[(0,p.jsx)(s.Tabs.TabPane,{tab:"Wormhole Bridge History",children:(0,p.jsx)(an,{})},"Wormhole"),(0,p.jsx)(s.Tabs.TabPane,{tab:"Transaction History",children:(0,p.jsx)(cn,{})},"Transaction")]})})})})},un=function(){return(0,p.jsxs)(s.Row,{gutter:[24,24],children:[(0,p.jsx)(s.Col,{xl:8,md:12,sm:24,children:(0,p.jsx)(re,{})}),(0,p.jsx)(s.Col,{xl:8,md:12,sm:24,children:(0,p.jsx)(Ae,{})}),(0,p.jsx)(s.Col,{xl:8,md:12,sm:24,children:(0,p.jsx)(Kt,{})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(on,{})}),(0,p.jsx)(s.Col,{span:24})]})},dn=n(45055),ln=function(e){var t=e.accountAddr,n=e.onClick,r=void 0===n?function(){}:n,c=(0,a.useAccount)().accounts[t].mint;return(0,p.jsx)(s.Card,{className:"account-item",style:{borderRadius:8},bodyStyle:{padding:12},bordered:!1,hoverable:!0,onClick:function(){return r(t)},children:(0,p.jsxs)(s.Row,{children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(h,{mintAddress:c,size:32}),(0,p.jsxs)(s.Space,{direction:"vertical",size:0,children:[(0,p.jsx)(s.Typography.Text,{children:(0,p.jsx)(m,{mintAddress:c})}),(0,p.jsx)(s.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(v,{mintAddress:c})})]})]})}),(0,p.jsx)(s.Col,{style:{height:"100%"},children:(0,p.jsxs)(s.Space,{children:[(0,p.jsxs)(s.Space,{direction:"vertical",size:0,align:"end",children:[(0,p.jsx)(s.Typography.Text,{children:(0,p.jsx)(R,{accountAddr:t})}),(0,p.jsx)(s.Typography.Text,{type:"secondary",className:"caption",children:(0,p.jsx)(R,{accountAddr:t,inUSD:!0,autoHidden:!0})})]}),(0,p.jsx)(l.Z,{style:{color:"#7A7B85"},name:"arrow-forward-outline"})]})})]})})},fn=n(63805);var pn={appId:"sen_assets",url:"https://descartesnetwork.github.io/sen-assets/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},hn={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},xn={manifest:{development:(0,b.Z)({},pn),staging:(0,b.Z)({},pn),production:(0,b.Z)({},pn)}[fn.OB],sol:hn[fn.ef]},vn=xn.manifest.appId,mn=function(){var e=(0,r.useDispatch)(),t=(0,dn.useHistory)(),n=(0,a.useMint)().tokenProvider,o=(0,d.useState)([]),l=(0,i.Z)(o,2),f=l[0],h=l[1],x=(0,d.useCallback)(function(){var e=(0,c.Z)(u().mark((function e(t){var r,a,s,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],e.t0=u().keys(t);case 3:if((e.t1=e.t0()).done){e.next=15;break}return s=e.t1.value,c=t[s],e.next=8,n.findByAddress(c.mint);case 8:if(!(i=e.sent)){e.next=12;break}return"SEN"===i.symbol?a.push(s):r.unshift(s),e.abrupt("continue",3);case 12:r.push(s),e.next=3;break;case 15:return e.abrupt("return",h([].concat(a,r)));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),v=function(n){return e(O({account:n})),t.push("/app/".concat(vn))};return(0,p.jsxs)(s.Row,{gutter:[12,12],align:"middle",children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(P,{onChange:x})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(L,{onClick:function(e){return v(e)},price:!1})}),f.map((function(e){return(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(B.ZP,{height:64,overflow:!0,children:(0,p.jsx)(ln,{accountAddr:e,onClick:function(e){return v(e)}})})},e)}))]})},wn=function(e){var t=e.address;return(0,p.jsx)(s.Popover,{placement:"bottomLeft",color:"#ffffff",overlayInnerStyle:{paddingTop:6},content:(0,p.jsx)(se(),{value:t,size:140,bgColor:"#ffffff",fgColor:"#1f1f1f"}),trigger:"click",arrowPointAtCenter:!0,children:(0,p.jsx)(oe,{color:"#212433",name:"qr-code-outline"})})},gn=function(){var e=(0,a.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],o=n[1],l=function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),setTimeout((function(){o(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(s.Space,{size:10,children:[(0,p.jsx)(s.Tooltip,{title:"Copied",visible:r,children:(0,p.jsx)(ie(),{text:e,onCopy:l,children:(0,p.jsx)(oe,{color:"#212433",name:"copy-outline",onClick:l})})}),(0,p.jsx)(wn,{address:e}),(0,p.jsx)(ne,{})]})},yn=function(e){var t=e.hidden,n=void 0!==t&&t,r=(0,d.useState)(),o=(0,i.Z)(r,2),l=o[0],f=o[1],h=(0,a.useWallet)().wallet.lamports,v=(0,x.uR)(S.utils.undecimalize(h,9)).format("0.[000]"),m=(0,d.useMemo)((function(){return(0,x.uR)(Number(v)*((null===l||void 0===l?void 0:l.price)||0)).format("0,0.[000]")}),[v,l]),g=(0,d.useCallback)((0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.l)("solana");case 2:return t=e.sent,e.abrupt("return",f(t));case 4:case"end":return e.stop()}}),e)}))),[]);return(0,d.useEffect)((function(){g()}),[g]),n?(0,p.jsx)(s.Skeleton.Input,{style:{width:128,borderRadius:4},size:"small",active:!0}):(0,p.jsx)(s.Typography.Text,{style:{fontWeight:700},children:"$".concat(m)})},bn=function(){var e=(0,a.useWallet)().wallet.address,t=(0,d.useState)(!1),n=(0,i.Z)(t,2),r=n[0],c=n[1];return(0,p.jsxs)(s.Row,{gutter:[16,16],wrap:!1,align:"middle",children:[(0,p.jsx)(s.Col,{children:(0,p.jsx)(s.Avatar,{size:48,children:(0,p.jsx)("span",{style:{fontSize:24},children:S.utils.randEmoji(e)})})}),(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsxs)(s.Row,{children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Row,{gutter:[2,2],align:"middle",children:[(0,p.jsx)(s.Col,{flex:"auto",children:(0,p.jsx)(s.Typography.Text,{children:(0,x.Xn)(e,3,"...")})}),(0,p.jsx)(s.Col,{children:(0,p.jsx)(gn,{})})]})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsxs)(s.Space,{children:[(0,p.jsx)(yn,{hidden:r}),(0,p.jsx)(s.Button,{type:"text",size:"small",icon:(0,p.jsx)(l.Z,{name:r?"eye-off-outline":"eye-outline"}),onClick:function(){return c(!r)}})]})})]})})]})},jn=function(){return(0,p.jsx)(s.Card,{style:{height:"100%",overflow:"auto"},className:"card-sen-assets scrollbar",bordered:!1,children:(0,p.jsxs)(s.Row,{gutter:[24,24],children:[(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(bn,{})}),(0,p.jsx)(s.Col,{span:24,children:(0,p.jsx)(mn,{})})]})})},kn=n(85912),Tn=(0,z.configureStore)({middleware:function(e){return e(kn.h)},devTools:(0,kn.$)("myapp"),reducer:{history:kt,settings:te,account:M,wormhole:Bt}}),An=xn.manifest.appId,Cn=function(){return(0,p.jsx)(a.UIProvider,{appId:An,children:(0,p.jsx)(a.WalletProvider,{children:(0,p.jsx)(a.PoolProvider,{children:(0,p.jsx)(a.MintProvider,{children:(0,p.jsx)(a.AccountProvider,{children:(0,p.jsx)(r.Provider,{store:Tn,children:(0,p.jsx)(un,{})})})})})})})},Sn={size:"small",type:"default"},Zn=function(){return(0,p.jsx)(a.UIProvider,{appId:An,children:(0,p.jsx)(a.WalletProvider,{children:(0,p.jsx)(a.PoolProvider,{children:(0,p.jsx)(a.MintProvider,{children:(0,p.jsx)(a.AccountProvider,{children:(0,p.jsx)(r.Provider,{store:Tn,children:(0,p.jsx)(jn,{})})})})})})})}},31633:function(e,t,n){"use strict";var r=n(63805),a=n(77566),s=n(77330),c={sol:a.Z[r.ef],register:s.Z[r.OB]};t.Z=c},65090:function(e,t,n){"use strict";var r=n(4942),a=n(15861),s=n(87757),c=n.n(s),i=n(19289),o=n(95418),u="accounts",d=(0,i.createAsyncThunk)("".concat(u,"/getAccounts"),function(){var e=(0,a.Z)(c().mark((function e(t){var n,r,a,s,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.owner,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid owner/wallet address");case 3:return r=window.sentre.splt,a=o.account.fromAddress(n),e.next=7,r.connection.getTokenAccountsByOwner(a,{programId:r.spltProgramId});case 7:return s=e.sent,i=s.value,u={},i.forEach((function(e){var t=e.pubkey,n=e.account.data,a=t.toBase58(),s=r.parseAccountData(n);return u[a]=s})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,i.createAsyncThunk)("".concat(u,"/getAccount"),function(){var e=(0,a.Z)(c().mark((function e(t,n){var a,s,i,u,d,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.address,s=n.getState,o.account.isAddress(a)){e.next=4;break}throw new Error("Invalid account address");case 4:if(i=s(),!(u=i.accounts[a])){e.next=7;break}return e.abrupt("return",(0,r.Z)({},a,u));case 7:return d=window.sentre.splt,e.next=10,d.getAccountData(a);case 10:return l=e.sent,e.abrupt("return",(0,r.Z)({},a,l));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,i.createAsyncThunk)("".concat(u,"/upsetAccount"),function(){var e=(0,a.Z)(c().mark((function e(t){var n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,a=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(a){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,i.createAsyncThunk)("".concat(u,"/deleteAccount"),function(){var e=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,i.createSlice)({name:u,initialState:{},reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){return t.payload})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){delete e[t.payload.address]}))}});t.ZP=h.reducer},87358:function(e,t,n){"use strict";var r=n(19289),a=n(85912),s=n(87482),c=n(5105),i=n(58851),o=n(21028),u=n(65090),d=n(33015),l=n(92871),f=n(33361),p=(0,r.configureStore)({middleware:function(e){return e(a.h)},devTools:(0,a.$)("sentre"),reducer:{ui:s.ZP,flags:c.Z,page:i.ZP,wallet:o.ZP,accounts:u.ZP,mints:d.ZP,pools:l.ZP,search:f.ZP}});t.Z=p},33015:function(e,t,n){"use strict";n.d(t,{ih:function(){return d}});var r=n(4942),a=n(15861),s=n(87757),c=n.n(s),i=n(19289),o=n(95418),u="mints",d=(0,i.createAsyncThunk)("".concat(u,"/getMint"),function(){var e=(0,a.Z)(c().mark((function e(t,n){var a,s,i,u,d,l,f,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.address,s=t.force,i=void 0!==s&&s,u=n.getState,o.account.isAddress(a)){e.next=4;break}throw new Error("Invalid mint address");case 4:if(i){e.next=8;break}if(d=u(),!(l=d.accounts[a])){e.next=8;break}return e.abrupt("return",(0,r.Z)({},a,l));case 8:return f=window.sentre.splt,e.next=11,f.getMintData(a);case 11:return p=e.sent,e.abrupt("return",(0,r.Z)({},a,p));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l=(0,i.createAsyncThunk)("".concat(u,"/upsetMint"),function(){var e=(0,a.Z)(c().mark((function e(t){var n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,a=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(a){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,i.createAsyncThunk)("".concat(u,"/deleteMint"),function(){var e=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,i.createSlice)({name:u,initialState:{},reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){delete e[t.payload.address]}))}});t.ZP=p.reducer},58851:function(e,t,n){"use strict";var r=n(93433),a=n(1413),s=n(15861),c=n(87757),i=n.n(c),o=n(19289),u=n(95418),d=n(3007),l=n(31633).Z.register,f=l.senreg,p=l.extra,h=function(e,t){return t&&Array.isArray(t)?t.filter((function(t){return e[t]})):[]},x=function(){var e=(0,s.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v="page",m={register:{},appIds:[],widgetIds:[]},w=(0,o.createAsyncThunk)("".concat(v,"/loadRegister"),(0,s.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,e.abrupt("return",{register:(0,a.Z)((0,a.Z)({},t),p)});case 4:case"end":return e.stop()}}),e)})))),g=(0,o.createAsyncThunk)("".concat(v,"/installManifest"),function(){var e=(0,s.Z)(i().mark((function e(t,n){var s,c,o,d,l,f,p,h,x,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.getState,c=s(),o=c.wallet.address,d=c.page,l=d.appIds,f=d.widgetIds,p=d.register,u.account.isAddress(o)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(!l.includes(t.appId)){e.next=6;break}throw new Error("Cannot run sandbox for an installed application.");case 6:return(h=(0,r.Z)(l)).push(t.appId),x=(0,r.Z)(f),t.supportedViews.includes("widget")&&x.push(t.appId),(v=(0,a.Z)({},p))[t.appId]=t,e.abrupt("return",{appIds:h,widgetIds:x,register:v});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),y=(0,o.createAsyncThunk)("".concat(v,"/loadPage"),function(){var e=(0,s.Z)(i().mark((function e(t,n){var r,a,s,c,o,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,c=a.page.register,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return o=new d.Z(s).createInstance("sentre"),e.t0=h,e.t1=c,e.next=9,o.getItem("appIds");case 9:if(e.t2=e.sent,e.t2){e.next=12;break}e.t2=m.appIds;case 12:return e.t3=e.t2,l=(0,e.t0)(e.t1,e.t3),e.t4=h,e.t5=c,e.next=18,o.getItem("widgetIds");case 18:if(e.t6=e.sent,e.t6){e.next=21;break}e.t6=m.widgetIds;case 21:return e.t7=e.t6,f=(0,e.t4)(e.t5,e.t7),e.abrupt("return",{appIds:l,widgetIds:f});case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),b=(0,o.createAsyncThunk)("".concat(v,"/updatePage"),function(){var e=(0,s.Z)(i().mark((function e(t,n){var r,a,s,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,c=a.page.register,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return t=h(c,t),o=new d.Z(s),e.next=8,o.createInstance("sentre").setItem("appIds",t);case 8:return e.abrupt("return",{appIds:t});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),j=(0,o.createAsyncThunk)("".concat(v,"/installApp"),function(){var e=(0,s.Z)(i().mark((function e(t,n){var a,s,c,o,l,f,p,h,x,v,m,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.getState,o=c(),l=o.wallet.address,f=o.page,p=f.register,h=f.appIds,x=f.widgetIds,u.account.isAddress(l)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(!h.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return(v=(0,r.Z)(h)).push(t),m=null!==(a=p[t])&&void 0!==a&&null!==(s=a.supportedViews)&&void 0!==s&&s.includes("widget")?[].concat((0,r.Z)(x),[t]):(0,r.Z)(x),w=new d.Z(l),e.next=12,w.createInstance("sentre").setItem("appIds",v);case 12:return e.next=14,w.createInstance("sentre").setItem("widgetIds",m);case 14:return e.abrupt("return",{appIds:v,widgetIds:m});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=(0,o.createAsyncThunk)("".concat(v,"/uninstallApp"),function(){var e=(0,s.Z)(i().mark((function e(t,n){var r,a,s,c,o,l,f,p,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,c=a.page,o=c.appIds,l=c.widgetIds,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(o.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return f=o.filter((function(e){return e!==t})),p=l.filter((function(e){return e!==t})),h=new d.Z(s),e.next=11,h.createInstance("sentre").setItem("appIds",f);case 11:return e.next=13,h.createInstance("sentre").setItem("widgetIds",p);case 13:return e.next=15,h.dropInstance(t);case 15:return e.abrupt("return",{appIds:f,widgetIds:p});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T=(0,o.createAsyncThunk)("".concat(v,"/updateDashboard"),function(){var e=(0,s.Z)(i().mark((function e(t,n){var r,a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:return c=new d.Z(s),e.next=7,c.createInstance("sentre").setItem("widgetIds",t);case 7:return e.abrupt("return",{widgetIds:t});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),A=(0,o.createAsyncThunk)("".concat(v,"/addWidgets"),function(){var e=(0,s.Z)(i().mark((function e(t,n){var a,s,c,o,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,s=a(),c=s.wallet.address,o=s.page.widgetIds,u.account.isAddress(c)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:return l=[].concat((0,r.Z)(o),(0,r.Z)(t)),f=new d.Z(c),e.next=8,f.createInstance("sentre").setItem("widgetIds",l);case 8:return e.abrupt("return",{widgetIds:l});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C=(0,o.createAsyncThunk)("".concat(v,"/removeWidget"),function(){var e=(0,s.Z)(i().mark((function e(t,n){var r,a,s,c,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=r(),s=a.wallet.address,c=a.page.widgetIds,u.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet.");case 4:if(c.includes(t)){e.next=6;break}return e.abrupt("return",{});case 6:return o=c.filter((function(e){return e!==t})),l=new d.Z(s),e.next=10,l.createInstance("sentre").setItem("widgetIds",o);case 10:return e.abrupt("return",{widgetIds:o});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=(0,o.createSlice)({name:v,initialState:m,reducers:{},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(g.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(y.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(b.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(j.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(k.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(T.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(A.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(C.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=S.reducer},92871:function(e,t,n){"use strict";var r=n(4942),a=n(15861),s=n(87757),c=n.n(s),i=n(19289),o=n(95418),u=n(31633).Z.sol.taxmanAddress,d="pools",l=(0,i.createAsyncThunk)("".concat(d,"/getPools"),(0,a.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sentre.swap,e.next=3,t.connection.getProgramAccounts(t.swapProgramId,{filters:[{dataSize:257},{memcmp:{bytes:u,offset:65}}]});case 3:return n=e.sent,r={},n.forEach((function(e){var n=e.pubkey,a=e.account.data,s=n.toBase58(),c=t.parsePoolData(a);r[s]=c})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),f=(0,i.createAsyncThunk)("".concat(d,"/getPool"),function(){var e=(0,a.Z)(c().mark((function e(t,n){var a,s,i,u,d,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.address,s=n.getState,o.account.isAddress(a)){e.next=4;break}throw new Error("Invalid pool address");case 4:if(i=s(),!(u=i.pools[a])){e.next=7;break}return e.abrupt("return",(0,r.Z)({},a,u));case 7:return d=window.sentre.swap,e.next=10,d.getPoolData(a);case 10:return l=e.sent,e.abrupt("return",(0,r.Z)({},a,l));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=(0,i.createAsyncThunk)("".concat(d,"/upsetPool"),function(){var e=(0,a.Z)(c().mark((function e(t){var n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,a=t.data,o.account.isAddress(n)){e.next=3;break}throw new Error("Invalid pool address");case 3:if(a){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,r.Z)({},n,a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=(0,i.createSlice)({name:d,initialState:{},reducers:{},extraReducers:function(e){e.addCase(l.fulfilled,(function(e,t){return t.payload})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=h.reducer},33361:function(e,t,n){"use strict";var r=n(15861),a=n(87757),s=n.n(a),c=n(19289),i="search",o=(0,c.createAsyncThunk)("".concat(i,"/setValue"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{value:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=(0,c.createAsyncThunk)("".concat(i,"/setLoading"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{loading:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,c.createAsyncThunk)("".concat(i,"/setDisabled"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{disabled:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,c.createSlice)({name:i,initialState:{value:"",loading:!1,disabled:!1},reducers:{},extraReducers:function(e){e.addCase(o.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(u.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=l.reducer},87482:function(e,t,n){"use strict";var r=n(15861),a=n(87757),s=n.n(a),c=n(19289),i=function(){var e=window.innerWidth;return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":e<1400?"xl":"xxl"},o="ui",u={theme:function(){var e=(new Date).getHours();return e>=6&&e<18?"light":"dark"}(),width:window.innerWidth,infix:i(),touchable:"ontouchstart"in window||navigator.maxTouchPoints>0,visibleActionCenter:!1},d=(0,c.createAsyncThunk)("".concat(o,"/setTheme"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{theme:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,c.createAsyncThunk)("".concat(o,"/resize"),(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.innerWidth,n=i(),e.abrupt("return",{width:t,infix:n});case 3:case"end":return e.stop()}}),e)})))),f=(0,c.createAsyncThunk)("".concat(o,"/setVisibleActionCenter"),function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visibleActionCenter:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,c.createSlice)({name:o,initialState:u,reducers:{},extraReducers:function(e){e.addCase(d.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(l.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(f.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=p.reducer},21028:function(e,t,n){"use strict";var r=n(15861),a=n(87757),s=n.n(a),c=n(19289),i=n(95418),o=n(31633),u=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.Z.sol,r=n.node,a=n.spltAddress,c=n.splataAddress,u=n.swapAddress,window.sentre={wallet:t,lamports:new i.Lamports(r),splt:new i.SPLT(a,c,r),swap:new i.Swap(u,a,c,r)};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(t=window.sentre)&&void 0!==t&&t.wallet&&window.sentre.wallet.disconnect(),e.next=3,u(void 0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l="wallet",f={visible:!1,address:"",lamports:BigInt(0)},p=(0,c.createAsyncThunk)("".concat(l,"/openWallet"),(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!0});case 1:case"end":return e.stop()}}),e)})))),h=(0,c.createAsyncThunk)("".concat(l,"/closeWallet"),(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!1});case 1:case"end":return e.stop()}}),e)})))),x=(0,c.createAsyncThunk)("".concat(l,"/connectWallet"),function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Invalid wallet instance");case 2:return e.next=4,u(t);case 4:return e.next=6,t.getAddress();case 6:return n=e.sent,e.next=9,window.sentre.lamports.getLamports(n);case 9:return r=e.sent,e.abrupt("return",{address:n,lamports:BigInt(r),visible:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=(0,c.createAsyncThunk)("".concat(l,"/updateWallet"),function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lamports,e.abrupt("return",{lamports:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,c.createAsyncThunk)("".concat(l,"/disconnectWallet"),(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))),w=(0,c.createSlice)({name:l,initialState:f,reducers:{},extraReducers:function(e){e.addCase(p.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(h.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(x.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(v.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)})).addCase(m.fulfilled,(function(e,t){var n=t.payload;Object.assign(e,n)}))}});t.ZP=w.reducer},21411:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(15861),a=n(15671),s=n(43144),c=n(87757),i=n.n(c),o=n(15822),u=n(85964),d=n(67751),l=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,null,[{key:"getSingleFlight",value:function(e){var t=JSON.stringify(e);if(this.mapInstance.has(t)){var n=this.mapInstance.get(t);if(n)return n}var r=new f(e);return this.mapInstance.set(t,r),r}},{key:"load",value:function(){var t=(0,r.Z)(i().mark((function t(n,r){var a,s,c,o=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:{},"object"===typeof n&&(n=JSON.stringify(n)),s=e.getSingleFlight(a),e.mapInstance.set(n,s),c=new u.g(n),t.abrupt("return",s.load(c,r));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();l.mapInstance=new Map;var f=function(){function e(t){(0,a.Z)(this,e),this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(o.Dt,t)}return(0,s.Z)(e,[{key:"load",value:function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,a,s,c=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.U.get(t.key))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return a=!1,(s=this.mapRequestCalling.get(t.key))||(s=t,a=!0,this.mapRequestCalling.set(s.key,s)),e.abrupt("return",new Promise((function(e,t){if(!s)return t("Not found request!");s.add(e,t),a&&c.fetch(s,n)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e,t){var n=this;if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((function(t){d.U.set(e.key,t,n.config.cache),e.resolves(t)})).catch((function(t){e.rejects(t)})).finally((function(){n.mapRequestCalling.delete(e.key),n.fetchRequestQueue(t)}))}},{key:"fetchRequestQueue",value:function(e){if(this.validateLimit()){var t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}}},{key:"addRequestQueue",value:function(e,t){var n,r=this;this.requestQueue.push(e),this.intervalRequest=setInterval((function(){r.fetchRequestQueue(t)}),null===(n=this.config.limit)||void 0===n?void 0:n.time)}},{key:"validateLimit",value:function(){if(!this.config.limit)return!1;var e=this.timeLogs[0]||0,t=(new Date).getTime();return this.timeLogs.length<this.config.limit.calls||t-e>this.config.limit.time}},{key:"createTimeLogs",value:function(){var e;if(this.config.limit){var t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}}]),e}()},3007:function(e,t,n){"use strict";var r=n(37762),a=n(15861),s=n(15671),c=n(87757),i=n.n(c),o=n(15454),u=n.n(o),d=n(95418),l=n(83868),f=function e(t){var n=this;if((0,s.Z)(this,e),this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=function(e){return u().createInstance({driver:n.driver,name:n.dbName,storeName:e})},this.dropInstance=function(){var e=(0,a.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.createInstance(t),e.next=3,r.clear();case 3:return e.next=5,u().dropInstance({name:n.dbName,storeName:t});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.all=(0,a.Z)(i().mark((function e(){var t,a,s,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,n.createInstance("sentre").getItem("appIds");case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:a=e.t0.flat().concat(["sentre"]),s=(0,r.Z)(a),e.prev=8,o=i().mark((function e(){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.value,t[r]={},a=n.createInstance(r),e.next=5,a.iterate((function(e,n){t[r][n]=e}));case 5:case"end":return e.stop()}}),e)})),s.s();case 11:if((c=s.n()).done){e.next=15;break}return e.delegateYield(o(),"t1",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(8),s.e(e.t2);case 20:return e.prev=20,s.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,23]])}))),this.fetch=function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ipfs.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.backup=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.all();case 2:return t=e.sent,e.next=5,n.ipfs.set(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),this.restore=function(){var e=(0,a.Z)(i().mark((function e(t){var r,a,s,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetch(t);case 2:r=e.sent,e.t0=i().keys(r);case 4:if((e.t1=e.t0()).done){e.next=19;break}return a=e.t1.value,e.next=8,n.createInstance(a);case 8:s=e.sent,e.t2=i().keys(r[a]);case 10:if((e.t3=e.t2()).done){e.next=17;break}return c=e.t3.value,o=r[a][c],e.next=15,s.setItem(c,o);case 15:e.next=10;break;case 17:e.next=4;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!d.account.isAddress(t))throw new Error("Invalid address");this.dbName=t,this.driver=[u().WEBSQL,u().LOCALSTORAGE],this.ipfs=new l.Z};t.Z=f},63805:function(e,t,n){"use strict";n.d(t,{OB:function(){return a},ef:function(){return s}});var r=n(53933),a="production",s=function(){switch(r.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}}()},34559:function(e,t,n){"use strict";n.d(t,{sA:function(){return i},Xn:function(){return o},kU:function(){return u},uR:function(){return d}});var r=n(95418),a=n(16200),s=n.n(a),c=n(63805),i=function(e){return new Promise((function(t){return setTimeout(t,e)}))},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.substring(0,t)+n+e.substring(e.length-t,e.length)},u=function(e){return r.account.isAddress(e)?"https://explorer.solana.com/address/".concat(e,"?cluster=").concat(c.ef):"https://explorer.solana.com/tx/".concat(e,"?cluster=").concat(c.ef)},d=function(e){return e?s()(e):s()("0")}},88677:function(){},28608:function(){},34845:function(){},33370:function(){}}]);
//# sourceMappingURL=597.c2e780a9.chunk.js.map